/*! For license information please see c169b6902947a77fec05096cb4da441bfcc3d6f1-c1831989d35eb53f89dc.js.LICENSE.txt */
(self.webpackChunkproject_site=self.webpackChunkproject_site||[]).push([[217],{70:function(e){"use strict";e.exports=JSON.parse('{"layout":"constrained","placeholder":{"fallback":"data:image/webp;base64,UklGRswAAABXRUJQVlA4IMAAAADwBACdASoUABQAPtFgqU+oJSOiKAgBABoJZQC/OBCsp/Ts49BY+GEG+FUo75L9RgAA/rX/AjpFAxSt04o3tBRmP+uitY2Lssb1D+JeCHuTSyitDTwQkpysJi7p9zoUKFTBoZIZCNRCLYbKODLaeCm0bDB27QGEHa/3RWtuJqKYovbWSWDX+/1Cuu4nLN/B+IvBvil0Fls//8feMBeQ+7HxCUoXmmWs/63JwQIN+hbfJcwVnN4EM8Pb6pxtzyAAAAA="},"images":{"fallback":{"src":"/static/3e252a7a03b986b4efcd4eafb051a60a/56fa3/headshot.webp","srcSet":"/static/3e252a7a03b986b4efcd4eafb051a60a/84992/headshot.webp 230w,\\n/static/3e252a7a03b986b4efcd4eafb051a60a/e063a/headshot.webp 460w,\\n/static/3e252a7a03b986b4efcd4eafb051a60a/56fa3/headshot.webp 920w","sizes":"(min-width: 920px) 920px, 100vw"},"sources":[]},"width":920,"height":921}')},115:function(e){var t="undefined"!=typeof Element,i="function"==typeof Map,s="function"==typeof Set,n="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function r(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var o,A,l,c;if(Array.isArray(e)){if((o=e.length)!=a.length)return!1;for(A=o;0!==A--;)if(!r(e[A],a[A]))return!1;return!0}if(i&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(c=e.entries();!(A=c.next()).done;)if(!a.has(A.value[0]))return!1;for(c=e.entries();!(A=c.next()).done;)if(!r(A.value[1],a.get(A.value[0])))return!1;return!0}if(s&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(c=e.entries();!(A=c.next()).done;)if(!a.has(A.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((o=e.length)!=a.length)return!1;for(A=o;0!==A--;)if(e[A]!==a[A])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof a.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof a.toString)return e.toString()===a.toString();if((o=(l=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(A=o;0!==A--;)if(!Object.prototype.hasOwnProperty.call(a,l[A]))return!1;if(t&&e instanceof Element)return!1;for(A=o;0!==A--;)if(("_owner"!==l[A]&&"__v"!==l[A]&&"__o"!==l[A]||!e.$$typeof)&&!r(e[l[A]],a[l[A]]))return!1;return!0}return e!=e&&a!=a}e.exports=function(e,t){try{return r(e,t)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}}},655:function(e,t,i){"use strict";var s=i(6955),n=String;e.exports=function(e){if("Symbol"===s(e))throw new TypeError("Cannot convert a Symbol value to a string");return n(e)}},983:function(e,t,i){"use strict";i.d(t,{Qq:function(){return n},Tp:function(){return s},XZ:function(){return r},Z7:function(){return a}});const s="#1B282A",n="#E2E3E4",r="#416883",a="#111b1c"},2098:function(e,t,i){"use strict";var s,n=i(6540),r=(s=n)&&"object"==typeof s&&"default"in s?s.default:s;function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,i){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==i&&"function"!=typeof i)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(s){if("function"!=typeof s)throw new Error("Expected WrappedComponent to be a React component.");var A,l=[];function c(){A=e(l.map(function(e){return e.props})),h.canUseDOM?t(A):i&&(A=i(A))}var h=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,n.peek=function(){return A},n.rewind=function(){if(n.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=A;return A=void 0,l=[],e};var a=n.prototype;return a.UNSAFE_componentWillMount=function(){l.push(this),c()},a.componentDidUpdate=function(){c()},a.componentWillUnmount=function(){var e=l.indexOf(this);l.splice(e,1),c()},a.render=function(){return r.createElement(s,this.props)},n}(n.PureComponent);return a(h,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(s)+")"),a(h,"canUseDOM",o),h}}},2140:function(e,t,i){"use strict";var s={};s[i(8227)("toStringTag")]="z",e.exports="[object z]"===String(s)},2217:function(e,t,i){"use strict";var s=i(9039);e.exports=function(e,t){var i=[][e];return!!i&&s(function(){i.call(null,t||function(){return 1},1)})}},2495:function(e){var t;t=function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¬¢":"cent","¬£":"pound","¬§":"currency","¬•":"yen","¬©":"(c)","¬™":"a","¬Æ":"(r)","¬∫":"o","√Ä":"A","√Å":"A","√Ç":"A","√É":"A","√Ñ":"A","√Ö":"A","√Ü":"AE","√á":"C","√à":"E","√â":"E","√ä":"E","√ã":"E","√å":"I","√ç":"I","√é":"I","√è":"I","√ê":"D","√ë":"N","√í":"O","√ì":"O","√î":"O","√ï":"O","√ñ":"O","√ò":"O","√ô":"U","√ö":"U","√õ":"U","√ú":"U","√ù":"Y","√û":"TH","√ü":"ss","√†":"a","√°":"a","√¢":"a","√£":"a","√§":"a","√•":"a","√¶":"ae","√ß":"c","√®":"e","√©":"e","√™":"e","√´":"e","√¨":"i","√≠":"i","√Æ":"i","√Ø":"i","√∞":"d","√±":"n","√≤":"o","√≥":"o","√¥":"o","√µ":"o","√∂":"o","√∏":"o","√π":"u","√∫":"u","√ª":"u","√º":"u","√Ω":"y","√æ":"th","√ø":"y","ƒÄ":"A","ƒÅ":"a","ƒÇ":"A","ƒÉ":"a","ƒÑ":"A","ƒÖ":"a","ƒÜ":"C","ƒá":"c","ƒå":"C","ƒç":"c","ƒé":"D","ƒè":"d","ƒê":"DJ","ƒë":"dj","ƒí":"E","ƒì":"e","ƒñ":"E","ƒó":"e","ƒò":"e","ƒô":"e","ƒö":"E","ƒõ":"e","ƒû":"G","ƒü":"g","ƒ¢":"G","ƒ£":"g","ƒ®":"I","ƒ©":"i","ƒ™":"i","ƒ´":"i","ƒÆ":"I","ƒØ":"i","ƒ∞":"I","ƒ±":"i","ƒ∂":"k","ƒ∑":"k","ƒª":"L","ƒº":"l","ƒΩ":"L","ƒæ":"l","≈Å":"L","≈Ç":"l","≈É":"N","≈Ñ":"n","≈Ö":"N","≈Ü":"n","≈á":"N","≈à":"n","≈å":"O","≈ç":"o","≈ê":"O","≈ë":"o","≈í":"OE","≈ì":"oe","≈î":"R","≈ï":"r","≈ò":"R","≈ô":"r","≈ö":"S","≈õ":"s","≈û":"S","≈ü":"s","≈†":"S","≈°":"s","≈¢":"T","≈£":"t","≈§":"T","≈•":"t","≈®":"U","≈©":"u","≈™":"u","≈´":"u","≈Æ":"U","≈Ø":"u","≈∞":"U","≈±":"u","≈≤":"U","≈≥":"u","≈¥":"W","≈µ":"w","≈∂":"Y","≈∑":"y","≈∏":"Y","≈π":"Z","≈∫":"z","≈ª":"Z","≈º":"z","≈Ω":"Z","≈æ":"z","∆è":"E","∆í":"f","∆†":"O","∆°":"o","∆Ø":"U","∆∞":"u","«à":"LJ","«â":"lj","«ã":"NJ","«å":"nj","»ò":"S","»ô":"s","»ö":"T","»õ":"t","…ô":"e","Àö":"o","ŒÜ":"A","Œà":"E","Œâ":"H","Œä":"I","Œå":"O","Œé":"Y","Œè":"W","Œê":"i","Œë":"A","Œí":"B","Œì":"G","Œî":"D","Œï":"E","Œñ":"Z","Œó":"H","Œò":"8","Œô":"I","Œö":"K","Œõ":"L","Œú":"M","Œù":"N","Œû":"3","Œü":"O","Œ†":"P","Œ°":"R","Œ£":"S","Œ§":"T","Œ•":"Y","Œ¶":"F","Œß":"X","Œ®":"PS","Œ©":"W","Œ™":"I","Œ´":"Y","Œ¨":"a","Œ≠":"e","ŒÆ":"h","ŒØ":"i","Œ∞":"y","Œ±":"a","Œ≤":"b","Œ≥":"g","Œ¥":"d","Œµ":"e","Œ∂":"z","Œ∑":"h","Œ∏":"8","Œπ":"i","Œ∫":"k","Œª":"l","Œº":"m","ŒΩ":"n","Œæ":"3","Œø":"o","œÄ":"p","œÅ":"r","œÇ":"s","œÉ":"s","œÑ":"t","œÖ":"y","œÜ":"f","œá":"x","œà":"ps","œâ":"w","œä":"i","œã":"y","œå":"o","œç":"y","œé":"w","–Å":"Yo","–Ç":"DJ","–Ñ":"Ye","–Ü":"I","–á":"Yi","–à":"J","–â":"LJ","–ä":"NJ","–ã":"C","–è":"DZ","–ê":"A","–ë":"B","–í":"V","–ì":"G","–î":"D","–ï":"E","–ñ":"Zh","–ó":"Z","–ò":"I","–ô":"J","–ö":"K","–õ":"L","–ú":"M","–ù":"N","–û":"O","–ü":"P","–†":"R","–°":"S","–¢":"T","–£":"U","–§":"F","–•":"H","–¶":"C","–ß":"Ch","–®":"Sh","–©":"Sh","–™":"U","–´":"Y","–¨":"","–≠":"E","–Æ":"Yu","–Ø":"Ya","–∞":"a","–±":"b","–≤":"v","–≥":"g","–¥":"d","–µ":"e","–∂":"zh","–∑":"z","–∏":"i","–π":"j","–∫":"k","–ª":"l","–º":"m","–Ω":"n","–æ":"o","–ø":"p","—Ä":"r","—Å":"s","—Ç":"t","—É":"u","—Ñ":"f","—Ö":"h","—Ü":"c","—á":"ch","—à":"sh","—â":"sh","—ä":"u","—ã":"y","—å":"","—ç":"e","—é":"yu","—è":"ya","—ë":"yo","—í":"dj","—î":"ye","—ñ":"i","—ó":"yi","—ò":"j","—ô":"lj","—ö":"nj","—õ":"c","—ù":"u","—ü":"dz","“ê":"G","“ë":"g","“í":"GH","“ì":"gh","“ö":"KH","“õ":"kh","“¢":"NG","“£":"ng","“Æ":"UE","“Ø":"ue","“∞":"U","“±":"u","“∫":"H","“ª":"h","”ò":"AE","”ô":"ae","”®":"OE","”©":"oe","‘±":"A","‘≤":"B","‘≥":"G","‘¥":"D","‘µ":"E","‘∂":"Z","‘∑":"E\'","‘∏":"Y\'","‘π":"T\'","‘∫":"JH","‘ª":"I","‘º":"L","‘Ω":"X","‘æ":"C\'","‘ø":"K","’Ä":"H","’Å":"D\'","’Ç":"GH","’É":"TW","’Ñ":"M","’Ö":"Y","’Ü":"N","’á":"SH","’â":"CH","’ä":"P","’ã":"J","’å":"R\'","’ç":"S","’é":"V","’è":"T","’ê":"R","’ë":"C","’ì":"P\'","’î":"Q\'","’ï":"O\'\'","’ñ":"F","÷á":"EV","ÿ°":"a","ÿ¢":"aa","ÿ£":"a","ÿ§":"u","ÿ•":"i","ÿ¶":"e","ÿß":"a","ÿ®":"b","ÿ©":"h","ÿ™":"t","ÿ´":"th","ÿ¨":"j","ÿ≠":"h","ÿÆ":"kh","ÿØ":"d","ÿ∞":"th","ÿ±":"r","ÿ≤":"z","ÿ≥":"s","ÿ¥":"sh","ÿµ":"s","ÿ∂":"dh","ÿ∑":"t","ÿ∏":"z","ÿπ":"a","ÿ∫":"gh","ŸÅ":"f","ŸÇ":"q","ŸÉ":"k","ŸÑ":"l","ŸÖ":"m","ŸÜ":"n","Ÿá":"h","Ÿà":"w","Ÿâ":"a","Ÿä":"y","Ÿã":"an","Ÿå":"on","Ÿç":"en","Ÿé":"a","Ÿè":"u","Ÿê":"e","Ÿí":"","Ÿ†":"0","Ÿ°":"1","Ÿ¢":"2","Ÿ£":"3","Ÿ§":"4","Ÿ•":"5","Ÿ¶":"6","Ÿß":"7","Ÿ®":"8","Ÿ©":"9","Ÿæ":"p","⁄Ü":"ch","⁄ò":"zh","⁄©":"k","⁄Ø":"g","€å":"y","€∞":"0","€±":"1","€≤":"2","€≥":"3","€¥":"4","€µ":"5","€∂":"6","€∑":"7","€∏":"8","€π":"9","‡∏ø":"baht","·Éê":"a","·Éë":"b","·Éí":"g","·Éì":"d","·Éî":"e","·Éï":"v","·Éñ":"z","·Éó":"t","·Éò":"i","·Éô":"k","·Éö":"l","·Éõ":"m","·Éú":"n","·Éù":"o","·Éû":"p","·Éü":"zh","·É†":"r","·É°":"s","·É¢":"t","·É£":"u","·É§":"f","·É•":"k","·É¶":"gh","·Éß":"q","·É®":"sh","·É©":"ch","·É™":"ts","·É´":"dz","·É¨":"ts","·É≠":"ch","·ÉÆ":"kh","·ÉØ":"j","·É∞":"h","·π¢":"S","·π£":"s","·∫Ä":"W","·∫Å":"w","·∫Ç":"W","·∫É":"w","·∫Ñ":"W","·∫Ö":"w","·∫û":"SS","·∫†":"A","·∫°":"a","·∫¢":"A","·∫£":"a","·∫§":"A","·∫•":"a","·∫¶":"A","·∫ß":"a","·∫®":"A","·∫©":"a","·∫™":"A","·∫´":"a","·∫¨":"A","·∫≠":"a","·∫Æ":"A","·∫Ø":"a","·∫∞":"A","·∫±":"a","·∫≤":"A","·∫≥":"a","·∫¥":"A","·∫µ":"a","·∫∂":"A","·∫∑":"a","·∫∏":"E","·∫π":"e","·∫∫":"E","·∫ª":"e","·∫º":"E","·∫Ω":"e","·∫æ":"E","·∫ø":"e","·ªÄ":"E","·ªÅ":"e","·ªÇ":"E","·ªÉ":"e","·ªÑ":"E","·ªÖ":"e","·ªÜ":"E","·ªá":"e","·ªà":"I","·ªâ":"i","·ªä":"I","·ªã":"i","·ªå":"O","·ªç":"o","·ªé":"O","·ªè":"o","·ªê":"O","·ªë":"o","·ªí":"O","·ªì":"o","·ªî":"O","·ªï":"o","·ªñ":"O","·ªó":"o","·ªò":"O","·ªô":"o","·ªö":"O","·ªõ":"o","·ªú":"O","·ªù":"o","·ªû":"O","·ªü":"o","·ª†":"O","·ª°":"o","·ª¢":"O","·ª£":"o","·ª§":"U","·ª•":"u","·ª¶":"U","·ªß":"u","·ª®":"U","·ª©":"u","·ª™":"U","·ª´":"u","·ª¨":"U","·ª≠":"u","·ªÆ":"U","·ªØ":"u","·ª∞":"U","·ª±":"u","·ª≤":"Y","·ª≥":"y","·ª¥":"Y","·ªµ":"y","·ª∂":"Y","·ª∑":"y","·ª∏":"Y","·ªπ":"y","‚Äì":"-","‚Äò":"\'","‚Äô":"\'","‚Äú":"\\"","‚Äù":"\\"","‚Äû":"\\"","‚Ä†":"+","‚Ä¢":"*","‚Ä¶":"...","‚Ç†":"ecu","‚Ç¢":"cruzeiro","‚Ç£":"french franc","‚Ç§":"lira","‚Ç•":"mill","‚Ç¶":"naira","‚Çß":"peseta","‚Ç®":"rupee","‚Ç©":"won","‚Ç™":"new shequel","‚Ç´":"dong","‚Ç¨":"euro","‚Ç≠":"kip","‚ÇÆ":"tugrik","‚ÇØ":"drachma","‚Ç∞":"penny","‚Ç±":"peso","‚Ç≤":"guarani","‚Ç≥":"austral","‚Ç¥":"hryvnia","‚Çµ":"cedi","‚Ç∏":"kazakhstani tenge","‚Çπ":"indian rupee","‚Ç∫":"turkish lira","‚ÇΩ":"russian ruble","‚Çø":"bitcoin","‚Ñ†":"sm","‚Ñ¢":"tm","‚àÇ":"d","‚àÜ":"delta","‚àë":"sum","‚àû":"infinity","‚ô•":"love","ÂÖÉ":"yuan","ÂÜÜ":"yen","Ô∑º":"rial","Ôªµ":"laa","Ôª∑":"laa","Ôªπ":"lai","Ôªª":"la"}'),t=JSON.parse('{"bg":{"–ô":"Y","–¶":"Ts","–©":"Sht","–™":"A","–¨":"Y","–π":"y","—Ü":"ts","—â":"sht","—ä":"a","—å":"y"},"de":{"√Ñ":"AE","√§":"ae","√ñ":"OE","√∂":"oe","√ú":"UE","√º":"ue","√ü":"ss","%":"prozent","&":"und","|":"oder","‚àë":"summe","‚àû":"unendlich","‚ô•":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¬¢":"centavos","¬£":"libras","¬§":"moneda","‚Ç£":"francos","‚àë":"suma","‚àû":"infinito","‚ô•":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¬¢":"centime","¬£":"livre","¬§":"devise","‚Ç£":"franc","‚àë":"somme","‚àû":"infini","‚ô•":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¬¢":"centavo","‚àë":"soma","¬£":"libra","‚àû":"infinito","‚ô•":"amor"},"uk":{"–ò":"Y","–∏":"y","–ô":"Y","–π":"y","–¶":"Ts","—Ü":"ts","–•":"Kh","—Ö":"kh","–©":"Shch","—â":"shch","–ì":"H","–≥":"h"},"vi":{"ƒê":"D","ƒë":"d"},"da":{"√ò":"OE","√∏":"oe","√Ö":"AA","√•":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st√∏rre end"},"nb":{"&":"og","√Ö":"AA","√Ü":"AE","√ò":"OE","√•":"aa","√¶":"ae","√∏":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","√Ö":"AA","√Ñ":"AE","√ñ":"OE","√•":"aa","√§":"ae","√∂":"oe"}}');function i(i,s){if("string"!=typeof i)throw new Error("slugify: string argument expected");var n=t[(s="string"==typeof s?{replacement:s}:s||{}).locale]||{},r=void 0===s.replacement?"-":s.replacement,a=void 0===s.trim||s.trim,o=i.normalize().split("").reduce(function(t,i){var a=n[i];return void 0===a&&(a=e[i]),void 0===a&&(a=i),a===r&&(a=" "),t+a.replace(s.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return s.strict&&(o=o.replace(/[^A-Za-z0-9\s]/g,"")),a&&(o=o.trim()),o=o.replace(/\s+/g,r),s.lower&&(o=o.toLowerCase()),o}return i.extend=function(t){Object.assign(e,t)},i},e.exports=t(),e.exports.default=t()},2532:function(e,t,i){"use strict";i.d(t,{L:function(){return g},M:function(){return y},P:function(){return B},S:function(){return O},_:function(){return o},a:function(){return a},b:function(){return c},g:function(){return h},h:function(){return A}});i(6910);var s=i(6540),n=(i(2729),i(5556)),r=i.n(n);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},a.apply(this,arguments)}function o(e,t){if(null==e)return{};var i,s,n={},r=Object.keys(e);for(s=0;s<r.length;s++)t.indexOf(i=r[s])>=0||(n[i]=e[i]);return n}const A=()=>"undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;function l(e,t,i){const s={};let n="gatsby-image-wrapper";return"fixed"===i?(s.width=e,s.height=t):"constrained"===i&&(n="gatsby-image-wrapper gatsby-image-wrapper-constrained"),{className:n,"data-gatsby-image-wrapper":"",style:s}}function c(e,t,i,s,n){return void 0===n&&(n={}),a({},i,{loading:s,shouldLoad:e,"data-main-image":"",style:a({},n,{opacity:t?1:0})})}function h(e,t,i,s,n,r,o,A){const l={};r&&(l.backgroundColor=r,"fixed"===i?(l.width=s,l.height=n,l.backgroundColor=r,l.position="relative"):("constrained"===i||"fullWidth"===i)&&(l.position="absolute",l.top=0,l.left=0,l.bottom=0,l.right=0)),o&&(l.objectFit=o),A&&(l.objectPosition=A);const c=a({},e,{"aria-hidden":!0,"data-placeholder-image":"",style:a({opacity:t?0:1,transition:"opacity 500ms linear"},l)});return c}const u=["children"],d=function(e){let{layout:t,width:i,height:n}=e;return"fullWidth"===t?s.createElement("div",{"aria-hidden":!0,style:{paddingTop:n/i*100+"%"}}):"constrained"===t?s.createElement("div",{style:{maxWidth:i,display:"block"}},s.createElement("img",{alt:"",role:"presentation","aria-hidden":"true",src:"data:image/svg+xml;charset=utf-8,%3Csvg%20height='"+n+"'%20width='"+i+"'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E",style:{maxWidth:"100%",display:"block",position:"static"}})):null},g=function(e){let{children:t}=e,i=o(e,u);return s.createElement(s.Fragment,null,s.createElement(d,a({},i)),t,null)},p=["src","srcSet","loading","alt","shouldLoad"],m=["fallback","sources","shouldLoad"],f=function(e){let{src:t,srcSet:i,loading:n,alt:r="",shouldLoad:A}=e,l=o(e,p);return s.createElement("img",a({},l,{decoding:"async",loading:n,src:A?t:void 0,"data-src":A?void 0:t,srcSet:A?i:void 0,"data-srcset":A?void 0:i,alt:r}))},I=function(e){let{fallback:t,sources:i=[],shouldLoad:n=!0}=e,r=o(e,m);const A=r.sizes||(null==t?void 0:t.sizes),l=s.createElement(f,a({},r,t,{sizes:A,shouldLoad:n}));return i.length?s.createElement("picture",null,i.map(e=>{let{media:t,srcSet:i,type:r}=e;return s.createElement("source",{key:t+"-"+r+"-"+i,type:r,media:t,srcSet:n?i:void 0,"data-srcset":n?void 0:i,sizes:A})}),l):l};var E;f.propTypes={src:n.string.isRequired,alt:n.string.isRequired,sizes:n.string,srcSet:n.string,shouldLoad:n.bool},I.displayName="Picture",I.propTypes={alt:n.string.isRequired,shouldLoad:n.bool,fallback:n.exact({src:n.string.isRequired,srcSet:n.string,sizes:n.string}),sources:n.arrayOf(n.oneOfType([n.exact({media:n.string.isRequired,type:n.string,sizes:n.string,srcSet:n.string.isRequired}),n.exact({media:n.string,type:n.string.isRequired,sizes:n.string,srcSet:n.string.isRequired})]))};const C=["fallback"],B=function(e){let{fallback:t}=e,i=o(e,C);return t?s.createElement(I,a({},i,{fallback:{src:t},"aria-hidden":!0,alt:""})):s.createElement("div",a({},i))};B.displayName="Placeholder",B.propTypes={fallback:n.string,sources:null==(E=I.propTypes)?void 0:E.sources,alt:function(e,t,i){return e[t]?new Error("Invalid prop `"+t+"` supplied to `"+i+"`. Validation failed."):null}};const y=function(e){return s.createElement(s.Fragment,null,s.createElement(I,a({},e)),s.createElement("noscript",null,s.createElement(I,a({},e,{shouldLoad:!0}))))};y.displayName="MainImage",y.propTypes=I.propTypes;const w=["as","className","class","style","image","loading","imgClassName","imgStyle","backgroundColor","objectFit","objectPosition"],v=["style","className"],Q=e=>e.replace(/\n/g,""),b=function(e,t,i){for(var s=arguments.length,n=new Array(s>3?s-3:0),a=3;a<s;a++)n[a-3]=arguments[a];return e.alt||""===e.alt?r().string.apply(r(),[e,t,i].concat(n)):new Error('The "alt" prop is required in '+i+'. If the image is purely presentational then pass an empty string: e.g. alt="". Learn more: https://a11y-style-guide.com/style-guide/section-media.html')},S={image:r().object.isRequired,alt:b},x=["as","image","style","backgroundColor","className","class","onStartLoad","onLoad","onError"],M=["style","className"],R=new Set;let T,D;const L=function(e){let{as:t="div",image:n,style:r,backgroundColor:c,className:h,class:u,onStartLoad:d,onLoad:g,onError:p}=e,m=o(e,x);const{width:f,height:I,layout:E}=n,C=l(f,I,E),{style:B,className:y}=C,w=o(C,M),v=(0,s.useRef)(),Q=(0,s.useMemo)(()=>JSON.stringify(n.images),[n.images]);u&&(h=u);const b=function(e,t,i){let s="";return"fullWidth"===e&&(s='<div aria-hidden="true" style="padding-top: '+i/t*100+'%;"></div>'),"constrained"===e&&(s='<div style="max-width: '+t+'px; display: block;"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=\''+i+"'%20width='"+t+"'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E\" style=\"max-width: 100%; display: block; position: static;\"></div>"),s}(E,f,I);return(0,s.useEffect)(()=>{T||(T=i.e(108).then(i.bind(i,1108)).then(e=>{let{renderImageToString:t,swapPlaceholderImage:i}=e;return D=t,{renderImageToString:t,swapPlaceholderImage:i}}));const e=v.current.querySelector("[data-gatsby-image-ssr]");if(e&&A())return e.complete?(null==d||d({wasCached:!0}),null==g||g({wasCached:!0}),setTimeout(()=>{e.removeAttribute("data-gatsby-image-ssr")},0)):(null==d||d({wasCached:!0}),e.addEventListener("load",function t(){e.removeEventListener("load",t),null==g||g({wasCached:!0}),setTimeout(()=>{e.removeAttribute("data-gatsby-image-ssr")},0)})),void R.add(Q);if(D&&R.has(Q))return;let t,s;return T.then(e=>{let{renderImageToString:i,swapPlaceholderImage:o}=e;v.current&&(v.current.innerHTML=i(a({isLoading:!0,isLoaded:R.has(Q),image:n},m)),R.has(Q)||(t=requestAnimationFrame(()=>{v.current&&(s=o(v.current,Q,R,r,d,g,p))})))}),()=>{t&&cancelAnimationFrame(t),s&&s()}},[n]),(0,s.useLayoutEffect)(()=>{R.has(Q)&&D&&(v.current.innerHTML=D(a({isLoading:R.has(Q),isLoaded:R.has(Q),image:n},m)),null==d||d({wasCached:!0}),null==g||g({wasCached:!0}))},[n]),(0,s.createElement)(t,a({},w,{style:a({},B,r,{backgroundColor:c}),className:y+(h?" "+h:""),ref:v,dangerouslySetInnerHTML:{__html:b},suppressHydrationWarning:!0}))},k=(0,s.memo)(function(e){return e.image?(0,s.createElement)(L,e):null});k.propTypes=S,k.displayName="GatsbyImage";const F=["src","__imageData","__error","width","height","aspectRatio","tracedSVGOptions","placeholder","formats","quality","transformOptions","jpgOptions","pngOptions","webpOptions","avifOptions","blurredOptions","breakpoints","outputPixelDensities"];function _(e){return function(t){let{src:i,__imageData:n,__error:r}=t,A=o(t,F);return r&&console.warn(r),n?s.createElement(e,a({image:n},A)):(console.warn("Image not loaded",i),null)}}const U=_(function(e){let{as:t="div",className:i,class:n,style:r,image:A,loading:u="lazy",imgClassName:d,imgStyle:p,backgroundColor:m,objectFit:f,objectPosition:I}=e,E=o(e,w);if(!A)return console.warn("[gatsby-plugin-image] Missing image prop"),null;n&&(i=n),p=a({objectFit:f,objectPosition:I,backgroundColor:m},p);const{width:C,height:b,layout:S,images:x,placeholder:M,backgroundColor:R}=A,T=l(C,b,S),{style:D,className:L}=T,k=o(T,v),F={fallback:void 0,sources:[]};return x.fallback&&(F.fallback=a({},x.fallback,{srcSet:x.fallback.srcSet?Q(x.fallback.srcSet):void 0})),x.sources&&(F.sources=x.sources.map(e=>a({},e,{srcSet:Q(e.srcSet)}))),s.createElement(t,a({},k,{style:a({},D,r,{backgroundColor:m}),className:L+(i?" "+i:"")}),s.createElement(g,{layout:S,width:C,height:b},s.createElement(B,a({},h(M,!1,S,C,b,R,f,I))),s.createElement(y,a({"data-gatsby-image-ssr":"",className:d},E,c("eager"===u,!1,F,u,p)))))}),N=function(e,t){for(var i=arguments.length,s=new Array(i>2?i-2:0),n=2;n<i;n++)s[n-2]=arguments[n];return"fullWidth"!==e.layout||"width"!==t&&"height"!==t||!e[t]?r().number.apply(r(),[e,t].concat(s)):new Error('"'+t+'" '+e[t]+" may not be passed when layout is fullWidth.")},G=new Set(["fixed","fullWidth","constrained"]),P={src:r().string.isRequired,alt:b,width:N,height:N,sizes:r().string,layout:e=>{if(void 0!==e.layout&&!G.has(e.layout))return new Error("Invalid value "+e.layout+'" provided for prop "layout". Defaulting to "constrained". Valid values are "fixed", "fullWidth" or "constrained".')}};U.displayName="StaticImage",U.propTypes=P;const O=_(k);O.displayName="StaticImage",O.propTypes=P},2729:function(e){"use strict";const t=/[\p{Lu}]/u,i=/[\p{Ll}]/u,s=/^[\p{Lu}](?![\p{Lu}])/gu,n=/([\p{Alpha}\p{N}_]|$)/u,r=/[_.\- ]+/,a=new RegExp("^"+r.source),o=new RegExp(r.source+n.source,"gu"),A=new RegExp("\\d+"+n.source,"gu"),l=(e,n)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(n={pascalCase:!1,preserveConsecutiveUppercase:!1,...n},0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length)return"";const r=!1===n.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(n.locale),l=!1===n.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(n.locale);if(1===e.length)return n.pascalCase?l(e):r(e);return e!==r(e)&&(e=((e,s,n)=>{let r=!1,a=!1,o=!1;for(let A=0;A<e.length;A++){const l=e[A];r&&t.test(l)?(e=e.slice(0,A)+"-"+e.slice(A),r=!1,o=a,a=!0,A++):a&&o&&i.test(l)?(e=e.slice(0,A-1)+"-"+e.slice(A-1),o=a,a=!1,r=!0):(r=s(l)===l&&n(l)!==l,o=a,a=n(l)===l&&s(l)!==l)}return e})(e,r,l)),e=e.replace(a,""),e=n.preserveConsecutiveUppercase?((e,t)=>(s.lastIndex=0,e.replace(s,e=>t(e))))(e,r):r(e),n.pascalCase&&(e=l(e.charAt(0))+e.slice(1)),((e,t)=>(o.lastIndex=0,A.lastIndex=0,e.replace(o,(e,i)=>t(i)).replace(A,e=>t(e))))(e,l)};e.exports=l,e.exports.default=l},3329:function(e,t,i){"use strict";i.d(t,{A:function(){return a}});var s=i(6540);const n=i(2568).default.div.withConfig({displayName:"styles__Home",componentId:"sc-wbth9u-0"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]);var r=i(7580);var a=()=>s.createElement(n,null,s.createElement(r.g3,null),s.createElement(r.IK,null))},3607:function(e,t,i){"use strict";var s=i(2839).match(/AppleWebKit\/(\d+)\./);e.exports=!!s&&+s[1]},3709:function(e,t,i){"use strict";var s=i(2839).match(/firefox\/(\d+)/i);e.exports=!!s&&+s[1]},3763:function(e,t,i){"use strict";var s=i(2839);e.exports=/MSIE|Trident/.test(s)},4488:function(e,t,i){"use strict";var s=i(7680),n=Math.floor,r=function(e,t){var i=e.length;if(i<8)for(var a,o,A=1;A<i;){for(o=A,a=e[A];o&&t(e[o-1],a)>0;)e[o]=e[--o];o!==A++&&(e[o]=a)}else for(var l=n(i/2),c=r(s(e,0,l),t),h=r(s(e,l),t),u=c.length,d=h.length,g=0,p=0;g<u||p<d;)e[g+p]=g<u&&p<d?t(c[g],h[p])<=0?c[g++]:h[p++]:g<u?c[g++]:h[p++];return e};e.exports=r},4606:function(e,t,i){"use strict";var s=i(6823),n=TypeError;e.exports=function(e,t){if(!delete e[t])throw new n("Cannot delete property "+s(t)+" of "+s(e))}},6471:function(e,t,i){"use strict";i.d(t,{Hw:function(){return s},ls:function(){return n}});const s="767px",n="980px"},6910:function(e,t,i){"use strict";var s=i(6518),n=i(9504),r=i(9306),a=i(8981),o=i(6198),A=i(4606),l=i(655),c=i(9039),h=i(4488),u=i(2217),d=i(3709),g=i(3763),p=i(9519),m=i(3607),f=[],I=n(f.sort),E=n(f.push),C=c(function(){f.sort(void 0)}),B=c(function(){f.sort(null)}),y=u("sort"),w=!c(function(){if(p)return p<70;if(!(d&&d>3)){if(g)return!0;if(m)return m<603;var e,t,i,s,n="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(s=0;s<47;s++)f.push({k:t+s,v:i})}for(f.sort(function(e,t){return t.v-e.v}),s=0;s<f.length;s++)t=f[s].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}});s({target:"Array",proto:!0,forced:C||!B||!y||!w},{sort:function(e){void 0!==e&&r(e);var t=a(this);if(w)return void 0===e?I(t):I(t,e);var i,s,n=[],c=o(t);for(s=0;s<c;s++)s in t&&E(n,t[s]);for(h(n,function(e){return function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:l(t)>l(i)?1:-1}}(e)),i=o(n),s=0;s<i;)t[s]=n[s++];for(;s<c;)A(t,s++);return t}})},6923:function(e,t,i){"use strict";i.d(t,{A:function(){return D}});var s={};i.r(s),i.d(s,{A:function(){return p},H1:function(){return w},H2:function(){return v},H3:function(){return Q},Hr:function(){return b},Img:function(){return C},Li:function(){return y},Ol:function(){return I},P:function(){return E},Pre:function(){return B},StyledLink:function(){return m},Summary:function(){return S},Ul:function(){return f}});var n=i(6540),r=i(7580),a=i(2568),o=i(9839);const A=(0,a.createGlobalStyle)(["html{margin:0;padding:0;background-color:",";max-width:100vw;}body{min-height:100vh;margin:0;padding:0;max-width:100vw;background-color:",";color:",";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}div{-webkit-tap-highlight-color:rgba(255,255,255,0);}::selection{background:",";color:",";}"],o.Jy.Tp,o.Jy.Tp,o.Jy.Qq,o.Jy.XZ,o.Jy.Qq);var l=i(9771),c=i(8453),h=i(2495),u=i.n(h),d=i(6462),g=i(4810);const p=a.default.a.withConfig({displayName:"styles__A",componentId:"sc-lopyti-0"})(["text-decoration:underline;color:",";"],o.Jy.Qq),m=(0,a.default)(g.Link).withConfig({displayName:"styles__StyledLink",componentId:"sc-lopyti-1"})(["color:",";"],o.Jy.Qq),f=a.default.ul.withConfig({displayName:"styles__Ul",componentId:"sc-lopyti-2"})(["",";margin-top:0;padding-left:130px;@media (max-width:","){padding:0 6vw 0 17vw;}"],o.Xe.d,o.Rp.Hw),I=a.default.ol.withConfig({displayName:"styles__Ol",componentId:"sc-lopyti-3"})(["",";margin-top:0;padding-left:130px;@media (max-width:","){padding:0 6vw 0 17vw;}"],o.Xe.d,o.Rp.Hw),E=a.default.p.withConfig({displayName:"styles__P",componentId:"sc-lopyti-4"})(["",";font-size:16px;margin-bottom:.5rem;color:",";@media (min-width:","){font-size:18px;line-height:28px;}code{font-size:15px;background-color:",";padding:3px 6px;border-radius:2px;}"],o.Xe.d,o.Jy.Qq,o.Rp.Hw,o.Jy.Tp),C=a.default.img.withConfig({displayName:"styles__Img",componentId:"sc-lopyti-5"})(["max-width:100%;display:block;box-shadow:none !important;"]),B=a.default.pre.withConfig({displayName:"styles__Pre",componentId:"sc-lopyti-6"})(["margin-top:0;"]),y=a.default.li.withConfig({displayName:"styles__Li",componentId:"sc-lopyti-7"})(["font-size:16px;margin-bottom:1rem;color:",";@media (min-width:","){font-size:18px;}p,","{padding:0;}"],o.Jy.Qq,o.Rp.Hw,B),w=a.default.h1.withConfig({displayName:"styles__H1",componentId:"sc-lopyti-8"})(["",";color:",";"],o.Xe.d,o.Jy.Qq),v=a.default.h2.withConfig({displayName:"styles__H2",componentId:"sc-lopyti-9"})(["",";margin:3rem 0 1rem 0;@media (min-width:","){margin:4rem 0 2rem 0;}"],o.Xe.d,o.Rp.Hw),Q=a.default.h3.withConfig({displayName:"styles__H3",componentId:"sc-lopyti-10"})(["",";margin:2rem 0 0.5rem 0;@media (min-width:","){margin:2rem 0 1rem 0;}"],o.Xe.d,o.Rp.Hw),b=a.default.hr.withConfig({displayName:"styles__Hr",componentId:"sc-lopyti-11"})(["background-color:",";border:0;height:1px;margin:60px 0;"],o.Jy.Tp),S=a.default.summary.withConfig({displayName:"styles__Summary",componentId:"sc-lopyti-12"})(["",";margin-bottom:20px;padding-top:6px;padding-bottom:6px;cursor:pointer;transition:all 200ms ease;font-weight:",";&:focus:not(.focus-visible){outline:none;box-shadow:none;}"],o.Xe.d,o.ZU.NM.medium),x=e=>t=>{const i=s[e],r=u()(t.children.toString()).toLowerCase(),a=(0,d.useLocation)();return n.createElement(i,Object.assign({},t,{id:r}),n.createElement(m,{to:a.pathname+"#"+r},t.children))};var M={p:E,img:C,h1:w,h2:x("H2"),h3:x("H3"),a:e=>n.createElement(p,e),li:e=>n.createElement(y,e),ul:e=>n.createElement(f,e),ol:e=>n.createElement(I,e),hr:b,pre:B,summary:S};const R=a.default.div.withConfig({displayName:"style__Wrap",componentId:"sc-15v6f8q-0"})(["display:flex;flex-direction:column;align-items:center;min-height:100vh;z-index:2;position:relative;"]),T=e=>n.createElement(n.Fragment,null,n.createElement("title",null,e.pageTitle),n.createElement(r.G$,null),n.createElement(A,null),n.createElement(l.yt,null),n.createElement(R,null,n.createElement(c.xA,{components:M},n.createElement(r.Y9,null),e.children,n.createElement(r.wi,null))));var D=e=>{const t=T;return n.createElement(t,e)}},6955:function(e,t,i){"use strict";var s=i(2140),n=i(4901),r=i(2195),a=i(8227)("toStringTag"),o=Object,A="Arguments"===r(function(){return arguments}());e.exports=s?r:function(e){var t,i,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(i){}}(t=o(e),a))?i:A?r(t):"Object"===(s=r(t))&&n(t.callee)?"Arguments":s}},7580:function(e,t,i){"use strict";i.d(t,{IK:function(){return g},wi:function(){return au},Y9:function(){return Wh},g3:function(){return Vh},so:function(){return su},G$:function(){return bd},IN:function(){return Iu},Po:function(){return cu}});i(3329);var s=i(6540),n=i(2568),r=i(9839);const a=n.default.div.withConfig({displayName:"styles__Blurb",componentId:"sc-idb19s-0"})(["float:center;margin-top:10vh;height:100%;position:relative;align-items:center;padding:100px 0 160px 0;overflow:hidden;display:inline-flex;@media(min-width:","){margin-left:10%;margin-right:10%;}"],r.Rp.ls),o=(n.default.h1.withConfig({displayName:"styles__H1",componentId:"sc-idb19s-1"})(["color:",""],r.Jy.Qq),n.default.p.withConfig({displayName:"styles__P",componentId:"sc-idb19s-2"})(["color:",";font-size:1.2em;"],r.Jy.Qq),n.default.div.withConfig({displayName:"styles__ContentWrap",componentId:"sc-idb19s-3"})(["display:flex;margin:0 0 70px 0;flex-direction:column-reverse;align-items:center;@media(min-width:","){flex-direction:row;margin:0 0 106px 0;}"],r.Rp.ls)),A=n.default.div.withConfig({displayName:"styles__LeftCol",componentId:"sc-idb19s-4"})(["width:66%;flex-shrink:1;float:left;display:block;@media(max-width:","){width:auto;margin-top:0;margin-left:5%;margin-right:5%;flex-shrink:1;}"],r.Rp.Hw),l=n.default.div.withConfig({displayName:"styles__RightCol",componentId:"sc-idb19s-5"})(["width:33%;flex-shrink:0;float:right;display:flex;@media(max-width:","){width:80vw;margin-top:0;margin-left:5%;margin-right:5%;flex-shrink:1;}"],r.Rp.Hw);var c=i(2532),h=i(8453);function u(e){const t=Object.assign({h1:"h1",p:"p",a:"a",h2:"h2"},(0,h.RP)(),e.components);return s.createElement(s.Fragment,null,s.createElement(t.h1,null,"Hi! I'm Peter"),"\n",s.createElement(t.p,null,"I made this website to show a model of me ",s.createElement(t.a,{href:"https://roblox-bloody-battle.fandom.com/wiki/T-Pose"},"T-Posing")," üëç"),"\n",s.createElement(t.p,null,"I like adding links to trick ",s.createElement(t.a,{href:"https://www.bing.com"},s.createElement("strike",null,"Google")," Bing")," into thinking I have a better website, and adding buzzwords to pad out sentence length."),"\n",s.createElement(t.h2,null,"About Me"),"\n",s.createElement(t.p,null,"I'm a recent graduate from the ",s.createElement(t.a,{href:"https://www.washington.edu/"},"University of Washington")," with a ",s.createElement(t.a,{href:"https://www.cs.washington.edu/academics/ugrad"},"B.S. in Computer Engineering"),", and a new ",s.createElement(t.a,{href:"https://www.coursera.org/articles/software-engineer"},"software engineer")," at ",s.createElement(t.a,{href:"https://www.microsoft.com/en-us/"},"Microsoft")," working on ",s.createElement(t.a,{href:"https://www.bluetooth.com/learn-about-bluetooth/recent-enhancements/le-audio/"},"Bluetooth Audio")," support for the ",s.createElement(t.a,{href:"https://en.wikipedia.org/wiki/Microsoft_Windows"},"Windows")," platform."),"\n",s.createElement(t.p,null,"I enjoy working with ",s.createElement(t.a,{href:"https://www.raspberrypi.com/"},"hardware")," and ",s.createElement(t.a,{href:"https://en.wikipedia.org/wiki/Blue_screen_of_death"},"systems level code"),". I led the ",s.createElement(t.a,{href:"https://uwrov.org/"},"UWROV")," software team for two years, where I transitioned our control system into ",s.createElement(t.a,{href:"http://wiki.ros.org/"},"ROS")," and created a ",s.createElement(t.a,{href:"https://www.docker.com/"},"containerized development environment")," to make ",s.createElement(t.a,{href:"https://coronavirus.wa.gov/"},"asynchronous collaboration")," easier."),"\n",s.createElement(t.p,null,"I'm a ",s.createElement(t.a,{href:"https://cdn.vox-cdn.com/thumbor/RM80m2o4h6iJfeLFVmgQugSwRBw=/0x0:1920x1080/920x613/filters:focal(802x210:1108x516):format(webp)/cdn.vox-cdn.com/uploads/chorus_image/image/57555003/cyborg.0.png"},"technologist at heart"),", and am very excited to see and learn how ",s.createElement(t.a,{href:"https://www.bbc.com/news/world-us-canada-50167812"},"new technologies")," can be used to make our ",s.createElement(t.a,{href:"https://www.stby.eu/wp_15/wp-content/uploads/2016/09/Wall-E-2-fat-humans-1024x426.jpg"},"lives easier"),"."))}var d=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,h.RP)(),e.components);return t?s.createElement(t,e,s.createElement(u,e)):u(e)};var g=()=>s.createElement(a,null,s.createElement(o,null,s.createElement(A,null,s.createElement(d,null)),s.createElement(l,null,s.createElement(c.S,{src:"../../images/headshot.webp",alt:"Peter Gunarso smiling in front of the Ballard Locks",placeholder:"blurred",layout:"constrained",imgStyle:{borderRadius:"50%"},__imageData:i(70)}))));const p=n.default.div.withConfig({displayName:"styles__ModelViewerContainer",componentId:"sc-nncdsi-0"})(["width:85vw;height:100%;margin-top:10vh;position:sticky;justify-content:center;align-items:center;background-color:",";"],r.Jy.Qq),m=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(i){i.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}};function f(e){return(t,i)=>void 0!==i?((e,t,i)=>{t.constructor.createProperty(i,e)})(e,t,i):m(e,t)}var I;null===(I=window.HTMLSlotElement)||void 0===I||I.prototype.assignedElements;var E=i(9437);const C=window,B=C.ShadowRoot&&(void 0===C.ShadyCSS||C.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,y=Symbol(),w=new WeakMap;class v{constructor(e,t,i){if(this._$cssResult$=!0,i!==y)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(B&&void 0===e){const i=void 0!==t&&1===t.length;i&&(e=w.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&w.set(t,e))}return e}toString(){return this.cssText}}const Q=B?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const i of e.cssRules)t+=i.cssText;return(e=>new v("string"==typeof e?e:e+"",void 0,y))(t)})(e):e;var b;const S=window,x=S.trustedTypes,M=x?x.emptyScript:"",R=S.reactiveElementPolyfillSupport,T={toAttribute(e,t){switch(t){case Boolean:e=e?M:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch(e){i=null}}return i}},D=(e,t)=>t!==e&&(t==t||e==e),L={attribute:!0,type:String,converter:T,reflect:!1,hasChanged:D},k="finalized";class F extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((t,i)=>{const s=this._$Ep(i,t);void 0!==s&&(this._$Ev.set(s,i),e.push(s))}),e}static createProperty(e,t=L){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const i="symbol"==typeof e?Symbol():"__"+e,s=this.getPropertyDescriptor(e,i,t);void 0!==s&&Object.defineProperty(this.prototype,e,s)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(s){const n=this[e];this[t]=s,this.requestUpdate(e,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||L}static finalize(){if(this.hasOwnProperty(k))return!1;this[k]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const i of t)this.createProperty(i,e[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const e of i)t.unshift(Q(e))}else void 0!==e&&t.push(Q(e));return t}static _$Ep(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach(e=>e(this))}addController(e){var t,i;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(i=e.hostConnected)||void 0===i||i.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{B?e.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet):t.forEach(t=>{const i=document.createElement("style"),s=C.litNonce;void 0!==s&&i.setAttribute("nonce",s),i.textContent=t.cssText,e.appendChild(i)})})(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach(e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)})}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach(e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)})}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EO(e,t,i=L){var s;const n=this.constructor._$Ep(e,i);if(void 0!==n&&!0===i.reflect){const r=(void 0!==(null===(s=i.converter)||void 0===s?void 0:s.toAttribute)?i.converter:T).toAttribute(t,i.type);this._$El=e,null==r?this.removeAttribute(n):this.setAttribute(n,r),this._$El=null}}_$AK(e,t){var i;const s=this.constructor,n=s._$Ev.get(e);if(void 0!==n&&this._$El!==n){const e=s.getPropertyOptions(n),r="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(i=e.converter)||void 0===i?void 0:i.fromAttribute)?e.converter:T;this._$El=n,this[n]=r.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,i){let s=!0;void 0!==e&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||D)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===i.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,i))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((e,t)=>this[t]=e),this._$Ei=void 0);let t=!1;const i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),null===(e=this._$ES)||void 0===e||e.forEach(e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)}),this.update(i)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(i)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach(e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach((e,t)=>this._$EO(t,this[t],e)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}var _;F[k]=!0,F.elementProperties=new Map,F.elementStyles=[],F.shadowRootOptions={mode:"open"},null==R||R({ReactiveElement:F}),(null!==(b=S.reactiveElementVersions)&&void 0!==b?b:S.reactiveElementVersions=[]).push("1.6.3");const U=window,N=U.trustedTypes,G=N?N.createPolicy("lit-html",{createHTML:e=>e}):void 0,P="$lit$",O=`lit$${(Math.random()+"").slice(9)}$`,H="?"+O,q=`<${H}>`,J=document,V=()=>J.createComment(""),j=e=>null===e||"object"!=typeof e&&"function"!=typeof e,Y=Array.isArray,K=e=>Y(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]),z="[ \t\n\f\r]",$=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,W=/-->/g,X=/>/g,Z=RegExp(`>|${z}(?:([^\\s"'>=/]+)(${z}*=${z}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),ee=/'/g,te=/"/g,ie=/^(?:script|style|textarea|title)$/i,se=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),ne=se(1),re=(se(2),Symbol.for("lit-noChange")),ae=Symbol.for("lit-nothing"),oe=new WeakMap,Ae=J.createTreeWalker(J,129,null,!1);function le(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==G?G.createHTML(t):t}const ce=(e,t)=>{const i=e.length-1,s=[];let n,r=2===t?"<svg>":"",a=$;for(let o=0;o<i;o++){const t=e[o];let i,A,l=-1,c=0;for(;c<t.length&&(a.lastIndex=c,A=a.exec(t),null!==A);)c=a.lastIndex,a===$?"!--"===A[1]?a=W:void 0!==A[1]?a=X:void 0!==A[2]?(ie.test(A[2])&&(n=RegExp("</"+A[2],"g")),a=Z):void 0!==A[3]&&(a=Z):a===Z?">"===A[0]?(a=null!=n?n:$,l=-1):void 0===A[1]?l=-2:(l=a.lastIndex-A[2].length,i=A[1],a=void 0===A[3]?Z:'"'===A[3]?te:ee):a===te||a===ee?a=Z:a===W||a===X?a=$:(a=Z,n=void 0);const h=a===Z&&e[o+1].startsWith("/>")?" ":"";r+=a===$?t+q:l>=0?(s.push(i),t.slice(0,l)+P+t.slice(l)+O+h):t+O+(-2===l?(s.push(void 0),o):h)}return[le(e,r+(e[i]||"<?>")+(2===t?"</svg>":"")),s]};class he{constructor({strings:e,_$litType$:t},i){let s;this.parts=[];let n=0,r=0;const a=e.length-1,o=this.parts,[A,l]=ce(e,t);if(this.el=he.createElement(A,i),Ae.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(s=Ae.nextNode())&&o.length<a;){if(1===s.nodeType){if(s.hasAttributes()){const e=[];for(const t of s.getAttributeNames())if(t.endsWith(P)||t.startsWith(O)){const i=l[r++];if(e.push(t),void 0!==i){const e=s.getAttribute(i.toLowerCase()+P).split(O),t=/([.?@])?(.*)/.exec(i);o.push({type:1,index:n,name:t[2],strings:e,ctor:"."===t[1]?me:"?"===t[1]?Ie:"@"===t[1]?Ee:pe})}else o.push({type:6,index:n})}for(const t of e)s.removeAttribute(t)}if(ie.test(s.tagName)){const e=s.textContent.split(O),t=e.length-1;if(t>0){s.textContent=N?N.emptyScript:"";for(let i=0;i<t;i++)s.append(e[i],V()),Ae.nextNode(),o.push({type:2,index:++n});s.append(e[t],V())}}}else if(8===s.nodeType)if(s.data===H)o.push({type:2,index:n});else{let e=-1;for(;-1!==(e=s.data.indexOf(O,e+1));)o.push({type:7,index:n}),e+=O.length-1}n++}}static createElement(e,t){const i=J.createElement("template");return i.innerHTML=e,i}}function ue(e,t,i=e,s){var n,r,a,o;if(t===re)return t;let A=void 0!==s?null===(n=i._$Co)||void 0===n?void 0:n[s]:i._$Cl;const l=j(t)?void 0:t._$litDirective$;return(null==A?void 0:A.constructor)!==l&&(null===(r=null==A?void 0:A._$AO)||void 0===r||r.call(A,!1),void 0===l?A=void 0:(A=new l(e),A._$AT(e,i,s)),void 0!==s?(null!==(a=(o=i)._$Co)&&void 0!==a?a:o._$Co=[])[s]=A:i._$Cl=A),void 0!==A&&(t=ue(e,A._$AS(e,t.values),A,s)),t}class de{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:i},parts:s}=this._$AD,n=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:J).importNode(i,!0);Ae.currentNode=n;let r=Ae.nextNode(),a=0,o=0,A=s[0];for(;void 0!==A;){if(a===A.index){let t;2===A.type?t=new ge(r,r.nextSibling,this,e):1===A.type?t=new A.ctor(r,A.name,A.strings,this,e):6===A.type&&(t=new Ce(r,this,e)),this._$AV.push(t),A=s[++o]}a!==(null==A?void 0:A.index)&&(r=Ae.nextNode(),a++)}return Ae.currentNode=J,n}v(e){let t=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class ge{constructor(e,t,i,s){var n;this.type=2,this._$AH=ae,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=s,this._$Cp=null===(n=null==s?void 0:s.isConnected)||void 0===n||n}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=ue(this,e,t),j(e)?e===ae||null==e||""===e?(this._$AH!==ae&&this._$AR(),this._$AH=ae):e!==this._$AH&&e!==re&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):K(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==ae&&j(this._$AH)?this._$AA.nextSibling.data=e:this.$(J.createTextNode(e)),this._$AH=e}g(e){var t;const{values:i,_$litType$:s}=e,n="number"==typeof s?this._$AC(e):(void 0===s.el&&(s.el=he.createElement(le(s.h,s.h[0]),this.options)),s);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===n)this._$AH.v(i);else{const e=new de(n,this),t=e.u(this.options);e.v(i),this.$(t),this._$AH=e}}_$AC(e){let t=oe.get(e.strings);return void 0===t&&oe.set(e.strings,t=new he(e)),t}T(e){Y(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,s=0;for(const n of e)s===t.length?t.push(i=new ge(this.k(V()),this.k(V()),this,this.options)):i=t[s],i._$AI(n),s++;s<t.length&&(this._$AR(i&&i._$AB.nextSibling,s),t.length=s)}_$AR(e=this._$AA.nextSibling,t){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class pe{constructor(e,t,i,s,n){this.type=1,this._$AH=ae,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=ae}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,i,s){const n=this.strings;let r=!1;if(void 0===n)e=ue(this,e,t,0),r=!j(e)||e!==this._$AH&&e!==re,r&&(this._$AH=e);else{const s=e;let a,o;for(e=n[0],a=0;a<n.length-1;a++)o=ue(this,s[i+a],t,a),o===re&&(o=this._$AH[a]),r||(r=!j(o)||o!==this._$AH[a]),o===ae?e=ae:e!==ae&&(e+=(null!=o?o:"")+n[a+1]),this._$AH[a]=o}r&&!s&&this.j(e)}j(e){e===ae?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class me extends pe{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ae?void 0:e}}const fe=N?N.emptyScript:"";class Ie extends pe{constructor(){super(...arguments),this.type=4}j(e){e&&e!==ae?this.element.setAttribute(this.name,fe):this.element.removeAttribute(this.name)}}class Ee extends pe{constructor(e,t,i,s,n){super(e,t,i,s,n),this.type=5}_$AI(e,t=this){var i;if((e=null!==(i=ue(this,e,t,0))&&void 0!==i?i:ae)===re)return;const s=this._$AH,n=e===ae&&s!==ae||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,r=e!==ae&&(s===ae||n);n&&this.element.removeEventListener(this.name,this,s),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==i?i:this.element,e):this._$AH.handleEvent(e)}}class Ce{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){ue(this,e)}}const Be=U.litHtmlPolyfillSupport;null==Be||Be(he,ge),(null!==(_=U.litHtmlVersions)&&void 0!==_?_:U.litHtmlVersions=[]).push("2.8.0");const ye=(e,t,i)=>{var s,n;const r=null!==(s=null==i?void 0:i.renderBefore)&&void 0!==s?s:t;let a=r._$litPart$;if(void 0===a){const e=null!==(n=null==i?void 0:i.renderBefore)&&void 0!==n?n:null;r._$litPart$=a=new ge(t.insertBefore(V(),e),e,void 0,null!=i?i:{})}return a._$AI(e),a};var we,ve;class Qe extends F{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const i=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=ye(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return re}}Qe.finalized=!0,Qe._$litElement$=!0,null===(we=globalThis.litElementHydrateSupport)||void 0===we||we.call(globalThis,{LitElement:Qe});const be=globalThis.litElementPolyfillSupport;null==be||be({LitElement:Qe});(null!==(ve=globalThis.litElementVersions)&&void 0!==ve?ve:globalThis.litElementVersions=[]).push("3.3.3");const Se=null!=navigator.xr&&null!=self.XRSession&&null!=navigator.xr.isSessionSupported,xe=Se&&null!=self.XRSession.prototype.requestHitTestSource,Me=null!=self.ResizeObserver,Re=null!=self.IntersectionObserver,Te=xe,De=((()=>{const e=navigator.userAgent||navigator.vendor||self.opera;let t=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)})(),/\bCrOS\b/.test(navigator.userAgent),/android/i.test(navigator.userAgent)),Le=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!self.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,ke=(/Safari\//.test(navigator.userAgent),/firefox/i.test(navigator.userAgent)),Fe=/OculusBrowser/.test(navigator.userAgent),_e=(Le&&/CriOS\//.test(navigator.userAgent),De&&!ke&&!Fe),Ue=Boolean(window.webkit&&window.webkit.messageHandlers),Ne=(()=>{if(Le){if(Ue)return Boolean(/CriOS\/|EdgiOS\/|FxiOS\/|GSA\/|DuckDuckGo\//.test(navigator.userAgent));{const e=document.createElement("a");return Boolean(e.relList&&e.relList.supports&&e.relList.supports("ar"))}}return!1})(),Ge=e=>e&&"null"!==e?Oe(e):null,Pe=()=>{if(Te)return;const e=[];throw Se||e.push("WebXR Device API"),xe||e.push("WebXR Hit Test API"),new Error(`The following APIs are required for AR, but are missing in this browser: ${e.join(", ")}`)},Oe=e=>new URL(e,window.location.toString()).toString(),He=(e,t)=>{let i=null;return(...s)=>{null!=i&&self.clearTimeout(i),i=self.setTimeout(()=>{i=null,e(...s)},t)}},qe=(e,t,i)=>Math.max(t,Math.min(i,e)),Je=(()=>{const e=(()=>{var e;if(null===(e=document.documentElement.getAttribute("itemtype"))||void 0===e?void 0:e.includes("schema.org/SearchResultsPage"))return!0;const t=null!=document.head?Array.from(document.head.querySelectorAll("meta")):[];for(const i of t)if("viewport"===i.name)return!0;return!1})();return e||console.warn('No <meta name="viewport"> detected; <model-viewer> will cap pixel density at 1.'),()=>e?window.devicePixelRatio:1})(),Ve=(()=>{const e=new RegExp("[?&]model-viewer-debug-mode(&|$)");return()=>self.ModelViewerElement&&self.ModelViewerElement.debugMode||self.location&&self.location.search&&self.location.search.match(e)})();var je=function(e,t,i,s){var n,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const Ye=Symbol("currentEnvironmentMap"),Ke=Symbol("currentBackground"),ze=Symbol("updateEnvironment"),$e=Symbol("cancelEnvironmentUpdate");const We=ne`
<style>
:host {
  display: block;
  position: relative;
  contain: strict;
  width: 300px;
  height: 150px;
}

/* NOTE: This rule set is our integration surface area with the
 * :focus-visible polyfill.
 *
 * @see https://github.com/WICG/focus-visible/pull/196 */
:host([data-js-focus-visible]:focus:not(.focus-visible)),
:host([data-js-focus-visible]) :focus:not(.focus-visible) {
  outline: none;
}

.container {
  position: relative;
  overflow: hidden;
}

.userInput {
  width: 100%;
  height: 100%;
  display: none;
  position: relative;
}

canvas {
  position: absolute;
  display: none;
  pointer-events: none;
  /* NOTE(cdata): Chrome 76 and below apparently have a bug
   * that causes our canvas not to display pixels unless it is
   * on its own render layer
   * @see https://github.com/google/model-viewer/pull/755#issuecomment-536597893
   */
  transform: translateZ(0);
}

.show {
  display: block;
}

/* Adapted from HTML5 Boilerplate
 *
 * @see https://github.com/h5bp/html5-boilerplate/blob/ceb4620c78fc82e13534fc44202a3f168754873f/dist/css/main.css#L122-L133 */
.screen-reader-only {
  border: 0;
  left: 0;
  top: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  white-space: nowrap;
  width: 1px;
  pointer-events: none;
}

.slot {
  position: absolute;
  pointer-events: none;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.slot > * {
  pointer-events: initial;
}

.annotation-wrapper ::slotted(*) {
  opacity: var(--max-hotspot-opacity, 1);
  transition: opacity 0.3s;
}

.pointer-tumbling .annotation-wrapper ::slotted(*) {
  pointer-events: none;
}

.annotation-wrapper ::slotted(*) {
  pointer-events: initial;
}

.annotation-wrapper.hide ::slotted(*) {
  opacity: var(--min-hotspot-opacity, 0.25);
}

.slot.poster {
  display: none;
  background-color: inherit;
}

.slot.poster.show {
  display: inherit;
}

.slot.poster > * {
  pointer-events: initial;
}

.slot.poster:not(.show) > * {
  pointer-events: none;
}

#default-poster {
  width: 100%;
  height: 100%;
  /* The default poster is a <button> so we need to set display
   * to prevent it from being affected by text-align: */
  display: block;
  position: absolute;
  border: none;
  padding: 0;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: #fff0;
}

#default-progress-bar {
  display: block;
  position: relative;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
}

#default-progress-bar > .bar {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--progress-bar-height, 5px);
  background-color: var(--progress-bar-color, rgba(0, 0, 0, 0.4));
  transition: transform 0.09s;
  transform-origin: top left;
  transform: scaleX(0);
  overflow: hidden;
}

#default-progress-bar > .bar.hide {
  transition: opacity 0.3s 1s;
  opacity: 0;
}

.centered {
  align-items: center;
  justify-content: center;
}

.cover {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.slot.interaction-prompt {
  display: var(--interaction-prompt-display, flex);
  overflow: hidden;
  opacity: 0;
  will-change: opacity;
  transition: opacity 0.3s;
}

.slot.interaction-prompt.visible {
  opacity: 1;
}

.animated-container {
  will-change: transform, opacity;
  opacity: 0;
  transition: opacity 0.3s;
}

.slot.interaction-prompt > * {
  pointer-events: none;
}

.slot.ar-button {
  -moz-user-select: none;
  -webkit-tap-highlight-color: transparent;
  user-select: none;

  display: var(--ar-button-display, block);
}

.slot.ar-button:not(.enabled) {
  display: none;
}

.fab {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: 40px;
  height: 40px;
  cursor: pointer;
  background-color: #fff;
  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.15);
  border-radius: 100px;
}

.fab > * {
  opacity: 0.87;
}

#default-ar-button {
  position: absolute;
  bottom: 16px;
  right: 16px;
  transform: scale(var(--ar-button-scale, 1));
  transform-origin: bottom right;
}

.slot.pan-target {
  display: block;
  position: absolute;
  width: 0;
  height: 0;
  left: 50%;
  top: 50%;
  transform: translate3d(-50%, -50%, 0);
  background-color: transparent;
  opacity: 0;
  transition: opacity 0.3s;
}

#default-pan-target {
  width: 6px;
  height: 6px;
  border-radius: 6px;
  border: 1px solid white;
  box-shadow: 0px 0px 2px 1px rgba(0, 0, 0, 0.8);
}

.slot.default {
  pointer-events: none;
}

.slot.progress-bar {
  pointer-events: none;
}

.slot.exit-webxr-ar-button {
  pointer-events: none;
}

.slot.exit-webxr-ar-button:not(.enabled) {
  display: none;
}

#default-exit-webxr-ar-button {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: env(safe-area-inset-top, 16px);
  right: 16px;
  width: 40px;
  height: 40px;
  box-sizing: border-box;
}

#default-exit-webxr-ar-button > svg {
  fill: #fff;
}
</style>
<div class="container">
  <div class="userInput" tabindex="0" role="img"
      aria-label="3D model">
      <div class="slot canvas">
        <slot name="canvas">
          <canvas></canvas>
        </slot>
      </div>

  </div>

  <!-- NOTE(cdata): We need to wrap slots because browsers without ShadowDOM
        will have their <slot> elements removed by ShadyCSS -->
  <div class="slot poster">
    <slot name="poster">
      <button type="button" id="default-poster" aria-hidden="true" aria-label="Loading 3D model"></button>
    </slot>
  </div>

  <div class="slot ar-button">
    <slot name="ar-button">
      <a id="default-ar-button" part="default-ar-button" class="fab"
          tabindex="2"
          aria-label="View in your space">
        ${ne`
<svg version="1.1" id="view_x5F_in_x5F_AR_x5F_icon"
	 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px"
	 viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
<rect id="Bounding_Box" x="0" y="0" fill="none" width="24" height="24"/>
<g id="Art_layer">
	<path d="M3,4c0-0.55,0.45-1,1-1h2V1H4C2.35,1,1,2.35,1,4v2h2V4z"/>
	<path d="M20,3c0.55,0,1,0.45,1,1v2h2V4c0-1.65-1.35-3-3-3h-2v2H20z"/>
	<path d="M4,21c-0.55,0-1-0.45-1-1v-2H1v2c0,1.65,1.35,3,3,3h2v-2H4z"/>
	<path d="M20,21c0.55,0,1-0.45,1-1v-2h2v2c0,1.65-1.35,3-3,3h-2v-2H20z"/>
	<g>
		<path d="M18.25,7.6l-5.5-3.18c-0.46-0.27-1.04-0.27-1.5,0L5.75,7.6C5.29,7.87,5,8.36,5,8.9v6.35c0,0.54,0.29,1.03,0.75,1.3
			l5.5,3.18c0.46,0.27,1.04,0.27,1.5,0l5.5-3.18c0.46-0.27,0.75-0.76,0.75-1.3V8.9C19,8.36,18.71,7.87,18.25,7.6z M7,14.96v-4.62
			l4,2.32v4.61L7,14.96z M12,10.93L8,8.61l4-2.31l4,2.31L12,10.93z M13,17.27v-4.61l4-2.32v4.62L13,17.27z"/>
	</g>
</g>
</svg>`}
      </a>
    </slot>
  </div>

  <div class="slot pan-target">
    <slot name="pan-target">
      <div id="default-pan-target">
      </div>
    </slot>
  </div>

  <div class="slot interaction-prompt cover centered">
    <div id="prompt" class="animated-container">
      <slot name="interaction-prompt" aria-hidden="true">
        ${ne`
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="36">
    <defs>
        <path id="A" d="M.001.232h24.997V36H.001z" />
    </defs>
    <g transform="translate(-11 -4)" fill="none" fill-rule="evenodd">
        <path fill-opacity="0" fill="#fff" d="M0 0h44v44H0z" />
        <g transform="translate(11 3)">
            <path d="M8.733 11.165c.04-1.108.766-2.027 1.743-2.307a2.54 2.54 0 0 1 .628-.089c.16 0 .314.017.463.044 1.088.2 1.9 1.092 1.9 2.16v8.88h1.26c2.943-1.39 5-4.45 5-8.025a9.01 9.01 0 0 0-1.9-5.56l-.43-.5c-.765-.838-1.683-1.522-2.712-2-1.057-.49-2.226-.77-3.46-.77s-2.4.278-3.46.77c-1.03.478-1.947 1.162-2.71 2l-.43.5a9.01 9.01 0 0 0-1.9 5.56 9.04 9.04 0 0 0 .094 1.305c.03.21.088.41.13.617l.136.624c.083.286.196.56.305.832l.124.333a8.78 8.78 0 0 0 .509.953l.065.122a8.69 8.69 0 0 0 3.521 3.191l1.11.537v-9.178z" fill-opacity=".5" fill="#e4e4e4" />
            <path d="M22.94 26.218l-2.76 7.74c-.172.485-.676.8-1.253.8H12.24c-1.606 0-3.092-.68-3.98-1.82-1.592-2.048-3.647-3.822-6.11-5.27-.095-.055-.15-.137-.152-.23-.004-.1.046-.196.193-.297.56-.393 1.234-.6 1.926-.6a3.43 3.43 0 0 1 .691.069l4.922.994V10.972c0-.663.615-1.203 1.37-1.203s1.373.54 1.373 1.203v9.882h2.953c.273 0 .533.073.757.21l6.257 3.874c.027.017.045.042.07.06.41.296.586.77.426 1.22M4.1 16.614c-.024-.04-.042-.083-.065-.122a8.69 8.69 0 0 1-.509-.953c-.048-.107-.08-.223-.124-.333l-.305-.832c-.058-.202-.09-.416-.136-.624l-.13-.617a9.03 9.03 0 0 1-.094-1.305c0-2.107.714-4.04 1.9-5.56l.43-.5c.764-.84 1.682-1.523 2.71-2 1.058-.49 2.226-.77 3.46-.77s2.402.28 3.46.77c1.03.477 1.947 1.16 2.712 2l.428.5a9 9 0 0 1 1.901 5.559c0 3.577-2.056 6.636-5 8.026h-1.26v-8.882c0-1.067-.822-1.96-1.9-2.16-.15-.028-.304-.044-.463-.044-.22 0-.427.037-.628.09-.977.28-1.703 1.198-1.743 2.306v9.178l-1.11-.537C6.18 19.098 4.96 18 4.1 16.614M22.97 24.09l-6.256-3.874c-.102-.063-.218-.098-.33-.144 2.683-1.8 4.354-4.855 4.354-8.243 0-.486-.037-.964-.104-1.43a9.97 9.97 0 0 0-1.57-4.128l-.295-.408-.066-.092a10.05 10.05 0 0 0-.949-1.078c-.342-.334-.708-.643-1.094-.922-1.155-.834-2.492-1.412-3.94-1.65l-.732-.088-.748-.03a9.29 9.29 0 0 0-1.482.119c-1.447.238-2.786.816-3.94 1.65a9.33 9.33 0 0 0-.813.686 9.59 9.59 0 0 0-.845.877l-.385.437-.36.5-.288.468-.418.778-.04.09c-.593 1.28-.93 2.71-.93 4.222 0 3.832 2.182 7.342 5.56 8.938l1.437.68v4.946L5 25.64a4.44 4.44 0 0 0-.888-.086c-.017 0-.034.003-.05.003-.252.004-.503.033-.75.08a5.08 5.08 0 0 0-.237.056c-.193.046-.382.107-.568.18-.075.03-.15.057-.225.1-.25.114-.494.244-.723.405a1.31 1.31 0 0 0-.566 1.122 1.28 1.28 0 0 0 .645 1.051C4 29.925 5.96 31.614 7.473 33.563a5.06 5.06 0 0 0 .434.491c1.086 1.082 2.656 1.713 4.326 1.715h6.697c.748-.001 1.43-.333 1.858-.872.142-.18.256-.38.336-.602l2.757-7.74c.094-.26.13-.53.112-.794s-.088-.52-.203-.76a2.19 2.19 0 0 0-.821-.91" fill-opacity=".6" fill="#000" />
            <path d="M22.444 24.94l-6.257-3.874a1.45 1.45 0 0 0-.757-.211h-2.953v-9.88c0-.663-.616-1.203-1.373-1.203s-1.37.54-1.37 1.203v16.643l-4.922-.994a3.44 3.44 0 0 0-.692-.069 3.35 3.35 0 0 0-1.925.598c-.147.102-.198.198-.194.298.004.094.058.176.153.23 2.462 1.448 4.517 3.22 6.11 5.27.887 1.14 2.373 1.82 3.98 1.82h6.686c.577 0 1.08-.326 1.253-.8l2.76-7.74c.16-.448-.017-.923-.426-1.22-.025-.02-.043-.043-.07-.06z" fill="#fff" />
            <g transform="translate(0 .769)">
                <mask id="B" fill="#fff">
                    <use xlink:href="#A" />
                </mask>
                <path d="M23.993 24.992a1.96 1.96 0 0 1-.111.794l-2.758 7.74c-.08.22-.194.423-.336.602-.427.54-1.11.87-1.857.872h-6.698c-1.67-.002-3.24-.633-4.326-1.715-.154-.154-.3-.318-.434-.49C5.96 30.846 4 29.157 1.646 27.773c-.385-.225-.626-.618-.645-1.05a1.31 1.31 0 0 1 .566-1.122 4.56 4.56 0 0 1 .723-.405l.225-.1a4.3 4.3 0 0 1 .568-.18l.237-.056c.248-.046.5-.075.75-.08.018 0 .034-.003.05-.003.303-.001.597.027.89.086l3.722.752V20.68l-1.436-.68c-3.377-1.596-5.56-5.106-5.56-8.938 0-1.51.336-2.94.93-4.222.015-.03.025-.06.04-.09.127-.267.268-.525.418-.778.093-.16.186-.316.288-.468.063-.095.133-.186.2-.277L3.773 5c.118-.155.26-.29.385-.437.266-.3.544-.604.845-.877a9.33 9.33 0 0 1 .813-.686C6.97 2.167 8.31 1.59 9.757 1.35a9.27 9.27 0 0 1 1.481-.119 8.82 8.82 0 0 1 .748.031c.247.02.49.05.733.088 1.448.238 2.786.816 3.94 1.65.387.28.752.588 1.094.922a9.94 9.94 0 0 1 .949 1.078l.066.092c.102.133.203.268.295.408a9.97 9.97 0 0 1 1.571 4.128c.066.467.103.945.103 1.43 0 3.388-1.67 6.453-4.353 8.243.11.046.227.08.33.144l6.256 3.874c.37.23.645.55.82.9.115.24.185.498.203.76m.697-1.195c-.265-.55-.677-1.007-1.194-1.326l-5.323-3.297c2.255-2.037 3.564-4.97 3.564-8.114 0-2.19-.637-4.304-1.84-6.114-.126-.188-.26-.37-.4-.552-.645-.848-1.402-1.6-2.252-2.204C15.472.91 13.393.232 11.238.232A10.21 10.21 0 0 0 5.23 2.19c-.848.614-1.606 1.356-2.253 2.205-.136.18-.272.363-.398.55C1.374 6.756.737 8.87.737 11.06c0 4.218 2.407 8.08 6.133 9.842l.863.41v3.092l-2.525-.51c-.356-.07-.717-.106-1.076-.106a5.45 5.45 0 0 0-3.14.996c-.653.46-1.022 1.202-.99 1.983a2.28 2.28 0 0 0 1.138 1.872c2.24 1.318 4.106 2.923 5.543 4.772 1.26 1.62 3.333 2.59 5.55 2.592h6.698c1.42-.001 2.68-.86 3.134-2.138l2.76-7.74c.272-.757.224-1.584-.134-2.325" fill-opacity=".05" fill="#000" mask="url(#B)" />
            </g>
        </g>
    </g>
</svg>`}
      </slot>
    </div>
  </div>

  <div id="finger0" class="animated-container cover">
    <slot name="finger0" aria-hidden="true">
    </slot>
  </div>
  <div id="finger1" class="animated-container cover">
    <slot name="finger1" aria-hidden="true">
    </slot>
  </div>

  <div class="slot default">
    <slot></slot>

    <div class="slot progress-bar">
      <slot name="progress-bar">
        <div id="default-progress-bar" aria-hidden="true">
          <div class="bar" part="default-progress-bar"></div>
        </div>
      </slot>
    </div>

    <div class="slot exit-webxr-ar-button">
      <slot name="exit-webxr-ar-button">
        <a id="default-exit-webxr-ar-button" part="default-exit-webxr-ar-button"
            tabindex="3"
            aria-label="Exit AR"
            aria-hidden="true">
          ${ne`
<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000">
    <!-- NOTE(cdata): This SVG filter is a stop-gap until we can implement
         support for dynamic re-coloring of UI components -->
    <defs>
      <filter id="drop-shadow" x="-100%" y="-100%" width="300%" height="300%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>
        <feOffset dx="0" dy="0" result="offsetblur"/>
        <feFlood flood-color="#000000"/>
        <feComposite in2="offsetblur" operator="in"/>
        <feMerge>
          <feMergeNode/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>
    <path filter="url(#drop-shadow)" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`}
        </a>
      </slot>
    </div>
  </div>
</div>
<div class="screen-reader-only" role="region" aria-label="Live announcements">
  <span id="status" role="status"></span>
</div>`,Xe=new WeakMap;class Ze extends E.aHM{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,s){const n=new E.Y9S(this.manager);n.setPath(this.path),n.setResponseType("arraybuffer"),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(e,e=>{this.decodeDracoFile(e,t).catch(s)},i,s)}decodeDracoFile(e,t,i,s){const n={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!i};return this.decodeGeometry(e,n).then(t)}decodeGeometry(e,t){const i=JSON.stringify(t);if(Xe.has(e)){const t=Xe.get(e);if(t.key===i)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const n=this.workerNextTaskID++,r=e.byteLength,a=this._getWorker(n,r).then(i=>(s=i,new Promise((i,r)=>{s._callbacks[n]={resolve:i,reject:r},s.postMessage({type:"decode",id:n,taskConfig:t,buffer:e},[e])}))).then(e=>this._createGeometry(e.geometry));return a.catch(()=>!0).then(()=>{s&&n&&this._releaseTask(s,n)}),Xe.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new E.LoY;e.index&&t.setIndex(new E.THS(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const s=e.attributes[i],n=s.name,r=s.array,a=s.itemSize;t.setAttribute(n,new E.THS(r,a))}return t}_loadLibrary(e,t){const i=new E.Y9S(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((t,s)=>{i.load(e,t,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(t=>{const i=t[0];e||(this.decoderConfig.wasmBinary=t[1]);const s=et.toString(),n=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([n]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){const i=t.data;switch(i.type){case"decode":e._callbacks[i.id].resolve(i);break;case"error":e._callbacks[i.id].reject(i);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+i.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort(function(e,t){return e._taskLoad>t._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function et(){let e,t;function i(e,t,i,s,n,r){const a=r.num_components(),o=i.num_points()*a,A=o*n.BYTES_PER_ELEMENT,l=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,n),c=e._malloc(A);t.GetAttributeDataArrayForAllPoints(i,r,l,A,c);const h=new n(e.HEAPF32.buffer,c,o).slice();return e._free(c),{name:s,array:h,itemSize:a}}onmessage=function(s){const n=s.data;switch(n.type){case"init":e=n.decoderConfig,t=new Promise(function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)});break;case"decode":const s=n.buffer,r=n.taskConfig;t.then(e=>{const t=e.draco,a=new t.Decoder,o=new t.DecoderBuffer;o.Init(new Int8Array(s),s.byteLength);try{const e=function(e,t,s,n){const r=n.attributeIDs,a=n.attributeTypes;let o,A;const l=t.GetEncodedGeometryType(s);if(l===e.TRIANGULAR_MESH)o=new e.Mesh,A=t.DecodeBufferToMesh(s,o);else{if(l!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");o=new e.PointCloud,A=t.DecodeBufferToPointCloud(s,o)}if(!A.ok()||0===o.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+A.error_msg());const c={index:null,attributes:[]};for(const h in r){const s=self[a[h]];let A,l;if(n.useUniqueIDs)l=r[h],A=t.GetAttributeByUniqueId(o,l);else{if(l=t.GetAttributeId(o,e[r[h]]),-1===l)continue;A=t.GetAttribute(o,l)}c.attributes.push(i(e,t,o,h,s,A))}l===e.TRIANGULAR_MESH&&(c.index=function(e,t,i){const s=i.num_faces(),n=3*s,r=4*n,a=e._malloc(r);t.GetTrianglesUInt32Array(i,r,a);const o=new Uint32Array(e.HEAPF32.buffer,a,n).slice();return e._free(a),{array:o,itemSize:1}}(e,t,o));return e.destroy(o),c}(t,a,o,r),s=e.attributes.map(e=>e.array.buffer);e.index&&s.push(e.index.array.buffer),self.postMessage({type:"decode",id:n.id,geometry:e},s)}catch(A){console.error(A),self.postMessage({type:"error",id:n.id,error:A.message})}finally{t.destroy(o),t.destroy(a)}})}}}class tt extends E.aHM{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new ot(e)}),this.register(function(e){return new gt(e)}),this.register(function(e){return new pt(e)}),this.register(function(e){return new lt(e)}),this.register(function(e){return new ct(e)}),this.register(function(e){return new ht(e)}),this.register(function(e){return new ut(e)}),this.register(function(e){return new at(e)}),this.register(function(e){return new dt(e)}),this.register(function(e){return new At(e)}),this.register(function(e){return new nt(e)}),this.register(function(e){return new mt(e)}),this.register(function(e){return new ft(e)})}load(e,t,i,s){const n=this;let r;r=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:E.r6x.extractUrlBase(e),this.manager.itemStart(e);const a=function(t){s?s(t):console.error(t),n.manager.itemError(e),n.manager.itemEnd(e)},o=new E.Y9S(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(i){try{n.parse(i,r,function(i){t(i),n.manager.itemEnd(e)},a)}catch(s){a(s)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,s){let n;const r={},a={};if("string"==typeof e)n=JSON.parse(e);else if(e instanceof ArrayBuffer){if(E.r6x.decodeText(new Uint8Array(e,0,4))===It){try{r[st.KHR_BINARY_GLTF]=new Bt(e)}catch(A){return void(s&&s(A))}n=JSON.parse(r[st.KHR_BINARY_GLTF].content)}else n=JSON.parse(E.r6x.decodeText(new Uint8Array(e)))}else n=e;if(void 0===n.asset||n.asset.version[0]<2)return void(s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const o=new Kt(n,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});o.fileLoader.setRequestHeader(this.requestHeader);for(let l=0;l<this.pluginCallbacks.length;l++){const e=this.pluginCallbacks[l](o);a[e.name]=e,r[e.name]=!0}if(n.extensionsUsed)for(let l=0;l<n.extensionsUsed.length;++l){const e=n.extensionsUsed[l],t=n.extensionsRequired||[];switch(e){case st.KHR_MATERIALS_UNLIT:r[e]=new rt;break;case st.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:r[e]=new Qt;break;case st.KHR_DRACO_MESH_COMPRESSION:r[e]=new yt(n,this.dracoLoader);break;case st.KHR_TEXTURE_TRANSFORM:r[e]=new wt;break;case st.KHR_MESH_QUANTIZATION:r[e]=new bt;break;default:t.indexOf(e)>=0&&void 0===a[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}o.setExtensions(r),o.setPlugins(a),o.parse(i,s)}parseAsync(e,t){const i=this;return new Promise(function(s,n){i.parse(e,t,s,n)})}}function it(){let e={};return{get:function(t){return e[t]},add:function(t,i){e[t]=i},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const st={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class nt{constructor(e){this.parser=e,this.name=st.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,s=t.length;i<s;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&void 0!==s.extensions[this.name].light&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let s=t.cache.get(i);if(s)return s;const n=t.json,r=((n.extensions&&n.extensions[this.name]||{}).lights||[])[e];let a;const o=new E.Q1f(16777215);void 0!==r.color&&o.fromArray(r.color);const A=void 0!==r.range?r.range:0;switch(r.type){case"directional":a=new E.ZyN(o),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new E.HiM(o),a.distance=A;break;case"spot":a=new E.nCl(o),a.distance=A,r.spot=r.spot||{},r.spot.innerConeAngle=void 0!==r.spot.innerConeAngle?r.spot.innerConeAngle:0,r.spot.outerConeAngle=void 0!==r.spot.outerConeAngle?r.spot.outerConeAngle:Math.PI/4,a.angle=r.spot.outerConeAngle,a.penumbra=1-r.spot.innerConeAngle/r.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+r.type)}return a.position.set(0,0,0),a.decay=2,void 0!==r.intensity&&(a.intensity=r.intensity),a.name=t.createUniqueName(r.name||"light_"+e),s=Promise.resolve(a),t.cache.add(i,s),s}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],n=(s.extensions&&s.extensions[this.name]||{}).light;return void 0===n?null:this._loadLight(n).then(function(e){return i._getNodeRef(t.cache,n,e)})}}class rt{constructor(){this.name=st.KHR_MATERIALS_UNLIT}getMaterialType(){return E.V9B}extendParams(e,t,i){const s=[];e.color=new E.Q1f(1,1,1),e.opacity=1;const n=t.pbrMetallicRoughness;if(n){if(Array.isArray(n.baseColorFactor)){const t=n.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==n.baseColorTexture&&s.push(i.assignTexture(e,"map",n.baseColorTexture,E.S2Q))}return Promise.all(s)}}class at{constructor(e){this.parser=e,this.name=st.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return void 0!==s&&(t.emissiveIntensity=s),Promise.resolve()}}class ot{constructor(e){this.parser=e,this.name=st.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?E.uSd:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=[],r=s.extensions[this.name];if(void 0!==r.clearcoatFactor&&(t.clearcoat=r.clearcoatFactor),void 0!==r.clearcoatTexture&&n.push(i.assignTexture(t,"clearcoatMap",r.clearcoatTexture)),void 0!==r.clearcoatRoughnessFactor&&(t.clearcoatRoughness=r.clearcoatRoughnessFactor),void 0!==r.clearcoatRoughnessTexture&&n.push(i.assignTexture(t,"clearcoatRoughnessMap",r.clearcoatRoughnessTexture)),void 0!==r.clearcoatNormalTexture&&(n.push(i.assignTexture(t,"clearcoatNormalMap",r.clearcoatNormalTexture)),void 0!==r.clearcoatNormalTexture.scale)){const e=r.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new E.I9Y(e,e)}return Promise.all(n)}}class At{constructor(e){this.parser=e,this.name=st.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?E.uSd:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=[],r=s.extensions[this.name];return void 0!==r.iridescenceFactor&&(t.iridescence=r.iridescenceFactor),void 0!==r.iridescenceTexture&&n.push(i.assignTexture(t,"iridescenceMap",r.iridescenceTexture)),void 0!==r.iridescenceIor&&(t.iridescenceIOR=r.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==r.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=r.iridescenceThicknessMinimum),void 0!==r.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=r.iridescenceThicknessMaximum),void 0!==r.iridescenceThicknessTexture&&n.push(i.assignTexture(t,"iridescenceThicknessMap",r.iridescenceThicknessTexture)),Promise.all(n)}}class lt{constructor(e){this.parser=e,this.name=st.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?E.uSd:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=[];t.sheenColor=new E.Q1f(0,0,0),t.sheenRoughness=0,t.sheen=1;const r=s.extensions[this.name];return void 0!==r.sheenColorFactor&&t.sheenColor.fromArray(r.sheenColorFactor),void 0!==r.sheenRoughnessFactor&&(t.sheenRoughness=r.sheenRoughnessFactor),void 0!==r.sheenColorTexture&&n.push(i.assignTexture(t,"sheenColorMap",r.sheenColorTexture,E.S2Q)),void 0!==r.sheenRoughnessTexture&&n.push(i.assignTexture(t,"sheenRoughnessMap",r.sheenRoughnessTexture)),Promise.all(n)}}class ct{constructor(e){this.parser=e,this.name=st.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?E.uSd:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=[],r=s.extensions[this.name];return void 0!==r.transmissionFactor&&(t.transmission=r.transmissionFactor),void 0!==r.transmissionTexture&&n.push(i.assignTexture(t,"transmissionMap",r.transmissionTexture)),Promise.all(n)}}class ht{constructor(e){this.parser=e,this.name=st.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?E.uSd:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=[],r=s.extensions[this.name];t.thickness=void 0!==r.thicknessFactor?r.thicknessFactor:0,void 0!==r.thicknessTexture&&n.push(i.assignTexture(t,"thicknessMap",r.thicknessTexture)),t.attenuationDistance=r.attenuationDistance||1/0;const a=r.attenuationColor||[1,1,1];return t.attenuationColor=new E.Q1f(a[0],a[1],a[2]),Promise.all(n)}}class ut{constructor(e){this.parser=e,this.name=st.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?E.uSd:null}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=void 0!==s.ior?s.ior:1.5,Promise.resolve()}}class dt{constructor(e){this.parser=e,this.name=st.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?E.uSd:null}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const n=[],r=s.extensions[this.name];t.specularIntensity=void 0!==r.specularFactor?r.specularFactor:1,void 0!==r.specularTexture&&n.push(i.assignTexture(t,"specularIntensityMap",r.specularTexture));const a=r.specularColorFactor||[1,1,1];return t.specularColor=new E.Q1f(a[0],a[1],a[2]),void 0!==r.specularColorTexture&&n.push(i.assignTexture(t,"specularColorMap",r.specularColorTexture,E.S2Q)),Promise.all(n)}}class gt{constructor(e){this.parser=e,this.name=st.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,s=i.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const n=s.extensions[this.name],r=t.options.ktx2Loader;if(!r){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,n.source,r)}}class pt{constructor(e){this.parser=e,this.name=st.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,s=i.json,n=s.textures[e];if(!n.extensions||!n.extensions[t])return null;const r=n.extensions[t],a=s.images[r.source];let o=i.textureLoader;if(a.uri){const e=i.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then(function(n){if(n)return i.loadTextureImage(e,r.source,o);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class mt{constructor(e){this.name=st.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const e=i.extensions[this.name],s=this.parser.getDependency("buffer",e.buffer),n=this.parser.options.meshoptDecoder;if(!n||!n.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(t){const i=e.byteOffset||0,s=e.byteLength||0,r=e.count,a=e.byteStride,o=new Uint8Array(t,i,s);return n.decodeGltfBufferAsync?n.decodeGltfBufferAsync(r,a,o,e.mode,e.filter).then(function(e){return e.buffer}):n.ready.then(function(){const t=new ArrayBuffer(r*a);return n.decodeGltfBuffer(new Uint8Array(t),r,a,o,e.mode,e.filter),t})})}return null}}class ft{constructor(e){this.name=st.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||void 0===i.mesh)return null;const s=t.meshes[i.mesh];for(const o of s.primitives)if(o.mode!==Rt.TRIANGLES&&o.mode!==Rt.TRIANGLE_STRIP&&o.mode!==Rt.TRIANGLE_FAN&&void 0!==o.mode)return null;const n=i.extensions[this.name].attributes,r=[],a={};for(const o in n)r.push(this.parser.getDependency("accessor",n[o]).then(e=>(a[o]=e,a[o])));return r.length<1?null:(r.push(this.parser.createNodeMesh(e)),Promise.all(r).then(e=>{const t=e.pop(),i=t.isGroup?t.children:[t],s=e[0].count,n=[];for(const r of i){const e=new E.kn4,t=new E.Pq0,i=new E.PTz,o=new E.Pq0(1,1,1),A=new E.ZLX(r.geometry,r.material,s);for(let n=0;n<s;n++)a.TRANSLATION&&t.fromBufferAttribute(a.TRANSLATION,n),a.ROTATION&&i.fromBufferAttribute(a.ROTATION,n),a.SCALE&&o.fromBufferAttribute(a.SCALE,n),A.setMatrixAt(n,e.compose(t,i,o));for(const s in a)"TRANSLATION"!==s&&"ROTATION"!==s&&"SCALE"!==s&&r.geometry.setAttribute(s,a[s]);E.B69.prototype.copy.call(A,r),A.frustumCulled=!1,this.parser.assignFinalMaterial(A),n.push(A)}return t.isGroup?(t.clear(),t.add(...n),t):n[0]}))}}const It="glTF",Et=1313821514,Ct=5130562;class Bt{constructor(e){this.name=st.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12);if(this.header={magic:E.r6x.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==It)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-12,s=new DataView(e,12);let n=0;for(;n<i;){const t=s.getUint32(n,!0);n+=4;const i=s.getUint32(n,!0);if(n+=4,i===Et){const i=new Uint8Array(e,12+n,t);this.content=E.r6x.decodeText(i)}else if(i===Ct){const i=12+n;this.body=e.slice(i,i+t)}n+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class yt{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=st.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,s=this.dracoLoader,n=e.extensions[this.name].bufferView,r=e.extensions[this.name].attributes,a={},o={},A={};for(const l in r){const e=Ft[l]||l.toLowerCase();a[e]=r[l]}for(const l in e.attributes){const t=Ft[l]||l.toLowerCase();if(void 0!==r[l]){const s=i.accessors[e.attributes[l]],n=Tt[s.componentType];A[t]=n.name,o[t]=!0===s.normalized}}return t.getDependency("bufferView",n).then(function(e){return new Promise(function(t){s.decodeDracoFile(e,function(e){for(const t in e.attributes){const i=e.attributes[t],s=o[t];void 0!==s&&(i.normalized=s)}t(e)},a,A)})})}}class wt{constructor(){this.name=st.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class vt extends E._4j{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),i=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),s=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),n=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),r=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),a={specular:{value:(new E.Q1f).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(e){for(const t in a)e.uniforms[t]=a[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",s).replace("#include <metalnessmap_fragment>",n).replace("#include <lights_physical_fragment>",r)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(e){a.specular.value=e}},specularMap:{get:function(){return a.specularMap.value},set:function(e){a.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(e){a.glossiness.value=e}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(e){a.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Qt{constructor(){this.name=st.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return vt}extendParams(e,t,i){const s=t.extensions[this.name];e.color=new E.Q1f(1,1,1),e.opacity=1;const n=[];if(Array.isArray(s.diffuseFactor)){const t=s.diffuseFactor;e.color.fromArray(t),e.opacity=t[3]}if(void 0!==s.diffuseTexture&&n.push(i.assignTexture(e,"map",s.diffuseTexture,E.S2Q)),e.emissive=new E.Q1f(0,0,0),e.glossiness=void 0!==s.glossinessFactor?s.glossinessFactor:1,e.specular=new E.Q1f(1,1,1),Array.isArray(s.specularFactor)&&e.specular.fromArray(s.specularFactor),void 0!==s.specularGlossinessTexture){const t=s.specularGlossinessTexture;n.push(i.assignTexture(e,"glossinessMap",t)),n.push(i.assignTexture(e,"specularMap",t,E.S2Q))}return Promise.all(n)}createMaterial(e){const t=new vt(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=void 0===e.emissiveIntensity?1:e.emissiveIntensity,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=E.bI3,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t}}class bt{constructor(){this.name=st.KHR_MESH_QUANTIZATION}}class St extends E.lGw{constructor(e,t,i,s){super(e,t,i,s)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,n=e*s*3+s;for(let r=0;r!==s;r++)t[r]=i[n+r];return t}interpolate_(e,t,i,s){const n=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=2*a,A=3*a,l=s-t,c=(i-t)/l,h=c*c,u=h*c,d=e*A,g=d-A,p=-2*u+3*h,m=u-h,f=1-p,I=m-h+c;for(let E=0;E!==a;E++){const e=r[g+E+a],t=r[g+E+o]*l,i=r[d+E+a],s=r[d+E]*l;n[E]=f*e+I*t+p*i+m*s}return n}}const xt=new E.PTz;class Mt extends St{interpolate_(e,t,i,s){const n=super.interpolate_(e,t,i,s);return xt.fromArray(n).normalize().toArray(n),n}}const Rt={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Tt={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Dt={9728:E.hxR,9729:E.k6q,9984:E.pHI,9985:E.kRr,9986:E.Cfg,9987:E.$_I},Lt={33071:E.ghU,33648:E.kTW,10497:E.GJx},kt={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ft={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},_t={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ut={CUBICSPLINE:void 0,LINEAR:E.PJ3,STEP:E.ljd},Nt="OPAQUE",Gt="MASK",Pt="BLEND";function Ot(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new E._4j({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:E.hB5})),e.DefaultMaterial}function Ht(e,t,i){for(const s in i.extensions)void 0===e[s]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[s]=i.extensions[s])}function qt(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Jt(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let i=0,s=t.weights.length;i<s;i++)e.morphTargetInfluences[i]=t.weights[i];if(t.extras&&Array.isArray(t.extras.targetNames)){const i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(let t=0,s=i.length;t<s;t++)e.morphTargetDictionary[i[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Vt(e){const t=e.extensions&&e.extensions[st.KHR_DRACO_MESH_COMPRESSION];let i;return i=t?"draco:"+t.bufferView+":"+t.indices+":"+jt(t.attributes):e.indices+":"+jt(e.attributes)+":"+e.mode,i}function jt(e){let t="";const i=Object.keys(e).sort();for(let s=0,n=i.length;s<n;s++)t+=i[s]+":"+e[i[s]]+";";return t}function Yt(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class Kt{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new it,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const i=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s=navigator.userAgent.indexOf("Firefox")>-1,n=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;"undefined"==typeof createImageBitmap||i||s&&n<98?this.textureLoader=new E.Tap(this.options.manager):this.textureLoader=new E.Kzg(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new E.Y9S(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,s=this.json,n=this.extensions;this.cache.removeAll(),this._invokeAll(function(e){return e._markDefs&&e._markDefs()}),Promise.all(this._invokeAll(function(e){return e.beforeRoot&&e.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(t){const r={scene:t[0][s.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:s.asset,parser:i,userData:{}};Ht(n,r,s),qt(r,s),Promise.all(i._invokeAll(function(e){return e.afterRoot&&e.afterRoot(r)})).then(function(){e(r)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let s=0,n=t.length;s<n;s++){const i=t[s].joints;for(let t=0,s=i.length;t<s;t++)e[i[t]].isBone=!0}for(let s=0,n=e.length;s<n;s++){const t=e[s];void 0!==t.mesh&&(this._addNodeRef(this.meshCache,t.mesh),void 0!==t.skin&&(i[t.mesh].isSkinnedMesh=!0)),void 0!==t.camera&&this._addNodeRef(this.cameraCache,t.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const s=i.clone(),n=(e,t)=>{const i=this.associations.get(e);null!=i&&this.associations.set(t,i);for(const[s,r]of e.children.entries())n(r,t.children[s])};return n(i,s),s.name+="_instance_"+e.uses[t]++,s}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const s=e(t[i]);if(s)return s}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let s=0;s<t.length;s++){const n=e(t[s]);n&&i.push(n)}return i}getDependency(e,t){const i=e+":"+t;let s=this.cache.get(i);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this.loadNode(t);break;case"mesh":s=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(t)});break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(t)});break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(t)});break;case"texture":s=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(t)});break;case"skin":s=this.loadSkin(t);break;case"animation":s=this._invokeOne(function(e){return e.loadAnimation&&e.loadAnimation(t)});break;case"camera":s=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(i,s)}return s}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,s=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(s.map(function(t,s){return i.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[st.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(e,n){i.load(E.r6x.resolveURL(t.uri,s.path),e,void 0,function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){const i=t.byteLength||0,s=t.byteOffset||0;return e.slice(s,s+i)})}loadAccessor(e){const t=this,i=this.json,s=this.json.accessors[e];if(void 0===s.bufferView&&void 0===s.sparse)return Promise.resolve(null);const n=[];return void 0!==s.bufferView?n.push(this.getDependency("bufferView",s.bufferView)):n.push(null),void 0!==s.sparse&&(n.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),n.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(n).then(function(e){const n=e[0],r=kt[s.type],a=Tt[s.componentType],o=a.BYTES_PER_ELEMENT,A=o*r,l=s.byteOffset||0,c=void 0!==s.bufferView?i.bufferViews[s.bufferView].byteStride:void 0,h=!0===s.normalized;let u,d;if(c&&c!==A){const e=Math.floor(l/c),i="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+e+":"+s.count;let A=t.cache.get(i);A||(u=new a(n,e*c,s.count*c/o),A=new E.eB$(u,c/o),t.cache.add(i,A)),d=new E.eHs(A,r,l%c/o,h)}else u=null===n?new a(s.count*r):new a(n,l,s.count*r),d=new E.THS(u,r,h);if(void 0!==s.sparse){const t=kt.SCALAR,i=Tt[s.sparse.indices.componentType],o=s.sparse.indices.byteOffset||0,A=s.sparse.values.byteOffset||0,l=new i(e[1],o,s.sparse.count*t),c=new a(e[2],A,s.sparse.count*r);null!==n&&(d=new E.THS(d.array.slice(),d.itemSize,d.normalized));for(let e=0,s=l.length;e<s;e++){const t=l[e];if(d.setX(t,c[e*r]),r>=2&&d.setY(t,c[e*r+1]),r>=3&&d.setZ(t,c[e*r+2]),r>=4&&d.setW(t,c[e*r+3]),r>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return d})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,n=t.images[s];let r=this.textureLoader;if(n.uri){const e=i.manager.getHandler(n.uri);null!==e&&(r=e)}return this.loadTextureImage(e,s,r)}loadTextureImage(e,t,i){const s=this,n=this.json,r=n.textures[e],a=n.images[t],o=(a.uri||a.bufferView)+":"+r.sampler;if(this.textureCache[o])return this.textureCache[o];const A=this.loadImageSource(t,i).then(function(t){t.flipY=!1,t.name=r.name||a.name||"";const i=(n.samplers||{})[r.sampler]||{};return t.magFilter=Dt[i.magFilter]||E.k6q,t.minFilter=Dt[i.minFilter]||E.$_I,t.wrapS=Lt[i.wrapS]||E.GJx,t.wrapT=Lt[i.wrapT]||E.GJx,s.associations.set(t,{textures:e}),t}).catch(function(){return null});return this.textureCache[o]=A,A}loadImageSource(e,t){const i=this,s=this.json,n=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(e=>e.clone());const r=s.images[e],a=self.URL||self.webkitURL;let o=r.uri||"",A=!1;if(void 0!==r.bufferView)o=i.getDependency("bufferView",r.bufferView).then(function(e){A=!0;const t=new Blob([e],{type:r.mimeType});return o=a.createObjectURL(t),o});else if(void 0===r.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const l=Promise.resolve(o).then(function(e){return new Promise(function(i,s){let r=i;!0===t.isImageBitmapLoader&&(r=function(e){const t=new E.gPd(e);t.needsUpdate=!0,i(t)}),t.load(E.r6x.resolveURL(e,n.path),r,void 0,s)})}).then(function(e){var t;return!0===A&&a.revokeObjectURL(o),e.userData.mimeType=r.mimeType||((t=r.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e}).catch(function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e});return this.sourceCache[e]=l,l}assignTexture(e,t,i,s){const n=this;return this.getDependency("texture",i.index).then(function(r){if(void 0===i.texCoord||0==i.texCoord||"aoMap"===t&&1==i.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+t+" not yet supported."),n.extensions[st.KHR_TEXTURE_TRANSFORM]){const e=void 0!==i.extensions?i.extensions[st.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=n.associations.get(r);r=n.extensions[st.KHR_TEXTURE_TRANSFORM].extendTexture(r,e),n.associations.set(r,t)}}return void 0!==s&&(r.encoding=s),e[t]=r,r})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const s=void 0===t.attributes.tangent,n=void 0!==t.attributes.color,r=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+i.uuid;let t=this.cache.get(e);t||(t=new E.BH$,E.imn.prototype.copy.call(t,i),t.color.copy(i.color),t.map=i.map,t.sizeAttenuation=!1,this.cache.add(e,t)),i=t}else if(e.isLine){const e="LineBasicMaterial:"+i.uuid;let t=this.cache.get(e);t||(t=new E.mrM,E.imn.prototype.copy.call(t,i),t.color.copy(i.color),this.cache.add(e,t)),i=t}if(s||n||r){let e="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(e+="specular-glossiness:"),s&&(e+="derivative-tangents:"),n&&(e+="vertex-colors:"),r&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=i.clone(),n&&(t.vertexColors=!0),r&&(t.flatShading=!0),s&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(i))),i=t}i.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=i}getMaterialType(){return E._4j}loadMaterial(e){const t=this,i=this.json,s=this.extensions,n=i.materials[e];let r;const a={},o=n.extensions||{},A=[];if(o[st.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const e=s[st.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];r=e.getMaterialType(),A.push(e.extendParams(a,n,t))}else if(o[st.KHR_MATERIALS_UNLIT]){const e=s[st.KHR_MATERIALS_UNLIT];r=e.getMaterialType(),A.push(e.extendParams(a,n,t))}else{const i=n.pbrMetallicRoughness||{};if(a.color=new E.Q1f(1,1,1),a.opacity=1,Array.isArray(i.baseColorFactor)){const e=i.baseColorFactor;a.color.fromArray(e),a.opacity=e[3]}void 0!==i.baseColorTexture&&A.push(t.assignTexture(a,"map",i.baseColorTexture,E.S2Q)),a.metalness=void 0!==i.metallicFactor?i.metallicFactor:1,a.roughness=void 0!==i.roughnessFactor?i.roughnessFactor:1,void 0!==i.metallicRoughnessTexture&&(A.push(t.assignTexture(a,"metalnessMap",i.metallicRoughnessTexture)),A.push(t.assignTexture(a,"roughnessMap",i.metallicRoughnessTexture))),r=this._invokeOne(function(t){return t.getMaterialType&&t.getMaterialType(e)}),A.push(Promise.all(this._invokeAll(function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,a)})))}!0===n.doubleSided&&(a.side=E.$EB);const l=n.alphaMode||Nt;if(l===Pt?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,l===Gt&&(a.alphaTest=void 0!==n.alphaCutoff?n.alphaCutoff:.5)),void 0!==n.normalTexture&&r!==E.V9B&&(A.push(t.assignTexture(a,"normalMap",n.normalTexture)),a.normalScale=new E.I9Y(1,1),void 0!==n.normalTexture.scale)){const e=n.normalTexture.scale;a.normalScale.set(e,e)}return void 0!==n.occlusionTexture&&r!==E.V9B&&(A.push(t.assignTexture(a,"aoMap",n.occlusionTexture)),void 0!==n.occlusionTexture.strength&&(a.aoMapIntensity=n.occlusionTexture.strength)),void 0!==n.emissiveFactor&&r!==E.V9B&&(a.emissive=(new E.Q1f).fromArray(n.emissiveFactor)),void 0!==n.emissiveTexture&&r!==E.V9B&&A.push(t.assignTexture(a,"emissiveMap",n.emissiveTexture,E.S2Q)),Promise.all(A).then(function(){let i;return i=r===vt?s[st.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new r(a),n.name&&(i.name=n.name),qt(i,n),t.associations.set(i,{materials:e}),n.extensions&&Ht(s,i,n),i})}createUniqueName(e){const t=E.Nwf.sanitizeNodeName(e||"");let i=t;for(let s=1;this.nodeNamesUsed[i];++s)i=t+"_"+s;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,s=this.primitiveCache;function n(e){return i[st.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(i){return $t(i,e,t)})}const r=[];for(let a=0,o=e.length;a<o;a++){const i=e[a],o=Vt(i),A=s[o];if(A)r.push(A.promise);else{let e;e=i.extensions&&i.extensions[st.KHR_DRACO_MESH_COMPRESSION]?n(i):$t(new E.LoY,i,t),s[o]={primitive:i,promise:e},r.push(e)}}return Promise.all(r)}loadMesh(e){const t=this,i=this.json,s=this.extensions,n=i.meshes[e],r=n.primitives,a=[];for(let o=0,A=r.length;o<A;o++){const e=void 0===r[o].material?Ot(this.cache):this.getDependency("material",r[o].material);a.push(e)}return a.push(t.loadGeometries(r)),Promise.all(a).then(function(i){const a=i.slice(0,i.length-1),o=i[i.length-1],A=[];for(let c=0,h=o.length;c<h;c++){const i=o[c],l=r[c];let h;const u=a[c];if(l.mode===Rt.TRIANGLES||l.mode===Rt.TRIANGLE_STRIP||l.mode===Rt.TRIANGLE_FAN||void 0===l.mode)h=!0===n.isSkinnedMesh?new E.I46(i,u):new E.eaF(i,u),!0!==h.isSkinnedMesh||h.geometry.attributes.skinWeight.normalized||h.normalizeSkinWeights(),l.mode===Rt.TRIANGLE_STRIP?h.geometry=Wt(h.geometry,E.O49):l.mode===Rt.TRIANGLE_FAN&&(h.geometry=Wt(h.geometry,E.rYR));else if(l.mode===Rt.LINES)h=new E.DXC(i,u);else if(l.mode===Rt.LINE_STRIP)h=new E.N1A(i,u);else if(l.mode===Rt.LINE_LOOP)h=new E.FCc(i,u);else{if(l.mode!==Rt.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+l.mode);h=new E.ONl(i,u)}Object.keys(h.geometry.morphAttributes).length>0&&Jt(h,n),h.name=t.createUniqueName(n.name||"mesh_"+e),qt(h,n),l.extensions&&Ht(s,h,l),t.assignFinalMaterial(h),A.push(h)}for(let s=0,n=A.length;s<n;s++)t.associations.set(A[s],{meshes:e,primitives:s});if(1===A.length)return A[0];const l=new E.YJl;t.associations.set(l,{meshes:e});for(let e=0,t=A.length;e<t;e++)l.add(A[e]);return l})}loadCamera(e){let t;const i=this.json.cameras[e],s=i[i.type];if(s)return"perspective"===i.type?t=new E.ubm(E.cj9.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):"orthographic"===i.type&&(t=new E.qUd(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),qt(t,i),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],i={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(i):this.getDependency("accessor",t.inverseBindMatrices).then(function(e){return i.inverseBindMatrices=e,i})}loadAnimation(e){const t=this.json.animations[e],i=[],s=[],n=[],r=[],a=[];for(let o=0,A=t.channels.length;o<A;o++){const e=t.channels[o],A=t.samplers[e.sampler],l=e.target,c=l.node,h=void 0!==t.parameters?t.parameters[A.input]:A.input,u=void 0!==t.parameters?t.parameters[A.output]:A.output;i.push(this.getDependency("node",c)),s.push(this.getDependency("accessor",h)),n.push(this.getDependency("accessor",u)),r.push(A),a.push(l)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(n),Promise.all(r),Promise.all(a)]).then(function(i){const s=i[0],n=i[1],r=i[2],a=i[3],o=i[4],A=[];for(let e=0,t=s.length;e<t;e++){const t=s[e],i=n[e],l=r[e],c=a[e],h=o[e];if(void 0===t)continue;let u;switch(t.updateMatrix(),_t[h.path]){case _t.weights:u=E.Hit;break;case _t.rotation:u=E.MBL;break;default:u=E.RiT}const d=t.name?t.name:t.uuid,g=void 0!==c.interpolation?Ut[c.interpolation]:E.PJ3,p=[];_t[h.path]===_t.weights?t.traverse(function(e){e.morphTargetInfluences&&p.push(e.name?e.name:e.uuid)}):p.push(d);let m=l.array;if(l.normalized){const e=Yt(m.constructor),t=new Float32Array(m.length);for(let i=0,s=m.length;i<s;i++)t[i]=m[i]*e;m=t}for(let e=0,s=p.length;e<s;e++){const t=new u(p[e]+"."+_t[h.path],i.array,m,g);"CUBICSPLINE"===c.interpolation&&(t.createInterpolant=function(e){return new(this instanceof E.MBL?Mt:St)(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),A.push(t)}}const l=t.name?t.name:"animation_"+e;return new E.tz3(l,void 0,A)})}createNodeMesh(e){const t=this.json,i=this,s=t.nodes[e];return void 0===s.mesh?null:i.getDependency("mesh",s.mesh).then(function(e){const t=i._getNodeRef(i.meshCache,s.mesh,e);return void 0!==s.weights&&t.traverse(function(e){if(e.isMesh)for(let t=0,i=s.weights.length;t<i;t++)e.morphTargetInfluences[t]=s.weights[t]}),t})}loadNode(e){const t=this.json,i=this.extensions,s=this,n=t.nodes[e],r=n.name?s.createUniqueName(n.name):"";return function(){const t=[],i=s._invokeOne(function(t){return t.createNodeMesh&&t.createNodeMesh(e)});return i&&t.push(i),void 0!==n.camera&&t.push(s.getDependency("camera",n.camera).then(function(e){return s._getNodeRef(s.cameraCache,n.camera,e)})),s._invokeAll(function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)}).forEach(function(e){t.push(e)}),Promise.all(t)}().then(function(t){let a;if(a=!0===n.isBone?new E.$Kf:t.length>1?new E.YJl:1===t.length?t[0]:new E.B69,a!==t[0])for(let e=0,i=t.length;e<i;e++)a.add(t[e]);if(n.name&&(a.userData.name=n.name,a.name=r),qt(a,n),n.extensions&&Ht(i,a,n),void 0!==n.matrix){const e=new E.kn4;e.fromArray(n.matrix),a.applyMatrix4(e)}else void 0!==n.translation&&a.position.fromArray(n.translation),void 0!==n.rotation&&a.quaternion.fromArray(n.rotation),void 0!==n.scale&&a.scale.fromArray(n.scale);return s.associations.has(a)||s.associations.set(a,{}),s.associations.get(a).nodes=e,a})}loadScene(e){const t=this.json,i=this.extensions,s=this.json.scenes[e],n=this,r=new E.YJl;s.name&&(r.name=n.createUniqueName(s.name)),qt(r,s),s.extensions&&Ht(i,r,s);const a=s.nodes||[],o=[];for(let A=0,l=a.length;A<l;A++)o.push(zt(a[A],r,t,n));return Promise.all(o).then(function(){return n.associations=(e=>{const t=new Map;for(const[i,s]of n.associations)(i instanceof E.imn||i instanceof E.gPd)&&t.set(i,s);return e.traverse(e=>{const i=n.associations.get(e);null!=i&&t.set(e,i)}),t})(r),r})}}function zt(e,t,i,s){const n=i.nodes[e];return s.getDependency("node",e).then(function(e){if(void 0===n.skin)return e;let t;return s.getDependency("skin",n.skin).then(function(e){t=e;const i=[];for(let n=0,r=t.joints.length;n<r;n++)i.push(s.getDependency("node",t.joints[n]));return Promise.all(i)}).then(function(i){return e.traverse(function(e){if(!e.isMesh)return;const s=[],n=[];for(let r=0,a=i.length;r<a;r++){const e=i[r];if(e){s.push(e);const i=new E.kn4;void 0!==t.inverseBindMatrices&&i.fromArray(t.inverseBindMatrices.array,16*r),n.push(i)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[r])}e.bind(new E.EAD(s,n),e.matrixWorld)}),e})}).then(function(e){t.add(e);const r=[];if(n.children){const t=n.children;for(let n=0,a=t.length;n<a;n++){const a=t[n];r.push(zt(a,e,i,s))}}return Promise.all(r)})}function $t(e,t,i){const s=t.attributes,n=[];function r(t,s){return i.getDependency("accessor",t).then(function(t){e.setAttribute(s,t)})}for(const a in s){const t=Ft[a]||a.toLowerCase();t in e.attributes||n.push(r(s[a],t))}if(void 0!==t.indices&&!e.index){const s=i.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});n.push(s)}return qt(e,t),function(e,t,i){const s=t.attributes,n=new E.NRn;if(void 0===s.POSITION)return;{const e=i.json.accessors[s.POSITION],t=e.min,r=e.max;if(void 0===t||void 0===r)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(n.set(new E.Pq0(t[0],t[1],t[2]),new E.Pq0(r[0],r[1],r[2])),e.normalized){const t=Yt(Tt[e.componentType]);n.min.multiplyScalar(t),n.max.multiplyScalar(t)}}const r=t.targets;if(void 0!==r){const e=new E.Pq0,t=new E.Pq0;for(let s=0,n=r.length;s<n;s++){const n=r[s];if(void 0!==n.POSITION){const s=i.json.accessors[n.POSITION],r=s.min,a=s.max;if(void 0!==r&&void 0!==a){if(t.setX(Math.max(Math.abs(r[0]),Math.abs(a[0]))),t.setY(Math.max(Math.abs(r[1]),Math.abs(a[1]))),t.setZ(Math.max(Math.abs(r[2]),Math.abs(a[2]))),s.normalized){const e=Yt(Tt[s.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(e)}e.boundingBox=n;const a=new E.iyt;n.getCenter(a.center),a.radius=n.min.distanceTo(n.max)/2,e.boundingSphere=a}(e,t,i),Promise.all(n).then(function(){return void 0!==t.targets?function(e,t,i){let s=!1,n=!1,r=!1;for(let l=0,c=t.length;l<c;l++){const e=t[l];if(void 0!==e.POSITION&&(s=!0),void 0!==e.NORMAL&&(n=!0),void 0!==e.COLOR_0&&(r=!0),s&&n&&r)break}if(!s&&!n&&!r)return Promise.resolve(e);const a=[],o=[],A=[];for(let l=0,c=t.length;l<c;l++){const c=t[l];if(s){const t=void 0!==c.POSITION?i.getDependency("accessor",c.POSITION):e.attributes.position;a.push(t)}if(n){const t=void 0!==c.NORMAL?i.getDependency("accessor",c.NORMAL):e.attributes.normal;o.push(t)}if(r){const t=void 0!==c.COLOR_0?i.getDependency("accessor",c.COLOR_0):e.attributes.color;A.push(t)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(A)]).then(function(t){const i=t[0],a=t[1],o=t[2];return s&&(e.morphAttributes.position=i),n&&(e.morphAttributes.normal=a),r&&(e.morphAttributes.color=o),e.morphTargetsRelative=!0,e})}(e,t.targets,i):e})}function Wt(e,t){let i=e.getIndex();if(null===i){const t=[],s=e.getAttribute("position");if(void 0===s)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<s.count;e++)t.push(e);e.setIndex(t),i=e.getIndex()}const s=i.count-2,n=[];if(t===E.rYR)for(let a=1;a<=s;a++)n.push(i.getX(0)),n.push(i.getX(a)),n.push(i.getX(a+1));else for(let a=0;a<s;a++)a%2==0?(n.push(i.getX(a)),n.push(i.getX(a+1)),n.push(i.getX(a+2))):(n.push(i.getX(a+2)),n.push(i.getX(a+1)),n.push(i.getX(a)));n.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=e.clone();return r.setIndex(n),r}class Xt{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const i=this.workersResolve[e];if(i&&i(t),this.queue.length){const{resolve:t,msg:i,transfer:s}=this.queue.shift();this.workersResolve[e]=t,this.workers[e].postMessage(i,s)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise(i=>{const s=this._getIdleWorker();-1!==s?(this._initWorker(s),this.workerStatus|=1<<s,this.workersResolve[s]=i,this.workers[s].postMessage(e,t)):this.queue.push({resolve:i,msg:e,transfer:t})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const Zt=9,ei=15,ti=16,ii=22,si=37,ni=43,ri=76,ai=83,oi=97,Ai=100,li=103,ci=109;class hi{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class ui{constructor(e,t,i,s){this._dataView=new DataView(e.buffer,e.byteOffset+t,i),this._littleEndian=s,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+2**32*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,t=0){const i=this._offset;let s=0;for(;this._dataView.getUint8(this._offset)!==t&&s<e;)s++,this._offset++;return s<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+i,s)}}new Uint8Array([0]);const di=[171,75,84,88,32,50,48,187,13,10,26,10];function gi(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):Buffer.from(e).toString("utf8")}let pi,mi,fi;const Ii={env:{emscripten_notify_memory_growth:function(e){fi=new Uint8Array(mi.exports.memory.buffer)}}};class Ei{init(){return pi||(pi="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+Ci).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,Ii)).then(this._init):WebAssembly.instantiate(Buffer.from(Ci,"base64"),Ii).then(this._init),pi)}_init(e){mi=e.instance,Ii.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!mi)throw new Error("ZSTDDecoder: Await .init() before decoding.");const i=e.byteLength,s=mi.exports.malloc(i);fi.set(e,s),t=t||Number(mi.exports.ZSTD_findDecompressedSize(s,i));const n=mi.exports.malloc(t),r=mi.exports.ZSTD_decompress(n,t,s,i),a=fi.slice(n,n+r);return mi.exports.free(s),mi.exports.free(n),a}}const Ci="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",Bi=new WeakMap;let yi,wi=0;class vi extends E.aHM{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new Xt,this.workerSourceURL="",this.workerConfig=null,"undefined"!=typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}detectSupport(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const e=new E.Y9S(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const t=e.loadAsync("basis_transcoder.js"),i=new E.Y9S(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);const s=i.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([t,s]).then(([e,t])=>{const i=vi.BasisWorker.toString(),s=["/* constants */","let _EngineFormat = "+JSON.stringify(vi.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(vi.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(vi.BasisFormat),"/* basis_transcoder.js */",e,"/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([s])),this.transcoderBinary=t,this.workerPool.setWorkerCreator(()=>{const e=new Worker(this.workerSourceURL),t=this.transcoderBinary.slice(0);return e.postMessage({type:"init",config:this.workerConfig,transcoderBinary:t},[t]),e})}),wi>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),wi++}return this.transcoderPending}load(e,t,i,s){if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const n=new E.Y9S(this.manager);n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials),n.load(e,e=>{if(Bi.has(e)){return Bi.get(e).promise.then(t).catch(s)}this._createTexture(e).then(e=>t?t(e):null).catch(s)},i,s)}_createTextureFrom(e,t){const{mipmaps:i,width:s,height:n,format:r,type:a,error:o,dfdTransferFn:A,dfdFlags:l}=e;if("error"===a)return Promise.reject(o);const c=t.layerCount>1?new E.iOZ(i,s,n,t.layerCount,r,E.OUM):new E.FvD(i,s,n,r,E.OUM);return c.minFilter=1===i.length?E.k6q:E.$_I,c.magFilter=E.k6q,c.generateMipmaps=!1,c.needsUpdate=!0,c.encoding=2===A?E.S2Q:E.tgE,c.premultiplyAlpha=!!(1&l),c}async _createTexture(e,t={}){const i=function(e){const t=new Uint8Array(e.buffer,e.byteOffset,di.length);if(t[0]!==di[0]||t[1]!==di[1]||t[2]!==di[2]||t[3]!==di[3]||t[4]!==di[4]||t[5]!==di[5]||t[6]!==di[6]||t[7]!==di[7]||t[8]!==di[8]||t[9]!==di[9]||t[10]!==di[10]||t[11]!==di[11])throw new Error("Missing KTX 2.0 identifier.");const i=new hi,s=17*Uint32Array.BYTES_PER_ELEMENT,n=new ui(e,di.length,s,!0);i.vkFormat=n._nextUint32(),i.typeSize=n._nextUint32(),i.pixelWidth=n._nextUint32(),i.pixelHeight=n._nextUint32(),i.pixelDepth=n._nextUint32(),i.layerCount=n._nextUint32(),i.faceCount=n._nextUint32();const r=n._nextUint32();i.supercompressionScheme=n._nextUint32();const a=n._nextUint32(),o=n._nextUint32(),A=n._nextUint32(),l=n._nextUint32(),c=n._nextUint64(),h=n._nextUint64(),u=new ui(e,di.length+s,3*r*8,!0);for(let L=0;L<r;L++)i.levels.push({levelData:new Uint8Array(e.buffer,e.byteOffset+u._nextUint64(),u._nextUint64()),uncompressedByteLength:u._nextUint64()});const d=new ui(e,a,o,!0),g={vendorId:d._skip(4)._nextUint16(),descriptorType:d._nextUint16(),versionNumber:d._nextUint16(),descriptorBlockSize:d._nextUint16(),colorModel:d._nextUint8(),colorPrimaries:d._nextUint8(),transferFunction:d._nextUint8(),flags:d._nextUint8(),texelBlockDimension:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],bytesPlane:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],samples:[]},p=(g.descriptorBlockSize/4-6)/4;for(let L=0;L<p;L++){const e={bitOffset:d._nextUint16(),bitLength:d._nextUint8(),channelType:d._nextUint8(),samplePosition:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&e.channelType?(e.sampleLower=d._nextInt32(),e.sampleUpper=d._nextInt32()):(e.sampleLower=d._nextUint32(),e.sampleUpper=d._nextUint32()),g.samples[L]=e}i.dataFormatDescriptor.length=0,i.dataFormatDescriptor.push(g);const m=new ui(e,A,l,!0);for(;m._offset<l;){const e=m._nextUint32(),t=m._scan(e),s=gi(t),n=m._scan(e-t.byteLength);i.keyValue[s]=s.match(/^ktx/i)?gi(n):n,m._offset%4&&m._skip(4-m._offset%4)}if(h<=0)return i;const f=new ui(e,c,h,!0),I=f._nextUint16(),E=f._nextUint16(),C=f._nextUint32(),B=f._nextUint32(),y=f._nextUint32(),w=f._nextUint32(),v=[];for(let L=0;L<r;L++)v.push({imageFlags:f._nextUint32(),rgbSliceByteOffset:f._nextUint32(),rgbSliceByteLength:f._nextUint32(),alphaSliceByteOffset:f._nextUint32(),alphaSliceByteLength:f._nextUint32()});const Q=c+f._offset,b=Q+C,S=b+B,x=S+y,M=new Uint8Array(e.buffer,e.byteOffset+Q,C),R=new Uint8Array(e.buffer,e.byteOffset+b,B),T=new Uint8Array(e.buffer,e.byteOffset+S,y),D=new Uint8Array(e.buffer,e.byteOffset+x,w);return i.globalData={endpointCount:I,selectorCount:E,imageDescs:v,endpointsData:M,selectorsData:R,tablesData:T,extendedData:D},i}(new Uint8Array(e));if(0!==i.vkFormat)return async function(e){const{vkFormat:t,pixelWidth:i,pixelHeight:s,pixelDepth:n}=e;if(void 0===Qi[t])throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const r=e.levels[0];let a,o;if(0===e.supercompressionScheme)a=r.levelData;else{if(2!==e.supercompressionScheme)throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");yi||(yi=new Promise(async e=>{const t=new Ei;await t.init(),e(t)})),a=(await yi).decode(r.levelData,r.uncompressedByteLength)}o=bi[t]===E.RQf?new Float32Array(a.buffer,a.byteOffset,a.byteLength/Float32Array.BYTES_PER_ELEMENT):bi[t]===E.ix0?new Uint16Array(a.buffer,a.byteOffset,a.byteLength/Uint16Array.BYTES_PER_ELEMENT):a;const A=0===n?new E.GYF(o,i,s):new E.dYF(o,i,s,n);return A.type=bi[t],A.format=Qi[t],A.encoding=Si[t]||E.tgE,A.needsUpdate=!0,Promise.resolve(A)}(i);const s=t,n=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:e,taskConfig:s},[e])).then(e=>this._createTextureFrom(e.data,i));return Bi.set(e,{promise:n}),n}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),wi--,this}}vi.BasisFormat={ETC1S:0,UASTC_4x4:1},vi.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},vi.EngineFormat={RGBAFormat:E.GWd,RGBA_ASTC_4x4_Format:E.qa3,RGBA_BPTC_Format:E.Fn,RGBA_ETC2_EAC_Format:E.KDk,RGBA_PVRTC_4BPPV1_Format:E.HXV,RGBA_S3TC_DXT5_Format:E.BXX,RGB_ETC1_Format:E.CVz,RGB_ETC2_Format:E.Riy,RGB_PVRTC_4BPPV1_Format:E.k6Q,RGB_S3TC_DXT1_Format:E.IE4},vi.BasisWorker=function(){let e,t,i;const s=_EngineFormat,n=_TranscoderFormat,r=_BasisFormat;self.addEventListener("message",function(a){const h=a.data;switch(h.type){case"init":e=h.config,u=h.transcoderBinary,t=new Promise(e=>{i={wasmBinary:u,onRuntimeInitialized:e},BASIS(i)}).then(()=>{i.initializeBasis(),void 0===i.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")});break;case"transcode":t.then(()=>{try{const{width:t,height:a,hasAlpha:u,mipmaps:d,format:g,dfdTransferFn:p,dfdFlags:m}=function(t){const a=new i.KTX2File(new Uint8Array(t));function h(){a.close(),a.delete()}if(!a.isValid())throw h(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");const u=a.isUASTC()?r.UASTC_4x4:r.ETC1S,d=a.getWidth(),g=a.getHeight(),p=a.getLayers()||1,m=a.getLevels(),f=a.getHasAlpha(),I=a.getDFDTransferFunc(),E=a.getDFDFlags(),{transcoderFormat:C,engineFormat:B}=function(t,i,a,c){let h,u;const d=t===r.ETC1S?o:A;for(let s=0;s<d.length;s++){const n=d[s];if(e[n.if]&&(n.basisFormat.includes(t)&&!(c&&n.transcoderFormat.length<2)&&(!n.needsPowerOfTwo||l(i)&&l(a))))return h=n.transcoderFormat[c?1:0],u=n.engineFormat[c?1:0],{transcoderFormat:h,engineFormat:u}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),h=n.RGBA32,u=s.RGBAFormat,{transcoderFormat:h,engineFormat:u}}(u,d,g,f);if(!d||!g||!m)throw h(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!a.startTranscoding())throw h(),new Error("THREE.KTX2Loader: .startTranscoding failed");const y=[];for(let e=0;e<m;e++){const t=[];let i,s;for(let n=0;n<p;n++){const r=a.getImageLevelInfo(e,n,0);i=r.origWidth,s=r.origHeight;const o=new Uint8Array(a.getImageTranscodedSizeInBytes(e,n,0,C));if(!a.transcodeImage(o,e,n,0,C,0,-1,-1))throw h(),new Error("THREE.KTX2Loader: .transcodeImage failed.");t.push(o)}y.push({data:c(t),width:i,height:s})}return h(),{width:d,height:g,hasAlpha:f,mipmaps:y,format:B,dfdTransferFn:I,dfdFlags:E}}(h.buffer),f=[];for(let e=0;e<d.length;++e)f.push(d[e].data.buffer);self.postMessage({type:"transcode",id:h.id,width:t,height:a,hasAlpha:u,mipmaps:d,format:g,dfdTransferFn:p,dfdFlags:m},f)}catch(t){console.error(t),self.postMessage({type:"error",id:h.id,error:t.message})}})}var u});const a=[{if:"astcSupported",basisFormat:[r.UASTC_4x4],transcoderFormat:[n.ASTC_4x4,n.ASTC_4x4],engineFormat:[s.RGBA_ASTC_4x4_Format,s.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[r.ETC1S,r.UASTC_4x4],transcoderFormat:[n.BC7_M5,n.BC7_M5],engineFormat:[s.RGBA_BPTC_Format,s.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[r.ETC1S,r.UASTC_4x4],transcoderFormat:[n.BC1,n.BC3],engineFormat:[s.RGB_S3TC_DXT1_Format,s.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[r.ETC1S,r.UASTC_4x4],transcoderFormat:[n.ETC1,n.ETC2],engineFormat:[s.RGB_ETC2_Format,s.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[r.ETC1S,r.UASTC_4x4],transcoderFormat:[n.ETC1],engineFormat:[s.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[r.ETC1S,r.UASTC_4x4],transcoderFormat:[n.PVRTC1_4_RGB,n.PVRTC1_4_RGBA],engineFormat:[s.RGB_PVRTC_4BPPV1_Format,s.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],o=a.sort(function(e,t){return e.priorityETC1S-t.priorityETC1S}),A=a.sort(function(e,t){return e.priorityUASTC-t.priorityUASTC});function l(e){return e<=2||!(e&e-1)&&0!==e}function c(e){let t=0;for(const n of e)t+=n.byteLength;const i=new Uint8Array(t);let s=0;for(const n of e)i.set(n,s),s+=n.byteLength;return i}};const Qi={[ci]:E.GWd,[oi]:E.GWd,[si]:E.GWd,[ni]:E.GWd,[li]:E.paN,[ai]:E.paN,[ti]:E.paN,[ii]:E.paN,[Ai]:E.VT0,[ri]:E.VT0,[ei]:E.VT0,[Zt]:E.VT0},bi={[ci]:E.RQf,[oi]:E.ix0,[si]:E.OUM,[ni]:E.OUM,[li]:E.RQf,[ai]:E.ix0,[ti]:E.OUM,[ii]:E.OUM,[Ai]:E.RQf,[ri]:E.ix0,[ei]:E.OUM,[Zt]:E.OUM},Si={[ni]:E.S2Q,[ii]:E.S2Q,[ei]:E.S2Q};var xi,Mi;const Ri=Symbol("retainerCount"),Ti=Symbol("recentlyUsed"),Di=Symbol("evict"),Li=Symbol("evictionThreshold"),ki=Symbol("cache");class Fi{constructor(e,t=5){this[xi]=new Map,this[Mi]=[],this[ki]=e,this[Li]=t}set evictionThreshold(e){this[Li]=e,this[Di]()}get evictionThreshold(){return this[Li]}get cache(){return this[ki]}retainerCount(e){return this[Ri].get(e)||0}reset(){this[Ri].clear(),this[Ti]=[]}retain(e){this[Ri].has(e)||this[Ri].set(e,0),this[Ri].set(e,this[Ri].get(e)+1);const t=this[Ti].indexOf(e);-1!==t&&this[Ti].splice(t,1),this[Ti].unshift(e),this[Di]()}release(e){this[Ri].has(e)&&this[Ri].set(e,Math.max(this[Ri].get(e)-1,0)),this[Di]()}[(xi=Ri,Mi=Ti,Di)](){if(!(this[Ti].length<this[Li]))for(let e=this[Ti].length-1;e>=this[Li];--e){const t=this[Ti][e];0===this[Ri].get(t)&&(this[ki].delete(t),this[Ti].splice(e,1))}}}const _i=e=>{const t=new Map;for(const i of e.mappings)for(const e of i.variants)t.set(e,{material:null,gltfMaterialIndex:i.material});return t};class Ui{constructor(e){this.parser=e,this.name="KHR_materials_variants"}afterRoot(e){const t=this.parser,i=t.json;if(void 0===i.extensions||void 0===i.extensions[this.name])return null;const s=(e=>{const t=[],i=new Set;for(const s of e){let e=s,n=0;for(;i.has(e);)e=s+"."+ ++n;i.add(e),t.push(e)}return t})((i.extensions[this.name].variants||[]).map(e=>e.name));for(const n of e.scenes)n.traverse(e=>{const s=e;if(!s.isMesh)return;const n=t.associations.get(s);if(null==n||null==n.meshes||null==n.primitives)return;const r=i.meshes[n.meshes].primitives[n.primitives].extensions;r&&r[this.name]&&(s.userData.variantMaterials=_i(r[this.name]))});return e.userData.variants=s,Promise.resolve()}}var Ni,Gi;const Pi=new Map,Oi=new Map;let Hi;const qi=new Ze;let Ji;const Vi=new vi;let ji,Yi;const Ki=Symbol("loader"),zi=Symbol("evictionPolicy"),$i=Symbol("GLTFInstance");class Wi extends E.Qev{constructor(e){super(),this[Gi]=(new tt).register(e=>new Ui(e)),this[$i]=e,this[Ki].setDRACOLoader(qi),this[Ki].setKTX2Loader(Vi)}static setDRACODecoderLocation(e){Hi=e,qi.setDecoderPath(e)}static getDRACODecoderLocation(){return Hi}static setKTX2TranscoderLocation(e){Ji=e,Vi.setTranscoderPath(e)}static getKTX2TranscoderLocation(){return Ji}static setMeshoptDecoderLocation(e){var t;ji!==e&&(ji=e,Yi=(t=e,new Promise((e,i)=>{const s=document.createElement("script");document.body.appendChild(s),s.onload=e,s.onerror=i,s.async=!0,s.src=t})).then(()=>MeshoptDecoder.ready).then(()=>MeshoptDecoder))}static getMeshoptDecoderLocation(){return ji}static initializeKTX2Loader(e){Vi.detectSupport(e)}static get cache(){return Pi}static clearCache(){Pi.forEach((e,t)=>{this.delete(t)}),this[zi].reset()}static has(e){return Pi.has(e)}static async delete(e){if(!this.has(e))return;const t=Pi.get(e);Oi.delete(e),Pi.delete(e);(await t).dispose()}static hasFinishedLoading(e){return!!Oi.get(e)}get[(Ni=zi,Gi=Ki,zi)](){return this.constructor[zi]}async preload(e,t,i=()=>{}){if(this[Ki].setWithCredentials(Wi.withCredentials),this.dispatchEvent({type:"preload",element:t,src:e}),!Pi.has(e)){null!=Yi&&this[Ki].setMeshoptDecoder(await Yi);const t=((e,t,i=()=>{})=>{const s=e=>{const t=e.loaded/e.total;i(Math.max(0,Math.min(1,isFinite(t)?t:1)))};return new Promise((i,n)=>{t.load(e,i,s,n)})})(e,this[Ki],e=>{i(.8*e)}),s=this[$i],n=t.then(e=>s.prepare(e)).then(e=>(i(.9),new s(e))).catch(e=>(console.error(e),new s));Pi.set(e,n)}await Pi.get(e),Oi.set(e,!0),i&&i(1)}async load(e,t,i=()=>{}){await this.preload(e,t,i);const s=await Pi.get(e),n=await s.clone();return this[zi].retain(e),n.dispose=()=>{this[zi].release(e)},n}}Wi[Ni]=new Fi(Wi);class Xi extends E.B69{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}const Zi=new E.Pq0,es=new E.kn4,ts=new E.kn4,is=new E.Pq0,ss=new E.Pq0;class ns{constructor(e={}){const t=this;let i,s,n,r;const a={objects:new WeakMap},o=void 0!==e.element?e.element:document.createElement("div");function A(e,i,s){if(e.isCSS2DObject){Zi.setFromMatrixPosition(e.matrixWorld),Zi.applyMatrix4(ts);const A=!0===e.visible&&Zi.z>=-1&&Zi.z<=1&&!0===e.layers.test(s.layers);if(e.element.style.display=!0===A?"":"none",!0===A){e.onBeforeRender(t,i,s);const a=e.element;a.style.transform="translate(-50%,-50%) translate("+(Zi.x*n+n)+"px,"+(-Zi.y*r+r)+"px)",a.parentNode!==o&&o.appendChild(a),e.onAfterRender(t,i,s)}const c={distanceToCameraSquared:l(s,e)};a.objects.set(e,c)}for(let t=0,n=e.children.length;t<n;t++)A(e.children[t],i,s)}function l(e,t){return is.setFromMatrixPosition(e.matrixWorld),ss.setFromMatrixPosition(t.matrixWorld),is.distanceToSquared(ss)}o.style.overflow="hidden",this.domElement=o,this.getSize=function(){return{width:i,height:s}},this.render=function(e,t){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),es.copy(t.matrixWorldInverse),ts.multiplyMatrices(t.projectionMatrix,es),A(e,e,t),function(e){const t=function(e){const t=[];return e.traverse(function(e){e.isCSS2DObject&&t.push(e)}),t}(e).sort(function(e,t){if(e.renderOrder!==t.renderOrder)return t.renderOrder-e.renderOrder;return a.objects.get(e).distanceToCameraSquared-a.objects.get(t).distanceToCameraSquared}),i=t.length;for(let s=0,n=t.length;s<n;s++)t[s].element.style.zIndex=i-s}(e)},this.setSize=function(e,t){i=e,s=t,n=i/2,r=s/2,o.style.width=e+"px",o.style.height=t+"px"}}}class rs{constructor(){this.pluginCallbacks=[],this.register(function(e){return new ks(e)}),this.register(function(e){return new Fs(e)}),this.register(function(e){return new _s(e)}),this.register(function(e){return new Gs(e)}),this.register(function(e){return new Ps(e)}),this.register(function(e){return new Us(e)}),this.register(function(e){return new Ns(e)})}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,s){const n=new Ls,r=[];for(let a=0,o=this.pluginCallbacks.length;a<o;a++)r.push(this.pluginCallbacks[a](n));n.setPlugins(r),n.write(e,t,s).catch(i)}parseAsync(e,t){const i=this;return new Promise(function(s,n){i.parse(e,s,n,t)})}}const as=0,os=1,As=2,ls=3,cs=4,hs=5121,us=5123,ds=5126,gs=5125,ps=34962,ms=34963,fs=9728,Is=9729,Es=9984,Cs=9985,Bs=9986,ys=9987,ws=33071,vs=33648,Qs=10497,bs={};bs[E.hxR]=fs,bs[E.pHI]=Es,bs[E.Cfg]=Bs,bs[E.k6q]=Is,bs[E.kRr]=Cs,bs[E.$_I]=ys,bs[E.ghU]=ws,bs[E.GJx]=Qs,bs[E.kTW]=vs;const Ss={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"};function xs(e,t){return e.length===t.length&&e.every(function(e,i){return e===t[i]})}function Ms(e){return 4*Math.ceil(e/4)}function Rs(e,t=0){const i=Ms(e.byteLength);if(i!==e.byteLength){const s=new Uint8Array(i);if(s.set(new Uint8Array(e)),0!==t)for(let n=e.byteLength;n<i;n++)s[n]=t;return s.buffer}return e}function Ts(){return"undefined"==typeof document&&"undefined"!=typeof OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas")}function Ds(e,t){if(void 0!==e.toBlob)return new Promise(i=>e.toBlob(i,t));let i;return"image/jpeg"===t?i=.92:"image/webp"===t&&(i=.8),e.convertToBlob({type:t,quality:i})}class Ls{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(e){this.plugins=e}async write(e,t,i){this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},i),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(e),await Promise.all(this.pending);const s=this,n=s.buffers,r=s.json;i=s.options;const a=s.extensionsUsed,o=new Blob(n,{type:"application/octet-stream"}),A=Object.keys(a);if(A.length>0&&(r.extensionsUsed=A),r.buffers&&r.buffers.length>0&&(r.buffers[0].byteLength=o.size),!0===i.binary){const e=new FileReader;e.readAsArrayBuffer(o),e.onloadend=function(){const i=Rs(e.result),s=new DataView(new ArrayBuffer(8));s.setUint32(0,i.byteLength,!0),s.setUint32(4,5130562,!0);const n=Rs((a=JSON.stringify(r),(new TextEncoder).encode(a).buffer),32);var a;const o=new DataView(new ArrayBuffer(8));o.setUint32(0,n.byteLength,!0),o.setUint32(4,1313821514,!0);const A=new ArrayBuffer(12),l=new DataView(A);l.setUint32(0,1179937895,!0),l.setUint32(4,2,!0);const c=12+o.byteLength+n.byteLength+s.byteLength+i.byteLength;l.setUint32(8,c,!0);const h=new Blob([A,o,n,s,i],{type:"application/octet-stream"}),u=new FileReader;u.readAsArrayBuffer(h),u.onloadend=function(){t(u.result)}}}else if(r.buffers&&r.buffers.length>0){const e=new FileReader;e.readAsDataURL(o),e.onloadend=function(){const i=e.result;r.buffers[0].uri=i,t(r)}}else t(r)}serializeUserData(e,t){if(0===Object.keys(e.userData).length)return;const i=this.options,s=this.extensionsUsed;try{const n=JSON.parse(JSON.stringify(e.userData));if(i.includeCustomExtensions&&n.gltfExtensions){void 0===t.extensions&&(t.extensions={});for(const e in n.gltfExtensions)t.extensions[e]=n.gltfExtensions[e],s[e]=!0;delete n.gltfExtensions}Object.keys(n).length>0&&(t.extras=n)}catch(n){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+n.message)}}getUID(e,t=!1){if(!1===this.uids.has(e)){const t=new Map;t.set(!0,this.uid++),t.set(!1,this.uid++),this.uids.set(e,t)}return this.uids.get(e).get(t)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;const t=new E.Pq0;for(let i=0,s=e.count;i<s;i++)if(Math.abs(t.fromBufferAttribute(e,i).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){const t=this.cache;if(t.attributesNormalized.has(e))return t.attributesNormalized.get(e);const i=e.clone(),s=new E.Pq0;for(let n=0,r=i.count;n<r;n++)s.fromBufferAttribute(i,n),0===s.x&&0===s.y&&0===s.z?s.setX(1):s.normalize(),i.setXYZ(n,s.x,s.y,s.z);return t.attributesNormalized.set(e,i),i}applyTextureTransform(e,t){let i=!1;const s={};0===t.offset.x&&0===t.offset.y||(s.offset=t.offset.toArray(),i=!0),0!==t.rotation&&(s.rotation=t.rotation,i=!0),1===t.repeat.x&&1===t.repeat.y||(s.scale=t.repeat.toArray(),i=!0),i&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=s,this.extensionsUsed.KHR_texture_transform=!0)}buildMetalRoughTexture(e,t){if(e===t)return e;function i(e){return e.encoding===E.S2Q?function(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}:function(e){return e}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.");const s=e?.image,n=t?.image,r=Math.max(s?.width||0,n?.width||0),a=Math.max(s?.height||0,n?.height||0),o=Ts();o.width=r,o.height=a;const A=o.getContext("2d");A.fillStyle="#00ffff",A.fillRect(0,0,r,a);const l=A.getImageData(0,0,r,a);if(s){A.drawImage(s,0,0,r,a);const t=i(e),n=A.getImageData(0,0,r,a).data;for(let e=2;e<n.length;e+=4)l.data[e]=256*t(n[e]/256)}if(n){A.drawImage(n,0,0,r,a);const e=i(t),s=A.getImageData(0,0,r,a).data;for(let t=1;t<s.length;t+=4)l.data[t]=256*e(s[t]/256)}A.putImageData(l,0,0);const c=(e||t).clone();return c.source=new E.kLi(o),c.encoding=E.tgE,c}processBuffer(e){const t=this.json,i=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),i.push(e),0}processBufferView(e,t,i,s,n){const r=this.json;let a;r.bufferViews||(r.bufferViews=[]),a=t===hs?1:t===us?2:4;const o=Ms(s*e.itemSize*a),A=new DataView(new ArrayBuffer(o));let l=0;for(let h=i;h<i+s;h++)for(let i=0;i<e.itemSize;i++){let s;e.itemSize>4?s=e.array[h*e.itemSize+i]:0===i?s=e.getX(h):1===i?s=e.getY(h):2===i?s=e.getZ(h):3===i&&(s=e.getW(h)),t===ds?A.setFloat32(l,s,!0):t===gs?A.setUint32(l,s,!0):t===us?A.setUint16(l,s,!0):t===hs&&A.setUint8(l,s),l+=a}const c={buffer:this.processBuffer(A.buffer),byteOffset:this.byteOffset,byteLength:o};void 0!==n&&(c.target=n),n===ps&&(c.byteStride=e.itemSize*a),this.byteOffset+=o,r.bufferViews.push(c);return{id:r.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){const t=this,i=t.json;return i.bufferViews||(i.bufferViews=[]),new Promise(function(s){const n=new FileReader;n.readAsArrayBuffer(e),n.onloadend=function(){const e=Rs(n.result),r={buffer:t.processBuffer(e),byteOffset:t.byteOffset,byteLength:e.byteLength};t.byteOffset+=e.byteLength,s(i.bufferViews.push(r)-1)}})}processAccessor(e,t,i,s){const n=this.json;let r;if(e.array.constructor===Float32Array)r=ds;else if(e.array.constructor===Uint32Array)r=gs;else if(e.array.constructor===Uint16Array)r=us;else{if(e.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");r=hs}if(void 0===i&&(i=0),void 0===s&&(s=e.count),0===s)return null;const a=function(e,t,i){const s={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let n=t;n<t+i;n++)for(let t=0;t<e.itemSize;t++){let i;e.itemSize>4?i=e.array[n*e.itemSize+t]:0===t?i=e.getX(n):1===t?i=e.getY(n):2===t?i=e.getZ(n):3===t&&(i=e.getW(n)),s.min[t]=Math.min(s.min[t],i),s.max[t]=Math.max(s.max[t],i)}return s}(e,i,s);let o;void 0!==t&&(o=e===t.index?ms:ps);const A=this.processBufferView(e,r,i,s,o),l={bufferView:A.id,byteOffset:A.byteOffset,componentType:r,count:s,max:a.max,min:a.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[e.itemSize]};return!0===e.normalized&&(l.normalized=!0),n.accessors||(n.accessors=[]),n.accessors.push(l)-1}processImage(e,t,i,s="image/png"){const n=this,r=n.cache,a=n.json,o=n.options,A=n.pending;r.images.has(e)||r.images.set(e,{});const l=r.images.get(e),c=s+":flipY/"+i.toString();if(void 0!==l[c])return l[c];a.images||(a.images=[]);const h={mimeType:s},u=Ts();u.width=Math.min(e.width,o.maxTextureSize),u.height=Math.min(e.height,o.maxTextureSize);const d=u.getContext("2d");if(!0===i&&(d.translate(0,u.height),d.scale(1,-1)),void 0!==e.data){t!==E.GWd&&console.error("GLTFExporter: Only RGBAFormat is supported."),(e.width>o.maxTextureSize||e.height>o.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);const i=new Uint8ClampedArray(e.height*e.width*4);for(let t=0;t<i.length;t+=4)i[t+0]=e.data[t+0],i[t+1]=e.data[t+1],i[t+2]=e.data[t+2],i[t+3]=e.data[t+3];d.putImageData(new ImageData(i,e.width,e.height),0,0)}else d.drawImage(e,0,0,u.width,u.height);!0===o.binary?A.push(Ds(u,s).then(e=>n.processBufferViewImage(e)).then(e=>{h.bufferView=e})):void 0!==u.toDataURL?h.uri=u.toDataURL(s):A.push(Ds(u,s).then(e=>(new FileReader).readAsDataURL(e)).then(e=>{h.uri=e}));const g=a.images.push(h)-1;return l[c]=g,g}processSampler(e){const t=this.json;t.samplers||(t.samplers=[]);const i={magFilter:bs[e.magFilter],minFilter:bs[e.minFilter],wrapS:bs[e.wrapS],wrapT:bs[e.wrapT]};return t.samplers.push(i)-1}processTexture(e){const t=this.cache,i=this.json;if(t.textures.has(e))return t.textures.get(e);i.textures||(i.textures=[]);let s=e.userData.mimeType;"image/webp"===s&&(s="image/png");const n={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,s)};e.name&&(n.name=e.name),this._invokeAll(function(t){t.writeTexture&&t.writeTexture(e,n)});const r=i.textures.push(n)-1;return t.textures.set(e,r),r}processMaterial(e){const t=this.cache,i=this.json;if(t.materials.has(e))return t.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;i.materials||(i.materials=[]);const s={pbrMetallicRoughness:{}};!0!==e.isMeshStandardMaterial&&!0!==e.isMeshBasicMaterial&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const n=e.color.toArray().concat([e.opacity]);if(xs(n,[1,1,1,1])||(s.pbrMetallicRoughness.baseColorFactor=n),e.isMeshStandardMaterial?(s.pbrMetallicRoughness.metallicFactor=e.metalness,s.pbrMetallicRoughness.roughnessFactor=e.roughness):(s.pbrMetallicRoughness.metallicFactor=.5,s.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){const t=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),i={index:this.processTexture(t)};this.applyTextureTransform(i,t),s.pbrMetallicRoughness.metallicRoughnessTexture=i}if(e.map){const t={index:this.processTexture(e.map)};this.applyTextureTransform(t,e.map),s.pbrMetallicRoughness.baseColorTexture=t}if(e.emissive){const t=e.emissive.clone().multiplyScalar(e.emissiveIntensity),i=Math.max(t.r,t.g,t.b);if(i>1&&(t.multiplyScalar(1/i),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),i>0&&(s.emissiveFactor=t.toArray()),e.emissiveMap){const t={index:this.processTexture(e.emissiveMap)};this.applyTextureTransform(t,e.emissiveMap),s.emissiveTexture=t}}if(e.normalMap){const t={index:this.processTexture(e.normalMap)};e.normalScale&&1!==e.normalScale.x&&(t.scale=e.normalScale.x),this.applyTextureTransform(t,e.normalMap),s.normalTexture=t}if(e.aoMap){const t={index:this.processTexture(e.aoMap),texCoord:1};1!==e.aoMapIntensity&&(t.strength=e.aoMapIntensity),this.applyTextureTransform(t,e.aoMap),s.occlusionTexture=t}e.transparent?s.alphaMode="BLEND":e.alphaTest>0&&(s.alphaMode="MASK",s.alphaCutoff=e.alphaTest),e.side===E.$EB&&(s.doubleSided=!0),""!==e.name&&(s.name=e.name),this.serializeUserData(e,s),this._invokeAll(function(t){t.writeMaterial&&t.writeMaterial(e,s)});const r=i.materials.push(s)-1;return t.materials.set(e,r),r}processMesh(e){const t=this.cache,i=this.json,s=[e.geometry.uuid];if(Array.isArray(e.material))for(let I=0,E=e.material.length;I<E;I++)s.push(e.material[I].uuid);else s.push(e.material.uuid);const n=s.join(":");if(t.meshes.has(n))return t.meshes.get(n);const r=e.geometry;let a;a=e.isLineSegments?os:e.isLineLoop?As:e.isLine?ls:e.isPoints?as:e.material.wireframe?os:cs;const o={},A={},l=[],c=[],h={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},u=r.getAttribute("normal");void 0===u||this.isNormalizedNormalAttribute(u)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),r.setAttribute("normal",this.createNormalizedNormalAttribute(u)));let d=null;for(let I in r.attributes){if("morph"===I.slice(0,5))continue;const e=r.attributes[I];I=h[I]||I.toUpperCase();if(/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(I)||(I="_"+I),t.attributes.has(this.getUID(e))){A[I]=t.attributes.get(this.getUID(e));continue}d=null;const i=e.array;"JOINTS_0"!==I||i instanceof Uint16Array||i instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),d=new E.THS(new Uint16Array(i),e.itemSize,e.normalized));const s=this.processAccessor(d||e,r);null!==s&&(A[I]=s,t.attributes.set(this.getUID(e),s))}if(void 0!==u&&r.setAttribute("normal",u),0===Object.keys(A).length)return null;if(void 0!==e.morphTargetInfluences&&e.morphTargetInfluences.length>0){const i=[],s=[],n={};if(void 0!==e.morphTargetDictionary)for(const t in e.morphTargetDictionary)n[e.morphTargetDictionary[t]]=t;for(let a=0;a<e.morphTargetInfluences.length;++a){const o={};let A=!1;for(const e in r.morphAttributes){if("position"!==e&&"normal"!==e){A||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),A=!0);continue}const i=r.morphAttributes[e][a],s=e.toUpperCase(),n=r.attributes[e];if(t.attributes.has(this.getUID(i,!0))){o[s]=t.attributes.get(this.getUID(i,!0));continue}const l=i.clone();if(!r.morphTargetsRelative)for(let e=0,t=i.count;e<t;e++)l.setXYZ(e,i.getX(e)-n.getX(e),i.getY(e)-n.getY(e),i.getZ(e)-n.getZ(e));o[s]=this.processAccessor(l,r),t.attributes.set(this.getUID(n,!0),o[s])}c.push(o),i.push(e.morphTargetInfluences[a]),void 0!==e.morphTargetDictionary&&s.push(n[a])}o.weights=i,s.length>0&&(o.extras={},o.extras.targetNames=s)}const g=Array.isArray(e.material);if(g&&0===r.groups.length)return null;const p=g?e.material:[e.material],m=g?r.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let I=0,E=m.length;I<E;I++){const e={mode:a,attributes:A};if(this.serializeUserData(r,e),c.length>0&&(e.targets=c),null!==r.index){let i=this.getUID(r.index);void 0===m[I].start&&void 0===m[I].count||(i+=":"+m[I].start+":"+m[I].count),t.attributes.has(i)?e.indices=t.attributes.get(i):(e.indices=this.processAccessor(r.index,r,m[I].start,m[I].count),t.attributes.set(i,e.indices)),null===e.indices&&delete e.indices}const i=this.processMaterial(p[m[I].materialIndex]);null!==i&&(e.material=i),l.push(e)}o.primitives=l,i.meshes||(i.meshes=[]),this._invokeAll(function(t){t.writeMesh&&t.writeMesh(e,o)});const f=i.meshes.push(o)-1;return t.meshes.set(n,f),f}processCamera(e){const t=this.json;t.cameras||(t.cameras=[]);const i=e.isOrthographicCamera,s={type:i?"orthographic":"perspective"};return i?s.orthographic={xmag:2*e.right,ymag:2*e.top,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:s.perspective={aspectRatio:e.aspect,yfov:E.cj9.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},""!==e.name&&(s.name=e.type),t.cameras.push(s)-1}processAnimation(e,t){const i=this.json,s=this.nodeMap;i.animations||(i.animations=[]);const n=(e=rs.Utils.mergeMorphTargetTracks(e.clone(),t)).tracks,r=[],a=[];for(let o=0;o<n.length;++o){const e=n[o],i=E.Nwf.parseTrackName(e.name);let A=E.Nwf.findNode(t,i.nodeName);const l=Ss[i.propertyName];if("bones"===i.objectName&&(A=!0===A.isSkinnedMesh?A.skeleton.getBoneByName(i.objectIndex):void 0),!A||!l)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',e.name),null;const c=1;let h,u=e.values.length/e.times.length;l===Ss.morphTargetInfluences&&(u/=A.morphTargetInfluences.length),!0===e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(h="CUBICSPLINE",u/=3):h=e.getInterpolation()===E.ljd?"STEP":"LINEAR",a.push({input:this.processAccessor(new E.THS(e.times,c)),output:this.processAccessor(new E.THS(e.values,u)),interpolation:h}),r.push({sampler:a.length-1,target:{node:s.get(A),path:l}})}return i.animations.push({name:e.name||"clip_"+i.animations.length,samplers:a,channels:r}),i.animations.length-1}processSkin(e){const t=this.json,i=this.nodeMap,s=t.nodes[i.get(e)],n=e.skeleton;if(void 0===n)return null;const r=e.skeleton.bones[0];if(void 0===r)return null;const a=[],o=new Float32Array(16*n.bones.length),A=new E.kn4;for(let l=0;l<n.bones.length;++l)a.push(i.get(n.bones[l])),A.copy(n.boneInverses[l]),A.multiply(e.bindMatrix).toArray(o,16*l);void 0===t.skins&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new E.THS(o,16)),joints:a,skeleton:i.get(r)});return s.skin=t.skins.length-1}processNode(e){const t=this.json,i=this.options,s=this.nodeMap;t.nodes||(t.nodes=[]);const n={};if(i.trs){const t=e.quaternion.toArray(),i=e.position.toArray(),s=e.scale.toArray();xs(t,[0,0,0,1])||(n.rotation=t),xs(i,[0,0,0])||(n.translation=i),xs(s,[1,1,1])||(n.scale=s)}else e.matrixAutoUpdate&&e.updateMatrix(),!1===xs(e.matrix.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])&&(n.matrix=e.matrix.elements);if(""!==e.name&&(n.name=String(e.name)),this.serializeUserData(e,n),e.isMesh||e.isLine||e.isPoints){const t=this.processMesh(e);null!==t&&(n.mesh=t)}else e.isCamera&&(n.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){const t=[];for(let s=0,n=e.children.length;s<n;s++){const n=e.children[s];if(n.visible||!1===i.onlyVisible){const e=this.processNode(n);null!==e&&t.push(e)}}t.length>0&&(n.children=t)}this._invokeAll(function(t){t.writeNode&&t.writeNode(e,n)});const r=t.nodes.push(n)-1;return s.set(e,r),r}processScene(e){const t=this.json,i=this.options;t.scenes||(t.scenes=[],t.scene=0);const s={};""!==e.name&&(s.name=e.name),t.scenes.push(s);const n=[];for(let r=0,a=e.children.length;r<a;r++){const t=e.children[r];if(t.visible||!1===i.onlyVisible){const e=this.processNode(t);null!==e&&n.push(e)}}n.length>0&&(s.nodes=n),this.serializeUserData(e,s)}processObjects(e){const t=new E.Z58;t.name="AuxScene";for(let i=0;i<e.length;i++)t.children.push(e[i]);this.processScene(t)}processInput(e){const t=this.options;e=e instanceof Array?e:[e],this._invokeAll(function(t){t.beforeParse&&t.beforeParse(e)});const i=[];for(let s=0;s<e.length;s++)e[s]instanceof E.Z58?this.processScene(e[s]):i.push(e[s]);i.length>0&&this.processObjects(i);for(let s=0;s<this.skins.length;++s)this.processSkin(this.skins[s]);for(let s=0;s<t.animations.length;++s)this.processAnimation(t.animations[s],e[0]);this._invokeAll(function(t){t.afterParse&&t.afterParse(e)})}_invokeAll(e){for(let t=0,i=this.plugins.length;t<i;t++)e(this.plugins[t])}}class ks{constructor(e){this.writer=e,this.name="KHR_lights_punctual"}writeNode(e,t){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight)return void console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e);const i=this.writer,s=i.json,n=i.extensionsUsed,r={};e.name&&(r.name=e.name),r.color=e.color.toArray(),r.intensity=e.intensity,e.isDirectionalLight?r.type="directional":e.isPointLight?(r.type="point",e.distance>0&&(r.range=e.distance)):e.isSpotLight&&(r.type="spot",e.distance>0&&(r.range=e.distance),r.spot={},r.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,r.spot.outerConeAngle=e.angle),void 0!==e.decay&&2!==e.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),!e.target||e.target.parent===e&&0===e.target.position.x&&0===e.target.position.y&&-1===e.target.position.z||console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),n[this.name]||(s.extensions=s.extensions||{},s.extensions[this.name]={lights:[]},n[this.name]=!0);const a=s.extensions[this.name].lights;a.push(r),t.extensions=t.extensions||{},t.extensions[this.name]={light:a.length-1}}}class Fs{constructor(e){this.writer=e,this.name="KHR_materials_unlit"}writeMaterial(e,t){if(!e.isMeshBasicMaterial)return;const i=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},i[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}class _s{constructor(e){this.writer=e,this.name="KHR_materials_pbrSpecularGlossiness"}writeMaterial(e,t){if(!e.isGLTFSpecularGlossinessMaterial)return;const i=this.writer,s=i.extensionsUsed,n={};t.pbrMetallicRoughness.baseColorFactor&&(n.diffuseFactor=t.pbrMetallicRoughness.baseColorFactor);const r=[1,1,1];if(e.specular.toArray(r,0),n.specularFactor=r,n.glossinessFactor=e.glossiness,t.pbrMetallicRoughness.baseColorTexture&&(n.diffuseTexture=t.pbrMetallicRoughness.baseColorTexture),e.specularMap){const t={index:i.processTexture(e.specularMap)};i.applyTextureTransform(t,e.specularMap),n.specularGlossinessTexture=t}t.extensions=t.extensions||{},t.extensions[this.name]=n,s[this.name]=!0}}class Us{constructor(e){this.writer=e,this.name="KHR_materials_clearcoat"}writeMaterial(e,t){if(!e.isMeshPhysicalMaterial)return;const i=this.writer,s=i.extensionsUsed,n={};if(n.clearcoatFactor=e.clearcoat,e.clearcoatMap){const t={index:i.processTexture(e.clearcoatMap)};i.applyTextureTransform(t,e.clearcoatMap),n.clearcoatTexture=t}if(n.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){const t={index:i.processTexture(e.clearcoatRoughnessMap)};i.applyTextureTransform(t,e.clearcoatRoughnessMap),n.clearcoatRoughnessTexture=t}if(e.clearcoatNormalMap){const t={index:i.processTexture(e.clearcoatNormalMap)};i.applyTextureTransform(t,e.clearcoatNormalMap),n.clearcoatNormalTexture=t}t.extensions=t.extensions||{},t.extensions[this.name]=n,s[this.name]=!0}}class Ns{constructor(e){this.writer=e,this.name="KHR_materials_iridescence"}writeMaterial(e,t){if(!e.isMeshPhysicalMaterial)return;const i=this.writer,s=i.extensionsUsed,n={};if(n.iridescenceFactor=e.iridescence,e.iridescenceMap){const t={index:i.processTexture(e.iridescenceMap)};i.applyTextureTransform(t,e.iridescenceMap),n.iridescenceTexture=t}if(n.iridescenceIor=e.iridescenceIOR,n.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],n.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){const t={index:i.processTexture(e.iridescenceThicknessMap)};i.applyTextureTransform(t,e.iridescenceThicknessMap),n.iridescenceThicknessTexture=t}t.extensions=t.extensions||{},t.extensions[this.name]=n,s[this.name]=!0}}class Gs{constructor(e){this.writer=e,this.name="KHR_materials_transmission"}writeMaterial(e,t){if(!e.isMeshPhysicalMaterial||0===e.transmission)return;const i=this.writer,s=i.extensionsUsed,n={};if(n.transmissionFactor=e.transmission,e.transmissionMap){const t={index:i.processTexture(e.transmissionMap)};i.applyTextureTransform(t,e.transmissionMap),n.transmissionTexture=t}t.extensions=t.extensions||{},t.extensions[this.name]=n,s[this.name]=!0}}class Ps{constructor(e){this.writer=e,this.name="KHR_materials_volume"}writeMaterial(e,t){if(!e.isMeshPhysicalMaterial||0===e.transmission)return;const i=this.writer,s=i.extensionsUsed,n={};if(n.thicknessFactor=e.thickness,e.thicknessMap){const t={index:i.processTexture(e.thicknessMap)};i.applyTextureTransform(t,e.thicknessMap),n.thicknessTexture=t}n.attenuationDistance=e.attenuationDistance,n.attenuationColor=e.attenuationColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=n,s[this.name]=!0}}rs.Utils={insertKeyframe:function(e,t){const i=.001,s=e.getValueSize(),n=new e.TimeBufferType(e.times.length+1),r=new e.ValueBufferType(e.values.length+s),a=e.createInterpolant(new e.ValueBufferType(s));let o;if(0===e.times.length){n[0]=t;for(let e=0;e<s;e++)r[e]=0;o=0}else if(t<e.times[0]){if(Math.abs(e.times[0]-t)<i)return 0;n[0]=t,n.set(e.times,1),r.set(a.evaluate(t),0),r.set(e.values,s),o=0}else if(t>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-t)<i)return e.times.length-1;n[n.length-1]=t,n.set(e.times,0),r.set(e.values,0),r.set(a.evaluate(t),e.values.length),o=n.length-1}else for(let A=0;A<e.times.length;A++){if(Math.abs(e.times[A]-t)<i)return A;if(e.times[A]<t&&e.times[A+1]>t){n.set(e.times.slice(0,A+1),0),n[A+1]=t,n.set(e.times.slice(A+1),A+2),r.set(e.values.slice(0,(A+1)*s),0),r.set(a.evaluate(t),(A+1)*s),r.set(e.values.slice((A+1)*s),(A+2)*s),o=A+1;break}}return e.times=n,e.values=r,o},mergeMorphTargetTracks:function(e,t){const i=[],s={},n=e.tracks;for(let r=0;r<n.length;++r){let e=n[r];const a=E.Nwf.parseTrackName(e.name),o=E.Nwf.findNode(t,a.nodeName);if("morphTargetInfluences"!==a.propertyName||void 0===a.propertyIndex){i.push(e);continue}if(e.createInterpolant!==e.InterpolantFactoryMethodDiscrete&&e.createInterpolant!==e.InterpolantFactoryMethodLinear){if(e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),e=e.clone(),e.setInterpolation(E.PJ3)}const A=o.morphTargetInfluences.length,l=o.morphTargetDictionary[a.propertyIndex];if(void 0===l)throw new Error("THREE.GLTFExporter: Morph target name not found: "+a.propertyIndex);let c;if(void 0===s[o.uuid]){c=e.clone();const t=new c.ValueBufferType(A*c.times.length);for(let e=0;e<c.times.length;e++)t[e*A+l]=c.values[e];c.name=(a.nodeName||"")+".morphTargetInfluences",c.values=t,s[o.uuid]=c,i.push(c);continue}const h=e.createInterpolant(new e.ValueBufferType(1));c=s[o.uuid];for(let t=0;t<c.times.length;t++)c.values[t*A+l]=h.evaluate(c.times[t]);for(let t=0;t<e.times.length;t++){const i=this.insertKeyframe(c,e.times[t]);c.values[i*A+l]=e.values[t]}}return e.tracks=i,e}};const Os=e=>void 0!==e.material&&e.userData&&e.userData.variantMaterials&&!!Array.from(e.userData.variantMaterials.values()).filter(e=>Hs(e.material)),Hs=e=>e&&e.isMaterial&&!Array.isArray(e);class qs{constructor(e){this.writer=e,this.name="KHR_materials_variants",this.variantNames=[]}beforeParse(e){const t=new Set;for(const i of e)i.traverse(e=>{if(!Os(e))return;const i=e.userData.variantMaterials,s=e.userData.variantData;for(const[n,r]of s){const e=i.get(r.index);e&&Hs(e.material)&&t.add(n)}});t.forEach(e=>this.variantNames.push(e))}writeMesh(e,t){if(!Os(e))return;const i=e.userData,s=i.variantMaterials,n=i.variantData,r=new Map,a=new Map,o=Array.from(n.values()).sort((e,t)=>e.index-t.index);for(const[c,h]of o.entries())a.set(h.index,c);for(const c of n.values()){const e=s.get(c.index);if(!e||!Hs(e.material))continue;const t=this.writer.processMaterial(e.material);r.has(t)||r.set(t,{material:t,variants:[]}),r.get(t).variants.push(a.get(c.index))}const A=Array.from(r.values()).map(e=>e.variants.sort((e,t)=>e-t)&&e).sort((e,t)=>e.material-t.material);if(0===A.length)return;const l=Hs(i.originalMaterial)?this.writer.processMaterial(i.originalMaterial):-1;for(const c of t.primitives)l>=0&&(c.material=l),c.extensions=c.extensions||{},c.extensions[this.name]={mappings:A}}afterParse(){if(0===this.variantNames.length)return;const e=this.writer.json;e.extensions=e.extensions||{};const t=this.variantNames.map(e=>({name:e}));e.extensions[this.name]={variants:t},this.writer.extensionsUsed[this.name]=!0}}class Js{constructor(e,t,i,s,n){this.xrLight=e,this.renderer=t,this.lightProbe=i,this.xrWebGLBinding=null,this.estimationStartCallback=n,this.frameCallback=this.onXRFrame.bind(this);const r=t.xr.getSession();if(s&&"XRWebGLBinding"in window){const i=new E.o6l(16);e.environment=i.texture;const s=t.getContext();switch(r.preferredReflectionFormat){case"srgba8":s.getExtension("EXT_sRGB");break;case"rgba16f":s.getExtension("OES_texture_half_float")}this.xrWebGLBinding=new XRWebGLBinding(r,s),this.lightProbe.addEventListener("reflectionchange",()=>{this.updateReflection()})}r.requestAnimationFrame(this.frameCallback)}updateReflection(){const e=this.renderer.properties.get(this.xrLight.environment);if(e){const t=this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);t&&(e.__webglTexture=t,this.xrLight.environment.needsPMREMUpdate=!0)}}onXRFrame(e,t){if(!this.xrLight)return;t.session.requestAnimationFrame(this.frameCallback);const i=t.getLightEstimate(this.lightProbe);if(i){this.xrLight.lightProbe.sh.fromArray(i.sphericalHarmonicsCoefficients),this.xrLight.lightProbe.intensity=1;const e=Math.max(1,Math.max(i.primaryLightIntensity.x,Math.max(i.primaryLightIntensity.y,i.primaryLightIntensity.z)));this.xrLight.directionalLight.color.setRGB(i.primaryLightIntensity.x/e,i.primaryLightIntensity.y/e,i.primaryLightIntensity.z/e),this.xrLight.directionalLight.intensity=e,this.xrLight.directionalLight.position.copy(i.primaryLightDirection),this.estimationStartCallback&&(this.estimationStartCallback(),this.estimationStartCallback=null)}}dispose(){this.xrLight=null,this.renderer=null,this.lightProbe=null,this.xrWebGLBinding=null}}class Vs extends E.YJl{constructor(e,t=!0){super(),this.lightProbe=new E.FZo,this.lightProbe.intensity=0,this.add(this.lightProbe),this.directionalLight=new E.ZyN,this.directionalLight.intensity=0,this.add(this.directionalLight),this.environment=null;let i=null,s=!1;e.xr.addEventListener("sessionstart",()=>{const n=e.xr.getSession();"requestLightProbe"in n&&n.requestLightProbe({reflectionFormat:n.preferredReflectionFormat}).then(n=>{i=new Js(this,e,n,t,()=>{s=!0,this.dispatchEvent({type:"estimationstart"})})})}),e.xr.addEventListener("sessionend",()=>{i&&(i.dispose(),i=null),s&&this.dispatchEvent({type:"estimationend"})}),this.dispose=()=>{i&&(i.dispose(),i=null),this.remove(this.lightProbe),this.lightProbe=null,this.remove(this.directionalLight),this.directionalLight=null,this.environment=null}}}class js{constructor(e=50){this.velocity=0,this.naturalFrequency=0,this.setDecayTime(e)}setDecayTime(e){this.naturalFrequency=1/Math.max(.001,e)}update(e,t,i,s){const n=2e-4*this.naturalFrequency;if(null==e||0===s)return t;if(e===t&&0===this.velocity)return t;if(i<0)return e;const r=e-t,a=this.velocity+this.naturalFrequency*r,o=r+i*a,A=Math.exp(-this.naturalFrequency*i),l=(a-this.naturalFrequency*o)*A,c=-this.naturalFrequency*(l+a*A);return Math.abs(l)<n*Math.abs(s)&&c*r>=0?(this.velocity=0,t):(this.velocity=l,t+o*A)}}const Ys=.2,Ks=Math.PI/24,zs=new E.I9Y,$s=(e,t,i)=>{let s=t>0?i>0?0:-Math.PI/2:i>0?Math.PI/2:Math.PI;for(let n=0;n<=12;++n)e.push(t+.17*Math.cos(s),i+.17*Math.sin(s),0,t+Ys*Math.cos(s),i+Ys*Math.sin(s),0),s+=Ks};class Ws extends E.eaF{constructor(e,t){const i=new E.LoY,s=[],n=[],{size:r,boundingBox:a}=e,o=r.x/2,A=("back"===t?r.y:r.z)/2;$s(n,o,A),$s(n,-o,A),$s(n,-o,-A),$s(n,o,-A);const l=n.length/3;for(let u=0;u<l-2;u+=2)s.push(u,u+1,u+3,u,u+3,u+2);const c=l-2;s.push(c,c+1,1,c,1,0),i.setAttribute("position",new E.qtW(n,3)),i.setIndex(s),super(i),this.side=t;const h=this.material;switch(h.side=E.$EB,h.transparent=!0,h.opacity=0,this.goalOpacity=0,this.opacityDamper=new js,this.hitPlane=new E.eaF(new E.bdM(2*(o+Ys),2*(A+Ys))),this.hitPlane.visible=!1,this.hitPlane.material.side=E.$EB,this.add(this.hitPlane),a.getCenter(this.position),t){case"bottom":this.rotateX(-Math.PI/2),this.shadowHeight=a.min.y,this.position.y=this.shadowHeight;break;case"back":this.shadowHeight=a.min.z,this.position.z=this.shadowHeight}e.target.add(this),this.offsetHeight=0}getHit(e,t,i){zs.set(t,-i),this.hitPlane.visible=!0;const s=e.positionAndNormalFromPoint(zs,this.hitPlane);return this.hitPlane.visible=!1,null==s?null:s.position}getExpandedHit(e,t,i){this.hitPlane.scale.set(1e3,1e3,1e3),this.hitPlane.updateMatrixWorld();const s=this.getHit(e,t,i);return this.hitPlane.scale.set(1,1,1),s}set offsetHeight(e){e-=.001,"back"===this.side?this.position.z=this.shadowHeight+e:this.position.y=this.shadowHeight+e}get offsetHeight(){return"back"===this.side?this.position.z-this.shadowHeight:this.position.y-this.shadowHeight}set show(e){this.goalOpacity=e?.75:0}updateOpacity(e){const t=this.material;t.opacity=this.opacityDamper.update(t.opacity,this.goalOpacity,e,1),this.visible=t.opacity>0}dispose(){var e;const{geometry:t,material:i}=this.hitPlane;t.dispose(),i.dispose(),this.geometry.dispose(),this.material.dispose(),null===(e=this.parent)||void 0===e||e.remove(this)}}const Xs=1/1.3,Zs="not-presenting",en="session-started",tn="object-placed",sn="failed",nn="tracking",rn="not-tracking",an=new E.Pq0,on=new E.kn4,An=new E.Pq0,ln=new E.ubm(45,1,.1,100);class cn extends E.Qev{constructor(e){super(),this.renderer=e,this.currentSession=null,this.placeOnWall=!1,this.placementBox=null,this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.frame=null,this.initialHitSource=null,this.transientHitTestSource=null,this.inputSource=null,this._presentedScene=null,this.resolveCleanup=null,this.exitWebXRButtonContainer=null,this.overlay=null,this.xrLight=null,this.tracking=!0,this.frames=0,this.initialized=!1,this.oldTarget=new E.Pq0,this.placementComplete=!1,this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.lastDragPosition=new E.Pq0,this.firstRatio=0,this.lastAngle=0,this.goalPosition=new E.Pq0,this.goalYaw=0,this.goalScale=1,this.xDamper=new js,this.yDamper=new js,this.zDamper=new js,this.yawDamper=new js,this.scaleDamper=new js,this.onExitWebXRButtonContainerClick=()=>this.stopPresenting(),this.onUpdateScene=()=>{null!=this.placementBox&&this.isPresenting&&(this.placementBox.dispose(),this.placementBox=new Ws(this.presentedScene,this.placeOnWall?"back":"bottom"))},this.onSelectStart=e=>{const t=this.transientHitTestSource;if(null==t)return;const i=this.frame.getHitTestResultsForTransientInput(t),s=this.presentedScene,n=this.placementBox;if(1===i.length){this.inputSource=e.inputSource;const{axes:t}=this.inputSource.gamepad,i=n.getHit(this.presentedScene,t[0],t[1]);n.show=!0,null!=i?(this.isTranslating=!0,this.lastDragPosition.copy(i)):!1===this.placeOnWall&&(this.isRotating=!0,this.lastAngle=1.5*t[0])}else if(2===i.length){n.show=!0,this.isTwoFingering=!0;const{separation:e}=this.fingerPolar(i);this.firstRatio=e/s.scale.x}},this.onSelectEnd=()=>{this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.inputSource=null,this.goalPosition.y+=this.placementBox.offsetHeight*this.presentedScene.scale.x,this.placementBox.show=!1},this.threeRenderer=e.threeRenderer,this.threeRenderer.xr.enabled=!0}async resolveARSession(){Pe();const e=await navigator.xr.requestSession("immersive-ar",{requiredFeatures:["hit-test"],optionalFeatures:["dom-overlay","light-estimation"],domOverlay:this.overlay?{root:this.overlay}:void 0});return this.threeRenderer.xr.setReferenceSpaceType("local"),await this.threeRenderer.xr.setSession(e),this.threeRenderer.xr.cameraAutoUpdate=!1,e}get presentedScene(){return this._presentedScene}async supportsPresentation(){try{return Pe(),await navigator.xr.isSessionSupported("immersive-ar")}catch(e){return console.warn("Request to present in WebXR denied:"),console.warn(e),console.warn("Falling back to next ar-mode"),!1}}async present(e,t=!1){this.isPresenting&&console.warn("Cannot present while a model is already presenting");let i=new Promise((e,t)=>{requestAnimationFrame(()=>e())});e.setHotspotsVisibility(!1),e.queueRender(),await i,this._presentedScene=e,this.overlay=e.element.shadowRoot.querySelector("div.default"),!0===t&&(this.xrLight=new Vs(this.threeRenderer),this.xrLight.addEventListener("estimationstart",()=>{if(!this.isPresenting||null==this.xrLight)return;const e=this.presentedScene;e.add(this.xrLight),e.environment=this.xrLight.environment}));const s=await this.resolveARSession();s.addEventListener("end",()=>{this.postSessionCleanup()},{once:!0});const n=e.element.shadowRoot.querySelector(".slot.exit-webxr-ar-button");n.classList.add("enabled"),n.addEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=n;const r=await s.requestReferenceSpace("viewer");this.tracking=!0,this.frames=0,this.initialized=!1,this.turntableRotation=e.yaw,this.goalYaw=e.yaw,this.goalScale=1,e.background=null,this.oldShadowIntensity=e.shadowIntensity,e.setShadowIntensity(.01),this.oldTarget.copy(e.getTarget()),e.element.addEventListener("load",this.onUpdateScene);const a=20*Math.PI/180,o=!0===this.placeOnWall?void 0:new XRRay(new DOMPoint(0,0,0),{x:0,y:-Math.sin(a),z:-Math.cos(a)});s.requestHitTestSource({space:r,offsetRay:o}).then(e=>{this.initialHitSource=e}),this.currentSession=s,this.placementBox=new Ws(e,this.placeOnWall?"back":"bottom"),this.placementComplete=!1,this.lastTick=performance.now(),this.dispatchEvent({type:"status",status:en})}async stopPresenting(){if(!this.isPresenting)return;const e=new Promise(e=>{this.resolveCleanup=e});try{await this.currentSession.end(),await e}catch(t){console.warn("Error while trying to end WebXR AR session"),console.warn(t),this.postSessionCleanup()}}get isPresenting(){return null!=this.presentedScene}get target(){return this.oldTarget}updateTarget(){const e=this.presentedScene;if(null!=e){const t=e.getTarget();this.oldTarget.copy(t),this.placeOnWall?t.z=e.boundingBox.min.z:t.y=e.boundingBox.min.y,e.setTarget(t.x,t.y,t.z)}}postSessionCleanup(){const e=this.currentSession;null!=e&&(e.removeEventListener("selectstart",this.onSelectStart),e.removeEventListener("selectend",this.onSelectEnd),this.currentSession=null);const t=this.presentedScene;if(this._presentedScene=null,null!=t){const{element:e}=t;null!=this.xrLight&&(t.remove(this.xrLight),this.xrLight.dispose(),this.xrLight=null),t.position.set(0,0,0),t.scale.set(1,1,1),t.setShadowOffset(0);const i=this.turntableRotation;null!=i&&(t.yaw=i);const s=this.oldShadowIntensity;null!=s&&t.setShadowIntensity(s),t.setEnvironmentAndSkybox(e[Ye],e[Ke]);const n=this.oldTarget;t.setTarget(n.x,n.y,n.z),t.xrCamera=null,t.element.removeEventListener("load",this.onUpdateScene),t.orientHotspots(0),e.requestUpdate("cameraTarget"),e.requestUpdate("maxCameraOrbit"),e[qo](e.getBoundingClientRect())}this.renderer.height=0;const i=this.exitWebXRButtonContainer;null!=i&&(i.classList.remove("enabled"),i.removeEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=null);const s=this.transientHitTestSource;null!=s&&(s.cancel(),this.transientHitTestSource=null);const n=this.initialHitSource;null!=n&&(n.cancel(),this.initialHitSource=null),null!=this.placementBox&&(this.placementBox.dispose(),this.placementBox=null),this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.frame=null,this.inputSource=null,this.overlay=null,null!=this.resolveCleanup&&this.resolveCleanup(),this.dispatchEvent({type:"status",status:Zs})}updateView(e){const t=this.presentedScene,i=this.threeRenderer.xr;i.updateCamera(ln),t.xrCamera=i.getCamera();const{elements:s}=t.getCamera().matrixWorld;if(t.orientHotspots(Math.atan2(s[1],s[5])),this.initialized||(this.placeInitially(),this.initialized=!0),e.requestViewportScale&&e.recommendedViewportScale){const t=e.recommendedViewportScale;e.requestViewportScale(Math.max(t,.25))}const n=this.currentSession.renderState.baseLayer.getViewport(e);this.threeRenderer.setViewport(n.x,n.y,n.width,n.height)}placeInitially(){const e=this.presentedScene,{position:t,element:i}=e,s=e.getCamera(),{width:n,height:r}=this.overlay.getBoundingClientRect();e.setSize(n,r),s.projectionMatrixInverse.copy(s.projectionMatrix).invert();const{theta:a,radius:o}=i.getCameraOrbit(),A=s.getWorldDirection(an);e.yaw=Math.atan2(-A.x,-A.z)-a,this.goalYaw=e.yaw,t.copy(s.position).add(A.multiplyScalar(o)),this.updateTarget();const l=e.getTarget();t.add(l).sub(this.oldTarget),this.goalPosition.copy(t),e.setHotspotsVisibility(!0);const{session:c}=this.frame;c.addEventListener("selectstart",this.onSelectStart),c.addEventListener("selectend",this.onSelectEnd),c.requestHitTestSourceForTransientInput({profile:"generic-touchscreen"}).then(e=>{this.transientHitTestSource=e})}getTouchLocation(){const{axes:e}=this.inputSource.gamepad;let t=this.placementBox.getExpandedHit(this.presentedScene,e[0],e[1]);return null!=t&&(an.copy(t).sub(this.presentedScene.getCamera().position),an.length()>10)?null:t}getHitPoint(e){const t=this.threeRenderer.xr.getReferenceSpace(),i=e.getPose(t);if(null==i)return null;const s=on.fromArray(i.transform.matrix);return!0===this.placeOnWall&&(this.goalYaw=Math.atan2(s.elements[4],s.elements[6])),s.elements[5]>.75!==this.placeOnWall?An.setFromMatrixPosition(s):null}moveToFloor(e){const t=this.initialHitSource;if(null==t)return;const i=e.getHitTestResults(t);if(0==i.length)return;const s=i[0],n=this.getHitPoint(s);null!=n&&(this.placementBox.show=!0,this.isTranslating||(this.placeOnWall?this.goalPosition.copy(n):this.goalPosition.y=n.y),t.cancel(),this.initialHitSource=null,this.dispatchEvent({type:"status",status:tn}))}fingerPolar(e){const t=e[0].inputSource.gamepad.axes,i=e[1].inputSource.gamepad.axes,s=i[0]-t[0],n=i[1]-t[1],r=Math.atan2(n,s);let a=this.lastAngle-r;return a>Math.PI?a-=2*Math.PI:a<-Math.PI&&(a+=2*Math.PI),this.lastAngle=r,{separation:Math.sqrt(s*s+n*n),deltaYaw:a}}processInput(e){const t=this.transientHitTestSource;if(null==t)return;if(!this.isTranslating&&!this.isTwoFingering&&!this.isRotating)return;const i=e.getHitTestResultsForTransientInput(t),s=this.presentedScene,n=s.scale.x;if(this.isTwoFingering)if(i.length<2)this.isTwoFingering=!1;else{const{separation:e,deltaYaw:t}=this.fingerPolar(i);if(!1===this.placeOnWall&&(this.goalYaw+=t),s.canScale){const t=e/this.firstRatio;this.goalScale=t<1.3&&t>Xs?1:t}}else{if(2===i.length){this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!0;const{separation:e}=this.fingerPolar(i);return void(this.firstRatio=e/n)}if(this.isRotating){const e=1.5*this.inputSource.gamepad.axes[0];this.goalYaw+=e-this.lastAngle,this.lastAngle=e}else this.isTranslating&&i.forEach(e=>{if(e.inputSource!==this.inputSource)return;let t=null;if(e.results.length>0&&(t=this.getHitPoint(e.results[0])),null==t&&(t=this.getTouchLocation()),null!=t){if(this.goalPosition.sub(this.lastDragPosition),!1===this.placeOnWall){const e=t.y-this.lastDragPosition.y;if(e<0){this.placementBox.offsetHeight=e/n,this.presentedScene.setShadowOffset(e);const i=an.copy(s.getCamera().position),r=-e/(i.y-t.y);i.multiplyScalar(r),t.multiplyScalar(1-r).add(i)}}this.goalPosition.add(t),this.lastDragPosition.copy(t)}})}}moveScene(e){const t=this.presentedScene,{position:i,yaw:s}=t,n=t.boundingSphere.radius,r=this.goalPosition,a=t.scale.x,o=this.placementBox;if(!r.equals(i)||this.goalScale!==a){let{x:s,y:A,z:l}=i;s=this.xDamper.update(s,r.x,e,n),A=this.yDamper.update(A,r.y,e,n),l=this.zDamper.update(l,r.z,e,n),i.set(s,A,l);const c=this.scaleDamper.update(a,this.goalScale,e,1);if(t.scale.set(c,c,c),!this.isTranslating){const e=r.y-A;this.placementComplete&&!1===this.placeOnWall?(o.offsetHeight=e/c,t.setShadowOffset(e)):0===e&&(this.placementComplete=!0,o.show=!1,t.setShadowIntensity(.8))}}o.updateOpacity(e),t.updateTarget(e),t.yaw=this.yawDamper.update(s,this.goalYaw,e,Math.PI)}onWebXRFrame(e,t){this.frame=t,++this.frames;const i=this.threeRenderer.xr.getReferenceSpace(),s=t.getViewerPose(i);null==s&&!0===this.tracking&&this.frames>30&&(this.tracking=!1,this.dispatchEvent({type:"tracking",status:rn}));const n=this.presentedScene;if(null==s||null==n||!n.element.loaded)return void this.threeRenderer.clear();!1===this.tracking&&(this.tracking=!0,this.dispatchEvent({type:"tracking",status:nn}));let r=!0;for(const a of s.views){if(this.updateView(a),r){this.moveToFloor(t),this.processInput(t);const i=e-this.lastTick;this.moveScene(i),this.renderer.preRender(n,e,i),this.lastTick=e,n.renderShadow(this.threeRenderer)}this.threeRenderer.render(n,n.getCamera()),r=!1}}}class hn{constructor(e){e.threeRenderer.debug={checkShaderErrors:!0},Promise.resolve().then(()=>{self.dispatchEvent(new CustomEvent("model-viewer-renderer-debug",{detail:{renderer:e,THREE:{ShaderMaterial:E.BKk,Texture:E.gPd,Mesh:E.eaF,Scene:E.Z58,PlaneGeometry:E.bdM,OrthographicCamera:E.qUd,WebGLRenderTarget:E.nWS}}}))})}addScene(e){self.dispatchEvent(new CustomEvent("model-viewer-scene-added-debug",{detail:{scene:e}}))}removeScene(e){self.dispatchEvent(new CustomEvent("model-viewer-scene-removed-debug",{detail:{scene:e}}))}}function un(e){const t=new Map,i=new Map,s=e.clone();return dn(e,s,function(e,s){t.set(s,e),i.set(e,s)}),s.traverse(function(e){if(!e.isSkinnedMesh)return;const s=e,n=t.get(e),r=n.skeleton.bones;s.skeleton=n.skeleton.clone(),s.bindMatrix.copy(n.bindMatrix),s.skeleton.bones=r.map(function(e){return i.get(e)}),s.bind(s.skeleton,s.bindMatrix)}),s}function dn(e,t,i){i(e,t);for(let s=0;s<e.children.length;s++)dn(e.children[s],t.children[s],i)}const gn=Symbol("prepared"),pn=Symbol("prepare"),mn=Symbol("preparedGLTF"),fn=Symbol("clone");class In{constructor(e){this[mn]=e}static prepare(e){if(null==e.scene)throw new Error("Model does not have a scene");if(e[gn])return e;const t=this[pn](e);return t[gn]=!0,t}static[pn](e){const{scene:t}=e,i=[t];return Object.assign(Object.assign({},e),{scene:t,scenes:i})}get parser(){return this[mn].parser}get animations(){return this[mn].animations}get scene(){return this[mn].scene}get scenes(){return this[mn].scenes}get cameras(){return this[mn].cameras}get asset(){return this[mn].asset}get userData(){return this[mn].userData}clone(){return new(0,this.constructor)(this[fn]())}dispose(){this.scenes.forEach(e=>{e.traverse(e=>{if(!e.isMesh)return;const t=e;(Array.isArray(t.material)?t.material:[t.material]).forEach(e=>{for(const t in e){const i=e[t];if(i instanceof E.gPd){const e=i.source.data;null!=e.close&&e.close(),i.dispose()}}e.dispose()}),t.geometry.dispose()})})}[fn](){const e=this[mn],t=un(this.scene);En(t,this.scene);const i=[t],s=e.userData?Object.assign({},e.userData):{};return Object.assign(Object.assign({},e),{scene:t,scenes:i,userData:s})}}const En=(e,t)=>{Cn(e,t,(e,t)=>{void 0!==t.userData.variantMaterials&&(e.userData.variantMaterials=new Map(t.userData.variantMaterials)),void 0!==t.userData.variantData&&(e.userData.variantData=t.userData.variantData),void 0!==t.userData.originalMaterial&&(e.userData.originalMaterial=t.userData.originalMaterial)})},Cn=(e,t,i)=>{i(e,t);for(let s=0;s<e.children.length;s++)Cn(e.children[s],t.children[s],i)},Bn=Symbol("threeGLTF"),yn=Symbol("gltf"),wn=Symbol("gltfElementMap"),vn=Symbol("threeObjectMap"),Qn=Symbol("parallelTraverseThreeScene"),bn=Symbol("correlateOriginalThreeGLTF"),Sn=Symbol("correlateCloneThreeGLTF");class xn{constructor(e,t,i,s){this[Bn]=e,this[yn]=t,this[wn]=s,this[vn]=i}static from(e,t){return null!=t?this[Sn](e,t):this[bn](e)}static[bn](e){const t=e.parser.json,i=e.parser.associations,s=new Map,n={name:"Default"},r={type:"materials",index:-1};for(const a of i.keys())a instanceof E.imn&&null==i.get(a)&&(r.index<0&&(null==t.materials&&(t.materials=[]),r.index=t.materials.length,t.materials.push(n)),a.name=n.name,i.set(a,{materials:r.index}));for(const[a,o]of i){if(o){const e=a;e.userData=e.userData||{},e.userData.associations=o}for(const e in o)if(null!=e&&"primitives"!==e){const i=e,n=(t[i]||[])[o[i]];if(null==n)continue;let r=s.get(n);null==r&&(r=new Set,s.set(n,r)),r.add(a)}}return new xn(e,t,i,s)}static[Sn](e,t){const i=t.threeGLTF,s=t.gltf,n=JSON.parse(JSON.stringify(s)),r=new Map,a=new Map;for(let o=0;o<i.scenes.length;o++)this[Qn](i.scenes[o],e.scenes[o],(e,i)=>{const s=t.threeObjectMap.get(e);if(null!=s)for(const t in s)if(null!=t&&"primitives"!==t){const e=t,o=s[e],A=n[e][o],l=r.get(i)||{};l[e]=o,r.set(i,l);const c=a.get(A)||new Set;c.add(i),a.set(A,c)}});return new xn(e,n,r,a)}static[Qn](e,t,i){const s=(e,t)=>{if(i(e,t),e.isObject3D){if(e.isMesh)if(Array.isArray(e.material))for(let i=0;i<e.material.length;++i)s(e.material[i],t.material[i]);else s(e.material,t.material);for(let i=0;i<e.children.length;++i)s(e.children[i],t.children[i])}};s(e,t)}get threeGLTF(){return this[Bn]}get gltf(){return this[yn]}get gltfElementMap(){return this[wn]}get threeObjectMap(){return this[vn]}}const Mn=Symbol("correlatedSceneGraph");class Rn extends In{static[pn](e){const t=super[pn](e);null==t[Mn]&&(t[Mn]=xn.from(t));const{scene:i}=t,s=new E.iyt(void 0,1/0);return i.traverse(e=>{e.renderOrder=1e3,e.frustumCulled=!1,e.name||(e.name=e.uuid);const i=e;if(i.isMesh){const{geometry:e}=i;i.castShadow=!0,i.isSkinnedMesh&&(e.boundingSphere=s,e.boundingBox=null);const n=i.material;if(!0===n.isMeshBasicMaterial&&(n.toneMapped=!1),n.shadowSide=E.hB5,n.aoMap){const{gltf:i,threeObjectMap:s}=t[Mn],r=s.get(n);if(null!=i.materials&&null!=r&&null!=r.materials){const t=i.materials[r.materials];t.occlusionTexture&&0===t.occlusionTexture.texCoord&&null!=e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv)}}}}),t}get correlatedSceneGraph(){return this[mn][Mn]}[fn](){const e=super[fn](),t=new Map;return e.scene.traverse(e=>{if(e.isMesh){const i=e,s=i.material;if(null!=s){if(t.has(s.uuid))return void(i.material=t.get(s.uuid));i.material=s.clone(),t.set(s.uuid,i.material)}}}),e[Mn]=xn.from(e,this.correlatedSceneGraph),e}}class Tn extends E.BRH{constructor(e){super(e),this.type=E.ix0}parse(e){const t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},i=function(e,t,i){t=t||1024;let s=e.pos,n=-1,r=0,a="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(s,s+128)));for(;0>(n=o.indexOf("\n"))&&r<t&&s<e.byteLength;)a+=o,r+=o.length,s+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(s,s+128)));return-1<n&&(!1!==i&&(e.pos+=r+n+1),a+o.slice(0,n))},s=function(e,t,i,s){const n=e[t+3],r=Math.pow(2,n-128)/255;i[s+0]=e[t+0]*r,i[s+1]=e[t+1]*r,i[s+2]=e[t+2]*r,i[s+3]=1},n=function(e,t,i,s){const n=e[t+3],r=Math.pow(2,n-128)/255;i[s+0]=E.GxU.toHalfFloat(Math.min(e[t+0]*r,65504)),i[s+1]=E.GxU.toHalfFloat(Math.min(e[t+1]*r,65504)),i[s+2]=E.GxU.toHalfFloat(Math.min(e[t+2]*r,65504)),i[s+3]=E.GxU.toHalfFloat(1)},r=new Uint8Array(e);r.pos=0;const a=function(e){const s=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,n=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,r=/^\s*FORMAT=(\S+)\s*$/,a=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,o={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let A,l;if(e.pos>=e.byteLength||!(A=i(e)))return t(1,"no header found");if(!(l=A.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(o.valid|=1,o.programtype=l[1],o.string+=A+"\n";A=i(e),!1!==A;)if(o.string+=A+"\n","#"!==A.charAt(0)){if((l=A.match(s))&&(o.gamma=parseFloat(l[1])),(l=A.match(n))&&(o.exposure=parseFloat(l[1])),(l=A.match(r))&&(o.valid|=2,o.format=l[1]),(l=A.match(a))&&(o.valid|=4,o.height=parseInt(l[1],10),o.width=parseInt(l[2],10)),2&o.valid&&4&o.valid)break}else o.comments+=A+"\n";return 2&o.valid?4&o.valid?o:t(3,"missing image size specifier"):t(3,"missing format specifier")}(r);if(-1!==a){const e=a.width,i=a.height,o=function(e,i,s){const n=i;if(n<8||n>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(n!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");const r=new Uint8Array(4*i*s);if(!r.length)return t(4,"unable to allocate buffer space");let a=0,o=0;const A=4*n,l=new Uint8Array(4),c=new Uint8Array(A);let h=s;for(;h>0&&o<e.byteLength;){if(o+4>e.byteLength)return t(1);if(l[0]=e[o++],l[1]=e[o++],l[2]=e[o++],l[3]=e[o++],2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=n)return t(3,"bad rgbe scanline format");let i,s=0;for(;s<A&&o<e.byteLength;){i=e[o++];const n=i>128;if(n&&(i-=128),0===i||s+i>A)return t(3,"bad scanline data");if(n){const t=e[o++];for(let e=0;e<i;e++)c[s++]=t}else c.set(e.subarray(o,o+i),s),s+=i,o+=i}const u=n;for(let e=0;e<u;e++){let t=0;r[a]=c[e+t],t+=n,r[a+1]=c[e+t],t+=n,r[a+2]=c[e+t],t+=n,r[a+3]=c[e+t],a+=4}h--}return r}(r.subarray(r.pos),e,i);if(-1!==o){let t,r,A;switch(this.type){case E.RQf:A=o.length/4;const e=new Float32Array(4*A);for(let t=0;t<A;t++)s(o,4*t,e,4*t);t=e,r=E.RQf;break;case E.ix0:A=o.length/4;const i=new Uint16Array(4*A);for(let t=0;t<A;t++)n(o,4*t,i,4*t);t=i,r=E.ix0;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:e,height:i,data:t,header:a.string,gamma:a.gamma,exposure:a.exposure,type:r}}}return null}setDataType(e){return this.type=e,this}load(e,t,i,s){return super.load(e,function(e,i){switch(e.type){case E.RQf:case E.ix0:e.encoding=E.tgE,e.minFilter=E.k6q,e.magFilter=E.k6q,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,i)},i,s)}}class Dn extends E.Z58{constructor(){super(),this.position.y=-3.5;const e=new E.iNn;e.deleteAttribute("uv");const t=new E._4j({metalness:0,side:E.hsX}),i=new E._4j({metalness:0}),s=new E.HiM(16777215,500,28,2);s.position.set(.418,16.199,.3),this.add(s);const n=new E.eaF(e,t);n.position.set(-.757,13.219,.717),n.scale.set(31.713,28.305,28.591),this.add(n);const r=new E.eaF(e,i);r.position.set(-10.906,2.009,1.846),r.rotation.set(0,-.195,0),r.scale.set(2.328,7.905,4.651),this.add(r);const a=new E.eaF(e,i);a.position.set(-5.607,-.754,-.758),a.rotation.set(0,.994,0),a.scale.set(1.97,1.534,3.955),this.add(a);const o=new E.eaF(e,i);o.position.set(6.167,.857,7.803),o.rotation.set(0,.561,0),o.scale.set(3.927,6.285,3.687),this.add(o);const A=new E.eaF(e,i);A.position.set(-2.017,.018,6.124),A.rotation.set(0,.333,0),A.scale.set(2.002,4.566,2.064),this.add(A);const l=new E.eaF(e,i);l.position.set(2.291,-.756,-2.621),l.rotation.set(0,-.286,0),l.scale.set(1.546,1.552,1.496),this.add(l);const c=new E.eaF(e,i);c.position.set(-2.193,-.369,-5.547),c.rotation.set(0,.516,0),c.scale.set(3.875,3.487,2.986),this.add(c);const h=new E.eaF(e,this.createAreaLightMaterial(50));h.position.set(-16.116,14.37,8.208),h.scale.set(.1,2.428,2.739),this.add(h);const u=new E.eaF(e,this.createAreaLightMaterial(50));u.position.set(-16.109,18.021,-8.207),u.scale.set(.1,2.425,2.751),this.add(u);const d=new E.eaF(e,this.createAreaLightMaterial(17));d.position.set(14.904,12.198,-1.832),d.scale.set(.15,4.265,6.331),this.add(d);const g=new E.eaF(e,this.createAreaLightMaterial(43));g.position.set(-.462,8.89,14.52),g.scale.set(4.38,5.441,.088),this.add(g);const p=new E.eaF(e,this.createAreaLightMaterial(20));p.position.set(3.235,11.486,-12.541),p.scale.set(2.5,2,.1),this.add(p);const m=new E.eaF(e,this.createAreaLightMaterial(100));m.position.set(0,20,0),m.scale.set(1,.1,1),this.add(m)}createAreaLightMaterial(e){const t=new E.V9B;return t.color.setScalar(e),t}}class Ln extends E.Z58{constructor(){super(),this.position.y=-3.5;const e=new E.iNn;e.deleteAttribute("uv");const t=new E._4j({metalness:0,side:E.hsX}),i=new E._4j({metalness:0}),s=new E.HiM(16777215,400,28,2);s.position.set(.5,14,.5),this.add(s);const n=new E.eaF(e,t);n.position.set(0,13.2,0),n.scale.set(31.5,28.5,31.5),this.add(n);const r=new E.eaF(e,i);r.position.set(-10.906,-1,1.846),r.rotation.set(0,-.195,0),r.scale.set(2.328,7.905,4.651),this.add(r);const a=new E.eaF(e,i);a.position.set(-5.607,-.754,-.758),a.rotation.set(0,.994,0),a.scale.set(1.97,1.534,3.955),this.add(a);const o=new E.eaF(e,i);o.position.set(6.167,-.16,7.803),o.rotation.set(0,.561,0),o.scale.set(3.927,6.285,3.687),this.add(o);const A=new E.eaF(e,i);A.position.set(-2.017,.018,6.124),A.rotation.set(0,.333,0),A.scale.set(2.002,4.566,2.064),this.add(A);const l=new E.eaF(e,i);l.position.set(2.291,-.756,-2.621),l.rotation.set(0,-.286,0),l.scale.set(1.546,1.552,1.496),this.add(l);const c=new E.eaF(e,i);c.position.set(-2.193,-.369,-5.547),c.rotation.set(0,.516,0),c.scale.set(3.875,3.487,2.986),this.add(c);const h=new E.eaF(e,this.createAreaLightMaterial(80));h.position.set(-14,10,8),h.scale.set(.1,2.5,2.5),this.add(h);const u=new E.eaF(e,this.createAreaLightMaterial(80));u.position.set(-14,14,-4),u.scale.set(.1,2.5,2.5),this.add(u);const d=new E.eaF(e,this.createAreaLightMaterial(23));d.position.set(14,12,0),d.scale.set(.1,5,5),this.add(d);const g=new E.eaF(e,this.createAreaLightMaterial(16));g.position.set(0,9,14),g.scale.set(5,5,.1),this.add(g);const p=new E.eaF(e,this.createAreaLightMaterial(80));p.position.set(7,8,-14),p.scale.set(2.5,2.5,.1),this.add(p);const m=new E.eaF(e,this.createAreaLightMaterial(80));m.position.set(-7,16,-14),m.scale.set(2.5,2.5,.1),this.add(m);const f=new E.eaF(e,this.createAreaLightMaterial(1));f.position.set(0,20,0),f.scale.set(.1,.1,.1),this.add(f)}createAreaLightMaterial(e){const t=new E.V9B;return t.color.setScalar(e),t}}const kn=20,Fn=/\.hdr(\.js)?$/,_n=new E.Tap,Un=new Tn;Un.setDataType(E.ix0);class Nn extends E.Qev{constructor(e){super(),this.threeRenderer=e,this.generatedEnvironmentMap=null,this.generatedEnvironmentMapAlt=null,this.skyboxCache=new Map,this.blurMaterial=null,this.blurScene=null}async load(e,t=()=>{}){try{const i=Fn.test(e),s=i?Un:_n,n=await new Promise((i,n)=>s.load(e,i,e=>{t(e.loaded/e.total*.9)},n));return t(1),n.name=e,n.mapping=E.wfO,i||(n.encoding=E.S2Q),n}finally{t&&t(1)}}async generateEnvironmentMapAndSkybox(e=null,t=null,i=()=>{}){const s="legacy"!==t;"legacy"!==t&&"neutral"!==t||(t=null),t=Ge(t);let n,r=Promise.resolve(null);e&&(r=this.loadEquirectFromUrl(e,i)),n=t?this.loadEquirectFromUrl(t,i):e?this.loadEquirectFromUrl(e,i):s?this.loadGeneratedEnvironmentMapAlt():this.loadGeneratedEnvironmentMap();const[a,o]=await Promise.all([n,r]);if(null==a)throw new Error("Failed to load environment map.");return{environmentMap:a,skybox:o}}async loadEquirectFromUrl(e,t){if(!this.skyboxCache.has(e)){const i=this.load(e,t);this.skyboxCache.set(e,i)}return this.skyboxCache.get(e)}async GenerateEnvironmentMap(e,t){await((e=0)=>new Promise(t=>setTimeout(t,e)))();const i=this.threeRenderer,s=new E.o6l(256,{generateMipmaps:!1,type:E.ix0,format:E.GWd,encoding:E.tgE,depthBuffer:!0}),n=new E.F1T(.1,100,s),r=n.renderTarget.texture;r.name=t;const a=i.outputEncoding,o=i.toneMapping;return i.toneMapping=E.y_p,i.outputEncoding=E.tgE,n.update(i,e),this.blurCubemap(s,.04),i.toneMapping=o,i.outputEncoding=a,r}async loadGeneratedEnvironmentMap(){return null==this.generatedEnvironmentMap&&(this.generatedEnvironmentMap=this.GenerateEnvironmentMap(new Dn,"legacy")),this.generatedEnvironmentMap}async loadGeneratedEnvironmentMapAlt(){return null==this.generatedEnvironmentMapAlt&&(this.generatedEnvironmentMapAlt=this.GenerateEnvironmentMap(new Ln,"neutral")),this.generatedEnvironmentMapAlt}blurCubemap(e,t){if(null==this.blurMaterial){this.blurMaterial=this.getBlurShader(kn);const e=new E.iNn,t=new E.eaF(e,this.blurMaterial);this.blurScene=new E.Z58,this.blurScene.add(t)}const i=e.clone();this.halfblur(e,i,t,"latitudinal"),this.halfblur(i,e,t,"longitudinal")}halfblur(e,t,i,s){const n=e.width,r=isFinite(i)?Math.PI/(2*n):2*Math.PI/39,a=i/r,o=isFinite(i)?1+Math.floor(3*a):kn;o>kn&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${o} samples when the maximum is set to 20`);const A=[];let l=0;for(let h=0;h<kn;++h){const e=h/a,t=Math.exp(-e*e/2);A.push(t),0==h?l+=t:h<o&&(l+=2*t)}for(let h=0;h<A.length;h++)A[h]=A[h]/l;const c=this.blurMaterial.uniforms;c.envMap.value=e.texture,c.samples.value=o,c.weights.value=A,c.latitudinal.value="latitudinal"===s,c.dTheta.value=r;new E.F1T(.1,100,t).update(this.threeRenderer,this.blurScene)}getBlurShader(e){const t=new Float32Array(e),i=new E.Pq0(0,1,0);return new E.BKk({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},poleAxis:{value:i}},vertexShader:"\n      \n      varying vec3 vOutputDirection;\n  \n      void main() {\n  \n        vOutputDirection = vec3( position );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  \n      }\n    ",fragmentShader:"\n        varying vec3 vOutputDirection;\n  \n        uniform samplerCube envMap;\n        uniform int samples;\n        uniform float weights[ n ];\n        uniform bool latitudinal;\n        uniform float dTheta;\n        uniform vec3 poleAxis;\n  \n        vec3 getSample( float theta, vec3 axis ) {\n  \n          float cosTheta = cos( theta );\n          // Rodrigues' axis-angle rotation\n          vec3 sampleDirection = vOutputDirection * cosTheta\n            + cross( axis, vOutputDirection ) * sin( theta )\n            + axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n  \n          return vec3( textureCube( envMap, sampleDirection ) );\n  \n        }\n  \n        void main() {\n  \n          vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n  \n          if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n  \n            axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n  \n          }\n  \n          axis = normalize( axis );\n  \n          gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n          gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n  \n          for ( int i = 1; i < n; i++ ) {\n  \n            if ( i >= samples ) {\n  \n              break;\n  \n            }\n  \n            float theta = dTheta * float( i );\n            gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n            gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n  \n          }\n        }\n      ",blending:E.XIg,depthTest:!1,depthWrite:!1,side:E.hsX})}async dispose(){for(const[,e]of this.skyboxCache){(await e).dispose()}null!=this.generatedEnvironmentMap&&((await this.generatedEnvironmentMap).dispose(),this.generatedEnvironmentMap=null),null!=this.generatedEnvironmentMapAlt&&((await this.generatedEnvironmentMapAlt).dispose(),this.generatedEnvironmentMapAlt=null),null!=this.blurMaterial&&this.blurMaterial.dispose()}}const Gn=[1,.79,.62,.5,.4,.31,.25],Pn="high-performance";class On extends E.Qev{constructor(e){super(),this.loader=new Wi(Rn),this.width=0,this.height=0,this.dpr=1,this.debugger=null,this.scenes=new Set,this.multipleScenesVisible=!1,this.lastTick=performance.now(),this.renderedLastFrame=!1,this.scaleStep=0,this.lastStep=3,this.avgFrameDuration=50,this.onWebGLContextLost=e=>{this.dispatchEvent({type:"contextlost",sourceEvent:e})},this.onWebGLContextRestored=()=>{var e;null===(e=this.textureUtils)||void 0===e||e.dispose(),this.textureUtils=new Nn(this.threeRenderer);for(const t of this.scenes)t.element[ze]()},this.dpr=Je(),this.canvas3D=document.createElement("canvas"),this.canvas3D.id="webgl-canvas",this.canvas3D.classList.add("show");try{this.threeRenderer=new E.JeP({canvas:this.canvas3D,alpha:!0,antialias:!0,powerPreference:e.powerPreference,preserveDrawingBuffer:!0}),this.threeRenderer.autoClear=!0,this.threeRenderer.outputEncoding=E.S2Q,this.threeRenderer.physicallyCorrectLights=!0,this.threeRenderer.setPixelRatio(1),this.debugger=e.debug?new hn(this):null,this.threeRenderer.debug={checkShaderErrors:!!this.debugger},this.threeRenderer.toneMapping=E.FV}catch(t){console.warn(t)}this.arRenderer=new cn(this),this.textureUtils=this.canRender?new Nn(this.threeRenderer):null,Wi.initializeKTX2Loader(this.threeRenderer),this.canvas3D.addEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.addEventListener("webglcontextrestored",this.onWebGLContextRestored),this.updateRendererSize()}static get singleton(){return this._singleton}static resetSingleton(){const e=this._singleton.dispose();for(const t of e)t.disconnectedCallback();this._singleton=new On({powerPreference:(self.ModelViewerElement||{}).powerPreference||Pn,debug:Ve()});for(const t of e)t.connectedCallback()}get canRender(){return null!=this.threeRenderer}get scaleFactor(){return Gn[this.scaleStep]}set minScale(e){let t=1;for(;t<Gn.length&&!(Gn[t]<e);)++t;this.lastStep=t-1}registerScene(e){this.scenes.add(e),e.forceRescale();const t=new E.I9Y;this.threeRenderer.getSize(t),e.canvas.width=t.x,e.canvas.height=t.y,this.canRender&&this.scenes.size>0&&this.threeRenderer.setAnimationLoop((e,t)=>this.render(e,t)),null!=this.debugger&&this.debugger.addScene(e)}unregisterScene(e){this.scenes.delete(e),this.canvas3D.parentElement===e.canvas.parentElement&&e.canvas.parentElement.removeChild(this.canvas3D),this.canRender&&0===this.scenes.size&&this.threeRenderer.setAnimationLoop(null),null!=this.debugger&&this.debugger.removeScene(e)}displayCanvas(e){return this.multipleScenesVisible?e.element[No]:this.canvas3D}countVisibleScenes(){const{canvas3D:e}=this;let t=0,i=null;for(const n of this.scenes){const{element:s}=n;s.modelIsVisible&&null==n.externalRenderer&&++t,e.parentElement===n.canvas.parentElement&&(i=n)}const s=t>1;if(null!=i){const t=s&&!this.multipleScenesVisible,n=!i.element.modelIsVisible;if(t||n){const{width:t,height:s}=this.sceneSize(i);this.copyPixels(i,t,s),e.parentElement.removeChild(e)}}this.multipleScenesVisible=s}updateRendererSize(){const e=Je();if(e!==this.dpr)for(const s of this.scenes){const{element:e}=s;e[Qo](e.getBoundingClientRect())}let t=0,i=0;for(const s of this.scenes)t=Math.max(t,s.width),i=Math.max(i,s.height);if(t!==this.width||i!==this.height||e!==this.dpr){this.width=t,this.height=i,this.dpr=e,t=Math.ceil(t*e),i=Math.ceil(i*e),this.canRender&&this.threeRenderer.setSize(t,i,!1);for(const e of this.scenes){const{canvas:s}=e;s.width=t,s.height=i,e.forceRescale()}}}updateRendererScale(e){const t=this.scaleStep;this.avgFrameDuration+=qe(.2*(e-this.avgFrameDuration),-5,5),this.avgFrameDuration>60?++this.scaleStep:this.avgFrameDuration<40&&this.scaleStep>0&&--this.scaleStep,this.scaleStep=Math.min(this.scaleStep,this.lastStep),t!==this.scaleStep&&(this.avgFrameDuration=50)}shouldRender(e){if(e.shouldRender())e.scaleStep!=this.scaleStep&&(e.scaleStep=this.scaleStep,this.rescaleCanvas(e));else{if(0==e.scaleStep)return!1;e.scaleStep=0,this.rescaleCanvas(e)}return!0}rescaleCanvas(e){const t=Gn[e.scaleStep],i=Math.ceil(this.width/t),s=Math.ceil(this.height/t),{style:n}=e.canvas;n.width=`${i}px`,n.height=`${s}px`,this.canvas3D.style.width=`${i}px`,this.canvas3D.style.height=`${s}px`;const r=this.dpr*t,a=t<1?"GPU throttling":this.dpr!==window.devicePixelRatio?"No meta viewport tag":"";e.element.dispatchEvent(new CustomEvent("render-scale",{detail:{reportedDpr:window.devicePixelRatio,renderedDpr:r,minimumDpr:this.dpr*Gn[this.lastStep],pixelWidth:Math.ceil(e.width*r),pixelHeight:Math.ceil(e.height*r),reason:a}}))}sceneSize(e){const{dpr:t}=this,i=Gn[e.scaleStep];return{width:Math.min(Math.ceil(e.width*i*t),this.canvas3D.width),height:Math.min(Math.ceil(e.height*i*t),this.canvas3D.height)}}copyPixels(e,t,i){const s=e.context;null!=s?(s.clearRect(0,0,t,i),s.drawImage(this.canvas3D,0,0,t,i,0,0,t,i),e.canvas.classList.add("show")):console.log("could not acquire 2d context")}orderedScenes(){const e=[];for(const t of[!1,!0])for(const i of this.scenes)i.element.modelIsVisible===t&&e.push(i);return e}get isPresenting(){return this.arRenderer.isPresenting}preRender(e,t,i){const{element:s,exposure:n}=e;s[Oo](t,i);const r="number"==typeof n&&!Number.isNaN(n);this.threeRenderer.toneMappingExposure=r?n:1}render(e,t){if(null!=t)return void this.arRenderer.onWebXRFrame(e,t);const i=e-this.lastTick;if(this.lastTick=e,!this.canRender||this.isPresenting)return;this.countVisibleScenes(),this.updateRendererSize(),this.renderedLastFrame&&(this.updateRendererScale(i),this.renderedLastFrame=!1);const{canvas3D:s}=this;for(const n of this.orderedScenes()){const{element:t}=n;if(!t.loaded||!t.modelIsVisible&&n.renderCount>0)continue;if(this.preRender(n,e,i),!this.shouldRender(n))continue;if(null!=n.externalRenderer){const e=n.getCamera();e.updateMatrix();const{matrix:t,projectionMatrix:i}=e,s=t.elements.slice(),r=n.getTarget();s[12]+=r.x,s[13]+=r.y,s[14]+=r.z,n.externalRenderer.render({viewMatrix:s,projectionMatrix:i.elements});continue}if(!t.modelIsVisible&&!this.multipleScenesVisible)for(const e of this.scenes)e.element.modelIsVisible&&e.queueRender();const{width:r,height:a}=this.sceneSize(n);n.renderShadow(this.threeRenderer),this.threeRenderer.setRenderTarget(null),this.threeRenderer.setViewport(0,Math.ceil(this.height*this.dpr)-a,r,a),this.threeRenderer.render(n,n.camera),this.multipleScenesVisible||0===n.renderCount?this.copyPixels(n,r,a):s.parentElement!==n.canvas.parentElement&&(n.canvas.parentElement.appendChild(s),n.canvas.classList.remove("show")),n.hasRendered(),++n.renderCount,this.renderedLastFrame=!0}}dispose(){null!=this.textureUtils&&this.textureUtils.dispose(),null!=this.threeRenderer&&this.threeRenderer.dispose(),this.textureUtils=null,this.threeRenderer=null;const e=[];for(const t of this.scenes)e.push(t.element);return this.canvas3D.removeEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.removeEventListener("webglcontextrestored",this.onWebGLContextRestored),e}}On._singleton=new On({powerPreference:(self.ModelViewerElement||{}).powerPreference||Pn,debug:Ve()});const Hn=Symbol("correlatedObjects"),qn=Symbol("sourceObject"),Jn=Symbol("onUpdate");class Vn{constructor(e,t,i=null){this[Jn]=e,this[qn]=t,this[Hn]=i}}const jn=new E.V9B,Yn=new E.bdM(2,2);let Kn=0;const zn=Symbol("threeTexture");Symbol("applyTexture");class $n extends Vn{get[zn](){var e;return console.assert(null!=this[Hn]&&this[Hn].size>0,"Image correlated object is undefined"),null===(e=this[Hn])||void 0===e?void 0:e.values().next().value}constructor(e,t,i){super(e,i=null!=i?i:{name:t&&t.image&&t.image.src?t.image.src.split("/").pop():"adhoc_image",uri:t&&t.image&&t.image.src?t.image.src:"adhoc_image"+Kn++},new Set(t?[t]:[]))}get name(){return this[qn].name||""}get uri(){return this[qn].uri}get bufferView(){return this[qn].bufferView}get type(){return null!=this.uri?"external":"embedded"}set name(e){this[qn].name=e}async createThumbnail(e,t){const i=new E.Z58;jn.map=this[zn];const s=new E.eaF(Yn,jn);i.add(s);const n=new E.qUd(-1,1,1,-1,0,1),{threeRenderer:r}=On.singleton,a=new E.nWS(e,t);r.setRenderTarget(a),r.render(i,n),r.setRenderTarget(null);const o=new Uint8Array(e*t*4);r.readRenderTargetPixels(a,0,0,e,t,o),po.width=e,po.height=t;const A=po.getContext("2d"),l=A.createImageData(e,t);return l.data.set(o),A.putImageData(l,0,0),new Promise(async(e,t)=>{po.toBlob(i=>{if(!i)return t("Failed to capture thumbnail.");e(URL.createObjectURL(i))},"image/png")})}}var Wn,Xn;!function(e){e[e.Nearest=9728]="Nearest",e[e.Linear=9729]="Linear",e[e.NearestMipmapNearest=9984]="NearestMipmapNearest",e[e.LinearMipmapNearest=9985]="LinearMipmapNearest",e[e.NearestMipmapLinear=9986]="NearestMipmapLinear",e[e.LinearMipmapLinear=9987]="LinearMipmapLinear"}(Wn||(Wn={})),function(e){e[e.ClampToEdge=33071]="ClampToEdge",e[e.MirroredRepeat=33648]="MirroredRepeat",e[e.Repeat=10497]="Repeat"}(Xn||(Xn={}));const Zn=(()=>{const e=[Wn.Nearest,Wn.Linear,Wn.NearestMipmapNearest,Wn.LinearMipmapLinear,Wn.NearestMipmapLinear,Wn.LinearMipmapLinear];return t=>e.indexOf(t)>-1})(),er=(()=>{const e=[Wn.Nearest,Wn.Linear];return t=>e.indexOf(t)>-1})(),tr=(()=>{const e=[Xn.ClampToEdge,Xn.MirroredRepeat,Xn.Repeat];return t=>e.indexOf(t)>-1})(),ir=Symbol("threeTextures"),sr=Symbol("setProperty"),nr=Symbol("sourceSampler");class rr extends Vn{get[ir](){return console.assert(null!=this[Hn]&&this[Hn].size>0,"Sampler correlated object is undefined"),this[Hn]}get[nr](){return console.assert(null!=this[qn],"Sampler source is undefined"),this[qn]}constructor(e,t,i){null==(i=null!=i?i:{}).minFilter&&(i.minFilter=t?t.minFilter:Wn.LinearMipmapLinear),null==i.magFilter&&(i.magFilter=t?t.magFilter:Wn.Linear),null==i.wrapS&&(i.wrapS=t?t.wrapS:Xn.Repeat),null==i.wrapT&&(i.wrapT=t?t.wrapT:Xn.Repeat),super(e,i,new Set(t?[t]:[]))}get name(){return this[qn].name||""}get minFilter(){return this[nr].minFilter}get magFilter(){return this[nr].magFilter}get wrapS(){return this[nr].wrapS}get wrapT(){return this[nr].wrapT}setMinFilter(e){this[sr]("minFilter",e)}setMagFilter(e){this[sr]("magFilter",e)}setWrapS(e){this[sr]("wrapS",e)}setWrapT(e){this[sr]("wrapT",e)}[sr](e,t){const i=this[nr];if(null!=i){if(((e,t)=>{switch(e){case"minFilter":return Zn(t);case"magFilter":return er(t);case"wrapS":case"wrapT":return tr(t);default:throw new Error(`Cannot configure property "${e}" on Sampler`)}})(e,t)){i[e]=t;for(const i of this[ir])i[e]=t,i.needsUpdate=!0}this[Jn]()}}}const ar=Symbol("image"),or=Symbol("sampler");class Ar extends Vn{constructor(e,t,i=null,s=null,n=null){super(e,i||{},new Set(t?[t]:[])),this[or]=new rr(e,t,s),this[ar]=new $n(e,t,n)}get name(){return this[qn].name||""}set name(e){this[qn].name=e}get sampler(){return this[or]}get source(){return this[ar]}}var lr,cr;const hr=Symbol("texture"),ur=Symbol("transform"),dr=Symbol("materials"),gr=Symbol("usage");var pr;!function(e){e[e.Base=0]="Base",e[e.MetallicRoughness=1]="MetallicRoughness",e[e.Normal=2]="Normal",e[e.Occlusion=3]="Occlusion",e[e.Emissive=4]="Emissive"}(pr||(pr={}));class mr{constructor(e,t,i,s,n,r){if(this[lr]=null,this[cr]={rotation:0,scale:new E.I9Y(1,1),offset:new E.I9Y(0,0)},r&&i){const t=n.textures?n.textures[r.index]:null,s=t&&n.samplers?n.samplers[t.sampler]:null,a=t&&n.images?n.images[t.source]:null;this[ur].rotation=i.rotation,this[ur].scale.copy(i.repeat),this[ur].offset.copy(i.offset),this[hr]=new Ar(e,i,t,s,a)}this.onUpdate=e,this[dr]=s,this[gr]=t}get texture(){return this[hr]}setTexture(e){const t=null!=e?e.source[zn]:null;let i=E.S2Q;if(this[hr]=e,this[dr])for(const s of this[dr]){switch(this[gr]){case pr.Base:s.map=t;break;case pr.MetallicRoughness:i=E.tgE,s.metalnessMap=t,s.roughnessMap=t;break;case pr.Normal:i=E.tgE,s.normalMap=t;break;case pr.Occlusion:i=E.tgE,s.aoMap=t;break;case pr.Emissive:s.emissiveMap=t}s.needsUpdate=!0}t&&(t.encoding=i,t.rotation=this[ur].rotation,t.repeat=this[ur].scale,t.offset=this[ur].offset),this.onUpdate()}}lr=hr,cr=ur;const fr=Symbol("threeMaterials"),Ir=Symbol("baseColorTexture"),Er=Symbol("metallicRoughnessTexture");class Cr extends Vn{constructor(e,t,i,s){super(e,i,s),null==i.baseColorFactor&&(i.baseColorFactor=[1,1,1,1]),null==i.roughnessFactor&&(i.roughnessFactor=1),null==i.metallicFactor&&(i.metallicFactor=1);const{baseColorTexture:n,metallicRoughnessTexture:r}=i,{map:a,metalnessMap:o}=s.values().next().value;this[Ir]=new mr(e,pr.Base,a,s,t,n||null),this[Er]=new mr(e,pr.MetallicRoughness,o,s,t,r||null)}get[fr](){return this[Hn]}get baseColorFactor(){return this[qn].baseColorFactor}get metallicFactor(){return this[qn].metallicFactor}get roughnessFactor(){return this[qn].roughnessFactor}get baseColorTexture(){return this[Ir]}get metallicRoughnessTexture(){return this[Er]}setBaseColorFactor(e){const t=new E.Q1f;e instanceof Array?t.fromArray(e):t.set(e).convertSRGBToLinear();for(const i of this[fr])i.color.set(t),e instanceof Array?i.opacity=e[3]:(e=[0,0,0,i.opacity],t.toArray(e));this[qn].baseColorFactor=e,this[Jn]()}setMetallicFactor(e){for(const t of this[fr])t.metalness=e;this[qn].metallicFactor=e,this[Jn]()}setRoughnessFactor(e){for(const t of this[fr])t.roughness=e;this[qn].roughnessFactor=e,this[Jn]()}}var Br;const yr=Symbol("pbrMetallicRoughness"),wr=Symbol("normalTexture"),vr=Symbol("occlusionTexture"),Qr=Symbol("emissiveTexture"),br=Symbol("backingThreeMaterial"),Sr=Symbol("applyAlphaCutoff"),xr=Symbol("lazyLoadGLTFInfo"),Mr=Symbol("initialize"),Rr=Symbol("getLoadedMaterial"),Tr=Symbol("ensureMaterialIsLoaded"),Dr=Symbol("gltfIndex"),Lr=Symbol("setActive"),kr=Symbol("variantIndices"),Fr=Symbol("isActive"),_r=Symbol("variantSet"),Ur=Symbol("modelVariants");class Nr extends Vn{constructor(e,t,i,s,n,r,a,o=void 0){super(e,i,a),this[Br]=new Set,this[Dr]=s,this[Fr]=n,this[Ur]=r,null==o?this[Mr](t):this[xr]=o}get[(Br=_r,br)](){return this[Hn].values().next().value}[Mr](e){const t=this[Jn],i=this[qn],s=this[Hn];i.extensions&&i.extensions.KHR_materials_pbrSpecularGlossiness&&console.warn(`Material ${i.name} uses a deprecated extension\n          "KHR_materials_pbrSpecularGlossiness", please use\n          "pbrMetallicRoughness" instead. Specular Glossiness materials are\n          currently supported for rendering, but not for our scene-graph API,\n          nor for auto-generation of USDZ for Quick Look.`),null==i.pbrMetallicRoughness&&(i.pbrMetallicRoughness={}),this[yr]=new Cr(t,e,i.pbrMetallicRoughness,s),null==i.emissiveFactor&&(i.emissiveFactor=[0,0,0]),null==i.doubleSided&&(i.doubleSided=!1),null==i.alphaMode&&(i.alphaMode="OPAQUE"),null==i.alphaCutoff&&(i.alphaCutoff=.5);const{normalTexture:n,occlusionTexture:r,emissiveTexture:a}=i,{normalMap:o,aoMap:A,emissiveMap:l}=s.values().next().value;this[wr]=new mr(t,pr.Normal,o,s,e,n||null),this[vr]=new mr(t,pr.Occlusion,A,s,e,r||null),this[Qr]=new mr(t,pr.Emissive,l,s,e,a||null)}async[Rr](){if(null!=this[xr]){const{set:e,material:t}=await this[xr].doLazyLoad();return this[Hn]=e,this[Mr](this[xr].gltf),this[xr]=void 0,this.ensureLoaded=async()=>{},t}return this[Hn].values().next().value}[Tr](){if(null!=this[xr])throw new Error(`Material "${this.name}" has not been loaded, call 'await\n    myMaterial.ensureLoaded()' before using an unloaded material.`)}async ensureLoaded(){await this[Rr]()}get isLoaded(){return null==this[xr]}get isActive(){return this[Fr]}[Lr](e){this[Fr]=e}get name(){return this[qn].name}set name(e){const t=this[qn];if(null!=t&&(t.name=e),null!=this[Hn])for(const i of this[Hn])i.name=e}get pbrMetallicRoughness(){return this[Tr](),this[yr]}get normalTexture(){return this[Tr](),this[wr]}get occlusionTexture(){return this[Tr](),this[vr]}get emissiveTexture(){return this[Tr](),this[Qr]}get emissiveFactor(){return this[Tr](),this[qn].emissiveFactor}get index(){return this[Dr]}[kr](){return this[_r]}hasVariant(e){const t=this[Ur].get(e);return null!=t&&this[_r].has(t.index)}setEmissiveFactor(e){this[Tr]();const t=new E.Q1f;e instanceof Array?t.fromArray(e):t.set(e).convertSRGBToLinear();for(const i of this[Hn])i.emissive.set(t);this[qn].emissiveFactor=t.toArray(),this[Jn]()}[Sr](){this[Tr]();const e=this[qn];for(const t of this[Hn])"MASK"===this[qn].alphaMode?t.alphaTest=e.alphaCutoff:t.alphaTest=void 0,t.needsUpdate=!0}setAlphaCutoff(e){this[Tr](),this[qn].alphaCutoff=e,this[Sr](),this[Jn]()}getAlphaCutoff(){return this[Tr](),this[qn].alphaCutoff}setDoubleSided(e){this[Tr]();for(const t of this[Hn])t.side=e?E.$EB:E.hB5,t.needsUpdate=!0;this[qn].doubleSided=e,this[Jn]()}getDoubleSided(){return this[Tr](),this[qn].doubleSided}setAlphaMode(e){this[Tr]();const t=(e,t)=>{e.transparent=t,e.depthWrite=!t};this[qn].alphaMode=e;for(const i of this[Hn])t(i,"BLEND"===e),this[Sr](),i.needsUpdate=!0;this[Jn]()}getAlphaMode(){return this[Tr](),this[qn].alphaMode}}var Gr,Pr,Or,Hr,qr;const Jr=Symbol("materials"),Vr=Symbol("variantToMaterialMap"),jr=Symbol("modelVariants"),Yr=Symbol("mesh"),Kr=(Symbol("primitives"),Symbol("loadVariant"),Symbol("prepareVariantsForExport"),Symbol("switchVariant"),Symbol("children")),zr=Symbol("initialMaterialIdx"),$r=Symbol("activeMaterialIdx");class Wr{constructor(e){this.name="",this[Gr]=new Array,this.name=e}}Gr=Kr;class Xr extends Wr{constructor(e,t,i,s){super(e.name),this[Pr]=new Map,this[Or]=new Map,this[Hr]=0,this[qr]=0,this[Yr]=e;const{gltf:n,threeGLTF:r,threeObjectMap:a}=s;this[jr]=i,this.mesh.userData.variantData=i;const o=a.get(e.material);null!=o.materials?this[zr]=this[$r]=o.materials:console.error(`Primitive (${e.name}) missing initial material reference.`);const A=e.userData.associations||{};if(null==A.meshes)return void console.error("Mesh is missing primitive index association");const l=((n.meshes||[])[A.meshes].primitives||[])[A.primitives];if(null!=l){if(null!=l.material)this[Jr].set(l.material,t[l.material]);else{const e=t.findIndex(e=>"Default"===e.name);e>=0?this[Jr].set(e,t[e]):console.warn("gltfPrimitive has no material!")}if(l.extensions&&l.extensions.KHR_materials_variants){const e=l.extensions.KHR_materials_variants,s=r.parser.json.extensions.KHR_materials_variants.variants;for(const n of e.mappings){const e=t[n.material];this[Jr].set(n.material,e);for(const t of n.variants){const{name:n}=s[t];this[Vr].set(t,e),e[kr]().add(t),i.has(n)||i.set(n,{name:n,index:t})}}}}else console.error("Mesh primitive definition is missing.")}get mesh(){return this[Yr]}async setActiveMaterial(e){const t=this[Jr].get(e);return null!=t&&(this.mesh.material=await t[Rr](),this[$r]=e),this.mesh.material}getActiveMaterial(){return this[Jr].get(this[$r])}getMaterial(e){return this[Jr].get(e)}async enableVariant(e){if(null==e)return this.setActiveMaterial(this[zr]);if(null!=this[Vr]&&this[jr].has(e)){const t=this[jr].get(e);return this.enableVariantHelper(t.index)}return null}async enableVariantHelper(e){if(null!=this[Vr]&&null!=e){const t=this[Vr].get(e);if(null!=t)return this.setActiveMaterial(t.index)}return null}async instantiateVariants(){if(null!=this[Vr])for(const e of this[Vr].keys()){const t=this.mesh.userData.variantMaterials.get(e);if(null!=t.material)continue;const i=await this.enableVariantHelper(e);null!=i&&(t.material=i)}}get variantInfo(){return this[Vr]}addVariant(e,t){if(!this.ensureVariantIsUnused(t))return!1;this[jr].has(t)||this[jr].set(t,{name:t,index:this[jr].size});const i=this[jr].get(t).index;return e[kr]().add(i),this[Vr].set(i,e),this[Jr].set(e.index,e),this.updateVariantUserData(i,e),!0}deleteVariant(e){if(this.variantInfo.has(e)){this.variantInfo.delete(e);const t=this.mesh.userData.variantMaterials;null!=t&&t.delete(e)}}updateVariantUserData(e,t){t[kr]().add(e),this.mesh.userData.variantData=this[jr],this.mesh.userData.variantMaterials=this.mesh.userData.variantMaterials||new Map;this.mesh.userData.variantMaterials.set(e,{material:t[Hn].values().next().value,gltfMaterialIndex:t.index})}ensureVariantIsUnused(e){const t=this[jr].get(e);return null==t||!this.variantInfo.has(t.index)||(console.warn(`Primitive cannot add variant '${e}' for this material, it already exists.`),!1)}}var Zr,ea,ta,ia,sa,na;Pr=Jr,Or=Vr,Hr=zr,qr=$r;const ra=Symbol("materials"),aa=Symbol("hierarchy"),oa=Symbol("roots"),Aa=Symbol("primitives"),la=(Symbol("loadVariant"),Symbol("correlatedSceneGraph")),ca=Symbol("prepareVariantsForExport"),ha=Symbol("switchVariant"),ua=Symbol("threeScene"),da=Symbol("materialsFromPoint"),ga=Symbol("materialFromPoint"),pa=Symbol("variantData"),ma=Symbol("availableVariants"),fa=Symbol("modelOnUpdate"),Ia=Symbol("cloneMaterial");class Ea{constructor(e,t,i,s){this.gltf=e,this.gltfElementMap=t,this.mapKey=i,this.doLazyLoad=s}}class Ca{constructor(e,t=()=>{}){this[Zr]=new Array,this[ea]=new Array,this[ta]=new Array,this[ia]=new Array,this[sa]=()=>{},this[na]=new Map,this[fa]=t,this[la]=e;const{gltf:i,threeGLTF:s,gltfElementMap:n}=e;this[ua]=s.scene;for(const[o,A]of i.materials.entries()){const e=n.get(A);if(null!=e)this[ra].push(new Nr(t,i,A,o,!0,this[pa],e));else{const r=(i.materials||[])[o],a=o,A=async()=>{const e=await s.parser.getDependency("material",a),t=new Set;return n.set(r,t),t.add(e),{set:t,material:e}};this[ra].push(new Nr(t,i,r,o,!1,this[pa],e,new Ea(i,n,r,A)))}}const r=new Map,a=new Array;for(const o of s.scene.children)a.push(o);for(;a.length>0;){const t=a.pop();let i=null;t instanceof E.eaF?(i=new Xr(t,this.materials,this[pa],e),this[Aa].push(i)):i=new Wr(t.name);const s=r.get(t);null!=s?s[Kr].push(i):this[oa].push(i),this[aa].push(i);for(const e of t.children)a.push(e),r.set(t,i)}}get materials(){return this[ra]}[(Zr=ra,ea=aa,ta=oa,ia=Aa,sa=fa,na=pa,ma)](){const e=Array.from(this[pa].values());return e.sort((e,t)=>e.index-t.index),e.map(e=>e.name)}getMaterialByName(e){const t=this[ra].filter(t=>t.name===e);return t.length>0?t[0]:null}[da](e){return e.intersectObject(this[ua],!0).map(e=>{const t=this[aa].find(t=>{if(t instanceof Xr){if(t.mesh===e.object)return!0}return!1});return null!=t?t.getActiveMaterial():null})}[ga](e){const t=this[da](e);return t.length>0?t[0]:null}async[ha](e){for(const t of this[Aa])await t.enableVariant(e);for(const t of this.materials)t[Lr](!1);for(const t of this[Aa])this.materials[t.getActiveMaterial().index][Lr](!0)}async[ca](){const e=new Array;for(const t of this[Aa])e.push(t.instantiateVariants());await Promise.all(e)}[Ia](e,t){const i=this.materials[e];i.isLoaded||console.error("Cloning an unloaded material,\n           call 'material.ensureLoaded() before cloning the material.");const s=i[Hn],n=JSON.parse(JSON.stringify(i[qn]));n.name=t;this[la].gltf.materials.push(n);const r=new Set;for(const[o,A]of s.entries()){const e=A.clone();e.name=t+(s.size>1?"_inst"+o:""),r.add(e)}const a=new Nr(this[fa],this[la].gltf,n,this[ra].length,!1,this[pa],r);return this[ra].push(a),a}createMaterialInstanceForVariant(e,t,i,s=!0){let n=null;for(const r of this[Aa]){const s=this[pa].get(i);null!=s&&r.variantInfo.has(s.index)||null!=r.getMaterial(e)&&(this.hasVariant(i)||this.createVariant(i),null==n&&(n=this[Ia](e,t)),r.addVariant(n,i))}if(s&&null!=n){n[Lr](!0),this.materials[e][Lr](!1);for(const e of this[Aa])e.enableVariant(i)}return n}createVariant(e){this[pa].has(e)?console.warn(`Variant '${e}'' already exists`):this[pa].set(e,{name:e,index:this[pa].size})}hasVariant(e){return this[pa].has(e)}setMaterialToVariant(e,t){if(null!=this[ma]().find(e=>e===t))if(e<0||e>=this.materials.length)console.error("setMaterialToVariant(): materialIndex is out of bounds.");else for(const i of this[Aa]){const s=i.getMaterial(e);null!=s&&i.addVariant(s,t)}else console.warn(`Can't add material to '${t}', the variant does not exist.'`)}updateVariantName(e,t){const i=this[pa].get(e);null!=i&&(i.name=t,this[pa].set(t,i),this[pa].delete(e))}deleteVariant(e){const t=this[pa].get(e);if(null!=t){for(const i of this.materials)i.hasVariant(e)&&i[_r].delete(t.index);for(const e of this[Aa])e.deleteVariant(t.index);this[pa].delete(e)}}}var Ba=function(e,t,i,s){var n,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const ya=Symbol("currentGLTF"),wa=Symbol("originalGltfJson"),va=Symbol("model"),Qa=Symbol("getOnUpdateMethod"),ba=Symbol("textureLoader"),Sa=(e,t)=>({type:"number",number:e,unit:t}),xa=(()=>{const e={};return t=>{const i=t;if(i in e)return e[i];const s=[];let n=0;for(;t;){if(++n>1e3){t="";break}const e=Ma(t),i=e.nodes[0];if(null==i||0===i.terms.length)break;s.push(i),t=e.remainingInput}return e[i]=s}})(),Ma=(()=>{const e=/^(\-\-|[a-z\u0240-\uffff])/i,t=/^([\*\+\/]|[\-]\s)/i,i=/^[\),]/;return s=>{const n=[];for(;s.length&&(s=s.trim(),!i.test(s));)if("("===s[0]){const{nodes:e,remainingInput:t}=La(s);s=t,n.push({type:"function",name:{type:"ident",value:"calc"},arguments:e})}else if(e.test(s)){const e=Ra(s),t=e.nodes[0];if("("===(s=e.remainingInput)[0]){const{nodes:e,remainingInput:i}=La(s);n.push({type:"function",name:t,arguments:e}),s=i}else n.push(t)}else if(t.test(s))n.push({type:"operator",value:s[0]}),s=s.slice(1);else{const{nodes:e,remainingInput:t}="#"===s[0]?Da(s):Ta(s);if(0===e.length)break;n.push(e[0]),s=t}return{nodes:[{type:"expression",terms:n}],remainingInput:s}}})(),Ra=(()=>{const e=/[^a-z0-9_\-\u0240-\uffff]/i;return t=>{const i=t.match(e);return{nodes:[{type:"ident",value:null==i?t:t.substr(0,i.index)}],remainingInput:null==i?"":t.substr(i.index)}}})(),Ta=(()=>{const e=/[\+\-]?(\d+[\.]\d+|\d+|[\.]\d+)([eE][\+\-]?\d+)?/,t=/^[a-z%]+/i,i=/^(m|mm|cm|rad|deg|[%])$/;return s=>{const n=s.match(e),r=null==n?"0":n[0],a=(s=null==r?s:s.slice(r.length)).match(t);let o=null!=a&&""!==a[0]?a[0]:null;const A=null==a?s:s.slice(o.length);return null==o||i.test(o)||(o=null),{nodes:[{type:"number",number:parseFloat(r)||0,unit:o}],remainingInput:A}}})(),Da=(()=>{const e=/^[a-f0-9]*/i;return t=>{const i=(t=t.slice(1).trim()).match(e);return{nodes:null==i?[]:[{type:"hex",value:i[0]}],remainingInput:null==i?t:t.slice(i[0].length)}}})(),La=e=>{const t=[];for(e=e.slice(1).trim();e.length;){const i=Ma(e);if(t.push(i.nodes[0]),","===(e=i.remainingInput.trim())[0])e=e.slice(1).trim();else if(")"===e[0]){e=e.slice(1);break}}return{nodes:t,remainingInput:e}},ka=Symbol("visitedTypes");class Fa{constructor(e){this[ka]=e}walk(e,t){const i=e.slice();for(;i.length;){const e=i.shift();switch(this[ka].indexOf(e.type)>-1&&t(e),e.type){case"expression":i.unshift(...e.terms);break;case"function":i.unshift(e.name,...e.arguments)}}}}const _a=Object.freeze({type:"number",number:0,unit:null}),Ua=(e,t=0)=>{let{number:i,unit:s}=e;if(isFinite(i)){if("rad"===e.unit||null==e.unit)return e}else i=t,s="rad";return{type:"number",number:("deg"===s&&null!=i?i:0)*Math.PI/180,unit:"rad"}},Na=(e,t=0)=>{let i,{number:s,unit:n}=e;if(isFinite(s)){if("m"===e.unit)return e}else s=t,n="m";switch(n){default:i=1;break;case"cm":i=.01;break;case"mm":i=.001}return{type:"number",number:i*s,unit:"m"}},Ga=(()=>{const e=e=>e,t={rad:e,deg:Ua,m:e,mm:Na,cm:Na};return(e,i=_a)=>{isFinite(e.number)||(e.number=i.number,e.unit=i.unit);const{unit:s}=e;if(null==s)return e;const n=t[s];return null==n?i:n(e)}})();class Pa extends Xi{constructor(e){super(document.createElement("div")),this.normal=new E.Pq0(0,1,0),this.initialized=!1,this.referenceCount=1,this.pivot=document.createElement("div"),this.slot=document.createElement("slot"),this.element.classList.add("annotation-wrapper"),this.slot.name=e.name,this.element.appendChild(this.pivot),this.pivot.appendChild(this.slot),this.updatePosition(e.position),this.updateNormal(e.normal)}get facingCamera(){return!this.element.classList.contains("hide")}show(){this.facingCamera&&this.initialized||this.updateVisibility(!0)}hide(){!this.facingCamera&&this.initialized||this.updateVisibility(!1)}increment(){this.referenceCount++}decrement(){return this.referenceCount>0&&--this.referenceCount,0===this.referenceCount}updatePosition(e){if(null==e)return;const t=xa(e)[0].terms;for(let i=0;i<3;++i)this.position.setComponent(i,Ga(t[i]).number);this.updateMatrixWorld()}updateNormal(e){if(null==e)return;const t=xa(e)[0].terms;for(let i=0;i<3;++i)this.normal.setComponent(i,Ga(t[i]).number)}orient(e){this.pivot.style.transform=`rotate(${e}rad)`}updateVisibility(e){e?this.element.classList.remove("hide"):this.element.classList.add("hide"),this.slot.assignedNodes().forEach(t=>{if(t.nodeType!==Node.ELEMENT_NODE)return;const i=t,s=i.dataset.visibilityAttribute;if(null!=s){const t=`data-${s}`;e?i.setAttribute(t,""):i.removeAttribute(t)}i.dispatchEvent(new CustomEvent("hotspot-visibility",{detail:{visible:e}}))}),this.initialized=!0}}const Oa=(e,t,i)=>{let s=i;const n=new E.Pq0;return e.traverseVisible(e=>{let i,r;e.updateWorldMatrix(!1,!1);const a=e.geometry;if(void 0!==a)if(a.isGeometry){const o=a.vertices;for(i=0,r=o.length;i<r;i++)n.copy(o[i]),e.isSkinnedMesh?e.boneTransform(i,n):n.applyMatrix4(e.matrixWorld),s=t(s,n)}else if(a.isBufferGeometry){const{position:o}=a.attributes;if(void 0!==o)for(i=0,r=o.count;i<r;i++)n.fromBufferAttribute(o,i),e.isSkinnedMesh?e.boneTransform(i,n):n.applyMatrix4(e.matrixWorld),s=t(s,n)}}),s},Ha={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float h;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"},qa={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float v;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"};Math.PI,Math.PI;function Ja(e,t,i){return(1-i)*e+i*t}class Va extends E.B69{constructor(e,t,i){super(),this.camera=new E.qUd,this.renderTarget=null,this.renderTargetBlur=null,this.depthMaterial=new E.CSG,this.horizontalBlurMaterial=new E.BKk(Ha),this.verticalBlurMaterial=new E.BKk(qa),this.intensity=0,this.softness=1,this.boundingBox=new E.NRn,this.size=new E.Pq0,this.maxDimension=0,this.isAnimated=!1,this.needsUpdate=!1;const{camera:s}=this;s.rotation.x=Math.PI/2,s.left=-.5,s.right=.5,s.bottom=-.5,s.top=.5,this.add(s);const n=new E.bdM,r=new E.V9B({opacity:1,transparent:!0,side:E.hsX});this.floor=new E.eaF(n,r),this.floor.userData.shadow=!0,s.add(this.floor),this.blurPlane=new E.eaF(n),this.blurPlane.visible=!1,s.add(this.blurPlane),e.target.add(this),this.depthMaterial.onBeforeCompile=function(e){e.fragmentShader=e.fragmentShader.replace("gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );","gl_FragColor = vec4( vec3( 0.0 ), ( 1.0 - fragCoordZ ) * opacity );")},this.horizontalBlurMaterial.depthTest=!1,this.verticalBlurMaterial.depthTest=!1,this.setScene(e,t,i)}setScene(e,t,i){const{boundingBox:s,size:n,rotation:r,position:a}=this;if(this.isAnimated=e.animationNames.length>0,this.boundingBox.copy(e.boundingBox),this.size.copy(e.size),this.maxDimension=Math.max(n.x,n.y,n.z)*(this.isAnimated?2:1),this.boundingBox.getCenter(a),"back"===i){const{min:e,max:t}=s;[e.y,e.z]=[e.z,e.y],[t.y,t.z]=[t.z,t.y],[n.y,n.z]=[n.z,n.y],r.x=Math.PI/2,r.y=Math.PI}else r.x=0,r.y=0;if(this.isAnimated){const e=s.min.y,t=s.max.y;n.y=this.maxDimension,s.expandByVector(n.subScalar(this.maxDimension).multiplyScalar(-.5)),s.min.y=e,s.max.y=t,n.set(this.maxDimension,t-e,this.maxDimension)}"bottom"===i?a.y=s.min.y:a.z=s.min.y,this.setSoftness(t)}setSoftness(e){this.softness=e;const{size:t,camera:i}=this,s=this.isAnimated?2:1,n=s*Math.pow(2,9-3*e);this.setMapSize(n);const r=t.y/2,a=t.y*s;i.near=0,i.far=Ja(a,r,e),this.depthMaterial.opacity=1/e,i.updateProjectionMatrix(),this.setIntensity(this.intensity),this.setOffset(0)}setMapSize(e){const{size:t}=this;this.isAnimated&&(e*=2);const i=Math.floor(t.x>t.z?e:e*t.x/t.z),s=Math.floor(t.x>t.z?e*t.z/t.x:e),n=10+i,r=10+s;if(null==this.renderTarget||this.renderTarget.width===n&&this.renderTarget.height===r||(this.renderTarget.dispose(),this.renderTarget=null,this.renderTargetBlur.dispose(),this.renderTargetBlur=null),null==this.renderTarget){const e={format:E.GWd};this.renderTarget=new E.nWS(n,r,e),this.renderTargetBlur=new E.nWS(n,r,e),this.floor.material.map=this.renderTarget.texture}this.camera.scale.set(t.x*(1+10/i),t.z*(1+10/s),1),this.needsUpdate=!0}setIntensity(e){this.intensity=e,e>0?(this.visible=!0,this.floor.visible=!0,this.floor.material.opacity=e*Ja(.3,1,this.softness*this.softness)):(this.visible=!1,this.floor.visible=!1)}getIntensity(){return this.intensity}setOffset(e){this.floor.position.z=-e+.001*this.maxDimension}render(e,t){t.overrideMaterial=this.depthMaterial;const i=e.getClearAlpha();e.setClearAlpha(0),this.floor.visible=!1;const s=e.xr.enabled;e.xr.enabled=!1;const n=e.getRenderTarget();e.setRenderTarget(this.renderTarget),e.render(t,this.camera),t.overrideMaterial=null,this.floor.visible=!0,this.blurShadow(e),e.xr.enabled=s,e.setRenderTarget(n),e.setClearAlpha(i)}blurShadow(e){const{camera:t,horizontalBlurMaterial:i,verticalBlurMaterial:s,renderTarget:n,renderTargetBlur:r,blurPlane:a}=this;a.visible=!0,a.material=i,i.uniforms.h.value=1/this.renderTarget.width,i.uniforms.tDiffuse.value=this.renderTarget.texture,e.setRenderTarget(r),e.render(a,t),a.material=s,s.uniforms.v.value=1/this.renderTarget.height,s.uniforms.tDiffuse.value=this.renderTargetBlur.texture,e.setRenderTarget(n),e.render(a,t),a.visible=!1}dispose(){null!=this.renderTarget&&this.renderTarget.dispose(),null!=this.renderTargetBlur&&this.renderTargetBlur.dispose(),this.depthMaterial.dispose(),this.horizontalBlurMaterial.dispose(),this.verticalBlurMaterial.dispose(),this.floor.material.dispose(),this.floor.geometry.dispose(),this.blurPlane.geometry.dispose(),this.removeFromParent()}}const ja=new E.Pq0,Ya=new E.Pq0,Ka=new E.Pq0,za=new E.tBo,$a=new E.Pq0,Wa=new E.I9Y;class Xa extends E.Z58{constructor({canvas:e,element:t,width:i,height:s}){super(),this.annotationRenderer=new ns,this.schemaElement=document.createElement("script"),this.width=1,this.height=1,this.aspect=1,this.scaleStep=0,this.renderCount=0,this.externalRenderer=null,this.camera=new E.ubm(45,1,.1,100),this.xrCamera=null,this.url=null,this.target=new E.B69,this.animationNames=[],this.boundingBox=new E.NRn,this.boundingSphere=new E.iyt,this.size=new E.Pq0,this.idealAspect=0,this.framedFoVDeg=0,this.shadow=null,this.shadowIntensity=0,this.shadowSoftness=1,this.bakedShadows=new Set,this.exposure=1,this.canScale=!0,this.isDirty=!1,this.goalTarget=new E.Pq0,this.targetDamperX=new js,this.targetDamperY=new js,this.targetDamperZ=new js,this._currentGLTF=null,this._model=null,this.cancelPendingSourceChange=null,this.animationsByName=new Map,this.currentAnimationAction=null,this.name="ModelScene",this.element=t,this.canvas=e,this.camera=new E.ubm(45,1,.1,100),this.camera.name="MainCamera",this.add(this.target),this.setSize(i,s),this.target.name="Target",this.mixer=new E.Iw4(this.target);const{domElement:n}=this.annotationRenderer,{style:r}=n;r.display="none",r.pointerEvents="none",r.position="absolute",r.top="0",this.element.shadowRoot.querySelector(".default").appendChild(n),this.schemaElement.setAttribute("type","application/ld+json")}get context(){return this.canvas.getContext("2d")}getCamera(){return null!=this.xrCamera?this.xrCamera:this.camera}queueRender(){this.isDirty=!0}shouldRender(){return this.isDirty}hasRendered(){this.isDirty=!1}forceRescale(){this.scaleStep=-1,this.queueRender()}async setObject(e){this.reset(),this._model=e,this.target.add(e),await this.setupScene()}async setSource(e,t=()=>{}){if(!e||e===this.url)return void t(1);if(this.reset(),this.url=e,null!=this.externalRenderer){const e=await this.externalRenderer.load(t);return this.boundingSphere.radius=e.framedRadius,void(this.idealAspect=e.fieldOfViewAspect)}let i;null!=this.cancelPendingSourceChange&&(this.cancelPendingSourceChange(),this.cancelPendingSourceChange=null);try{i=await new Promise(async(i,s)=>{this.cancelPendingSourceChange=()=>s();try{i(await this.element[Jo].loader.load(e,this.element,t))}catch(n){s(n)}})}catch(a){if(null==a)return;throw a}this.cancelPendingSourceChange=null,this.reset(),this.url=e,this._currentGLTF=i,null!=i&&(this._model=i.scene,this.target.add(i.scene));const{animations:s}=i,n=new Map,r=[];for(const o of s)n.set(o.name,o),r.push(o.name);this.animations=s,this.animationsByName=n,this.animationNames=r,await this.setupScene()}async setupScene(){this.applyTransform(),this.updateBoundingBox(),await this.updateFraming(),this.updateShadow(),this.setShadowIntensity(this.shadowIntensity)}reset(){this.url=null,this.queueRender(),null!=this.shadow&&this.shadow.setIntensity(0),this.bakedShadows.clear();const{_model:e}=this;null!=e&&(e.removeFromParent(),this._model=null);const t=this._currentGLTF;null!=t&&(t.dispose(),this._currentGLTF=null),null!=this.currentAnimationAction&&(this.currentAnimationAction.stop(),this.currentAnimationAction=null),this.mixer.stopAllAction(),this.mixer.uncacheRoot(this)}dispose(){this.reset(),null!=this.shadow&&(this.shadow.dispose(),this.shadow=null),this.element[ya]=null,this.element[wa]=null,this.element[va]=null}get currentGLTF(){return this._currentGLTF}setSize(e,t){if(this.width!==e||this.height!==t){if(this.width=Math.max(e,1),this.height=Math.max(t,1),this.annotationRenderer.setSize(e,t),this.aspect=this.width/this.height,null!=this.externalRenderer){const i=Je();this.externalRenderer.resize(e*i,t*i)}this.queueRender()}}markBakedShadow(e){e.userData.shadow=!0,this.bakedShadows.add(e)}unmarkBakedShadow(e){e.userData.shadow=!1,e.visible=!0,this.bakedShadows.delete(e),this.boundingBox.expandByObject(e)}findBakedShadows(e){const t=new E.NRn;e.traverse(e=>{const i=e;if(!i.isMesh)return;if(!i.material.transparent)return;t.setFromObject(i);const s=t.getSize($a),n=Math.min(s.x,s.y,s.z);Math.max(s.x,s.y,s.z)<100*n||this.markBakedShadow(i)})}checkBakedShadows(){const{min:e,max:t}=this.boundingBox,i=new E.NRn;this.boundingBox.getSize(this.size);for(const s of this.bakedShadows)i.setFromObject(s),i.min.y<e.y+this.size.y/100&&i.min.x<=e.x&&i.max.x>=t.x&&i.min.z<=e.z&&i.max.z>=t.z||i.min.z<e.z+this.size.z/100&&i.min.x<=e.x&&i.max.x>=t.x&&i.min.y<=e.y&&i.max.y>=t.y||this.unmarkBakedShadow(s)}applyTransform(){const{model:e}=this;if(null==e)return;const t=xa(this.element.orientation)[0].terms,i=Ga(t[0]).number,s=Ga(t[1]).number,n=Ga(t[2]).number;e.quaternion.setFromEuler(new E.O9p(s,n,i,"YXZ"));const r=xa(this.element.scale)[0].terms;e.scale.set(r[0].number,r[1].number,r[2].number)}updateBoundingBox(){const{model:e}=this;if(null==e)return;this.target.remove(e),this.findBakedShadows(e);const t=(e,t)=>e.expandByPoint(t);this.setBakedShadowVisibility(!1),this.boundingBox=Oa(e,t,new E.NRn),this.boundingBox.isEmpty()&&(this.setBakedShadowVisibility(!0),this.bakedShadows.forEach(e=>this.unmarkBakedShadow(e)),this.boundingBox=Oa(e,t,new E.NRn)),this.checkBakedShadows(),this.setBakedShadowVisibility(),this.boundingBox.getSize(this.size),this.target.add(e)}async updateFraming(){const{model:e}=this;if(null==e)return;this.target.remove(e),this.setBakedShadowVisibility(!1);const{center:t}=this.boundingSphere;this.element.requestUpdate("cameraTarget"),await this.element.updateComplete,t.copy(this.getTarget());this.boundingSphere.radius=Math.sqrt(Oa(e,(e,i)=>Math.max(e,t.distanceToSquared(i)),0));this.idealAspect=Oa(e,(e,i)=>{i.sub(t);const s=Math.sqrt(i.x*i.x+i.z*i.z);return Math.max(e,s/(this.idealCameraDistance()-Math.abs(i.y)))},0)/Math.tan(this.framedFoVDeg/2*Math.PI/180),this.setBakedShadowVisibility(),this.target.add(e)}setBakedShadowVisibility(e=this.shadowIntensity<=0){for(const t of this.bakedShadows)t.visible=e}idealCameraDistance(){const e=this.framedFoVDeg/2*Math.PI/180;return this.boundingSphere.radius/Math.sin(e)}adjustedFoV(e){const t=Math.tan(e/2*Math.PI/180)*Math.max(1,this.idealAspect/this.aspect);return 2*Math.atan(t)*180/Math.PI}getNDC(e,t){if(null!=this.xrCamera)Wa.set(e/window.screen.width,t/window.screen.height);else{const i=this.element.getBoundingClientRect();Wa.set((e-i.x)/this.width,(t-i.y)/this.height)}return Wa.multiplyScalar(2).subScalar(1),Wa.y*=-1,Wa}getSize(){return{width:this.width,height:this.height}}setEnvironmentAndSkybox(e,t){this.element[Jo].arRenderer.presentedScene!==this&&(this.environment=e,this.background=t,this.queueRender())}setTarget(e,t,i){this.goalTarget.set(-e,-t,-i)}setTargetDamperDecayTime(e){this.targetDamperX.setDecayTime(e),this.targetDamperY.setDecayTime(e),this.targetDamperZ.setDecayTime(e)}getTarget(){return this.goalTarget.clone().multiplyScalar(-1)}jumpToGoal(){this.updateTarget(1e4)}updateTarget(e){const t=this.goalTarget,i=this.target.position;if(t.equals(i))return!1;{const s=this.boundingSphere.radius/10;let{x:n,y:r,z:a}=i;return n=this.targetDamperX.update(n,t.x,e,s),r=this.targetDamperY.update(r,t.y,e,s),a=this.targetDamperZ.update(a,t.z,e,s),this.target.position.set(n,r,a),this.target.updateMatrixWorld(),this.queueRender(),!0}}pointTowards(e,t){const{x:i,z:s}=this.position;this.yaw=Math.atan2(e-i,t-s)}get model(){return this._model}set yaw(e){this.rotation.y=e,this.queueRender()}get yaw(){return this.rotation.y}set animationTime(e){this.mixer.setTime(e),this.queueShadowRender()}get animationTime(){if(null!=this.currentAnimationAction){const e=Math.max(this.currentAnimationAction._loopCount,0);return this.currentAnimationAction.loop!==E.lc7||1&~e?this.currentAnimationAction.time:this.duration-this.currentAnimationAction.time}return 0}set animationTimeScale(e){this.mixer.timeScale=e}get animationTimeScale(){return this.mixer.timeScale}get duration(){return null!=this.currentAnimationAction&&this.currentAnimationAction.getClip()?this.currentAnimationAction.getClip().duration:0}get hasActiveAnimation(){return null!=this.currentAnimationAction}playAnimation(e=null,t=0,i=E.aMy,s=1/0){if(null==this._currentGLTF)return;const{animations:n}=this;if(null==n||0===n.length)return void console.warn("Cannot play animation (model does not have any animations)");let r=null;if(null!=e&&(r=this.animationsByName.get(e),null==r)){const t=parseInt(e);!isNaN(t)&&t>=0&&t<n.length&&(r=n[t])}null==r&&(r=n[0]);try{const{currentAnimationAction:e}=this,n=this.mixer.clipAction(r,this);this.currentAnimationAction=n,this.element.paused?this.mixer.stopAllAction():(n.paused=!1,null!=e&&n!==e?n.crossFadeFrom(e,t,!1):this.animationTimeScale>0&&this.animationTime==this.duration&&(this.animationTime=0)),n.setLoop(i,s),n.enabled=!0,n.clampWhenFinished=!0,n.play()}catch(a){console.error(a)}}stopAnimation(){this.currentAnimationAction=null,this.mixer.stopAllAction()}updateAnimation(e){this.mixer.update(e),this.queueShadowRender()}subscribeMixerEvent(e,t){this.mixer.addEventListener(e,t)}updateShadow(){const e=this.shadow;if(null!=e){const t="wall"===this.element.arPlacement?"back":"bottom";e.setScene(this,this.shadowSoftness,t),e.needsUpdate=!0}}renderShadow(e){const t=this.shadow;null!=t&&1==t.needsUpdate&&(t.render(e,this),t.needsUpdate=!1)}queueShadowRender(){null!=this.shadow&&(this.shadow.needsUpdate=!0)}setShadowIntensity(e){if(this.shadowIntensity=e,null!=this._currentGLTF&&(this.setBakedShadowVisibility(),!(e<=0&&null==this.shadow))){if(null==this.shadow){const e="wall"===this.element.arPlacement?"back":"bottom";this.shadow=new Va(this,this.shadowSoftness,e)}this.shadow.setIntensity(e)}}setShadowSoftness(e){this.shadowSoftness=e;const t=this.shadow;null!=t&&t.setSoftness(e)}setShadowOffset(e){const t=this.shadow;null!=t&&t.setOffset(e)}get raycaster(){return za}positionAndNormalFromPoint(e,t=this){this.raycaster.setFromCamera(e,this.getCamera());const i=this.raycaster.intersectObject(t,!0).find(e=>e.object.visible&&!e.object.userData.shadow);return null==i||null==i.face?null:null==i.uv?{position:i.point,normal:i.face.normal,uv:null}:(i.face.normal.applyNormalMatrix((new E.dwI).getNormalMatrix(i.object.matrixWorld)),{position:i.point,normal:i.face.normal,uv:i.uv})}addHotspot(e){this.target.add(e),this.annotationRenderer.domElement.appendChild(e.element)}removeHotspot(e){this.target.remove(e)}forHotspots(e){const{children:t}=this.target;for(let i=0,s=t.length;i<s;i++){const s=t[i];s instanceof Pa&&e(s)}}updateHotspots(e){this.forHotspots(t=>{ja.copy(e),Ya.setFromMatrixPosition(t.matrixWorld),ja.sub(Ya),Ka.copy(t.normal).transformDirection(this.target.matrixWorld),ja.dot(Ka)<0?t.hide():t.show()})}orientHotspots(e){this.forHotspots(t=>{t.orient(e)})}setHotspotsVisibility(e){this.forHotspots(t=>{t.visible=e})}updateSchema(e){var t;const{schemaElement:i,element:s}=this,{alt:n,poster:r,iosSrc:a}=s;if(null!=e){const s=[{"@type":"MediaObject",contentUrl:e,encodingFormat:"gltf"===(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase())?"model/gltf+json":"model/gltf-binary"}];a&&s.push({"@type":"MediaObject",contentUrl:a,encodingFormat:"model/vnd.usdz+zip"});const o={"@context":"http://schema.org/","@type":"3DModel",image:null!=r?r:void 0,name:null!=n?n:void 0,encoding:s};i.textContent=JSON.stringify(o),document.head.appendChild(i)}else null!=i.parentElement&&i.parentElement.removeChild(i)}}class Za extends EventTarget{constructor(){super(...arguments),this.ongoingActivities=new Set,this.totalProgress=0}get ongoingActivityCount(){return this.ongoingActivities.size}beginActivity(){const e={progress:0,completed:!1};return this.ongoingActivities.add(e),1===this.ongoingActivityCount&&this.announceTotalProgress(e,0),t=>{let i;return i=Math.max(qe(t,0,1),e.progress),i!==e.progress&&this.announceTotalProgress(e,i),e.progress}}announceTotalProgress(e,t){let i=0,s=0;1==t&&(e.completed=!0);for(const a of this.ongoingActivities){const{progress:e}=a;i+=1-e,!0===a.completed&&s++}const n=e.progress;e.progress=t,this.totalProgress+=(t-n)*(1-this.totalProgress)/i;const r=s===this.ongoingActivityCount?1:this.totalProgress;this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:r}})),s===this.ongoingActivityCount&&(this.totalProgress=0,this.ongoingActivities.clear())}}var eo,to,io,so,no,ro,ao,oo,Ao,lo,co,ho,uo,go=function(e,t,i,s){var n,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const po=document.createElement("canvas"),mo=Symbol("fallbackResizeHandler"),fo=Symbol("defaultAriaLabel"),Io=Symbol("resizeObserver"),Eo=Symbol("clearModelTimeout"),Co=Symbol("onContextLost"),Bo=Symbol("loaded"),yo=Symbol("status"),wo=Symbol("onFocus"),vo=Symbol("onBlur"),Qo=Symbol("updateSize"),bo=Symbol("intersectionObserver"),So=Symbol("isElementInViewport"),xo=Symbol("announceModelVisibility"),Mo=Symbol("ariaLabel"),Ro=Symbol("altDefaulted"),To=Symbol("statusElement"),Do=Symbol("updateStatus"),Lo=Symbol("loadedTime"),ko=Symbol("updateSource"),Fo=Symbol("markLoaded"),_o=Symbol("container"),Uo=Symbol("input"),No=Symbol("canvas"),Go=Symbol("scene"),Po=Symbol("needsRender"),Oo=Symbol("tick"),Ho=Symbol("onModelLoad"),qo=Symbol("onResize"),Jo=Symbol("renderer"),Vo=Symbol("progressTracker"),jo=Symbol("getLoaded"),Yo=Symbol("getModelIsVisible"),Ko=Symbol("shouldAttemptPreload"),zo=e=>({x:e.x,y:e.y,z:e.z,toString(){return`${this.x}m ${this.y}m ${this.z}m`}}),$o=e=>({u:e.x,v:e.y,toString(){return`${this.u} ${this.v}`}});class Wo extends F{constructor(){super(),this.alt=null,this.src=null,this.withCredentials=!1,this.generateSchema=!1,this[eo]=!1,this[to]=!1,this[io]=0,this[so]="",this[no]=null,this[ro]=He(()=>{const e=this.getBoundingClientRect();this[Qo](e)},50),this[ao]=He(e=>{const t=this.modelIsVisible;t!==e&&this.dispatchEvent(new CustomEvent("model-visibility",{detail:{visible:t}}))},0),this[oo]=null,this[Ao]=null,this[lo]=new Za,this[co]=()=>{this[To].textContent=this[yo]},this[ho]=()=>{this[To].textContent=""},this[uo]=e=>{this.dispatchEvent(new CustomEvent("error",{detail:{type:"webglcontextlost",sourceError:e.sourceEvent}}))},this.attachShadow({mode:"open"});const e=this.shadowRoot;let t,i;if((e=>{ye(We,e)})(e),this[_o]=e.querySelector(".container"),this[Uo]=e.querySelector(".userInput"),this[No]=e.querySelector("canvas"),this[To]=e.querySelector("#status"),this[fo]=this[Uo].getAttribute("aria-label"),this.isConnected){const e=this.getBoundingClientRect();t=e.width,i=e.height}else t=300,i=150;this[Go]=new Xa({canvas:this[No],element:this,width:t,height:i}),Promise.resolve().then(()=>{this[Qo](this.getBoundingClientRect())}),Me&&(this[Io]=new ResizeObserver(e=>{if(!this[Jo].isPresenting)for(let t of e)t.target===this&&this[Qo](t.contentRect)})),Re?this[bo]=new IntersectionObserver(e=>{for(let t of e)if(t.target===this){const e=this.modelIsVisible;this[So]=t.isIntersecting,this[xo](e),this[So]&&!this.loaded&&this[ko]()}},{root:null,rootMargin:"0px",threshold:1e-5}):this[So]=!0}static get is(){return"model-viewer"}static set modelCacheSize(e){Wi[zi].evictionThreshold=e}static get modelCacheSize(){return Wi[zi].evictionThreshold}static set minimumRenderScale(e){e>1&&console.warn("<model-viewer> minimumRenderScale has been clamped to a maximum value of 1."),e<=0&&console.warn("<model-viewer> minimumRenderScale has been clamped to a minimum value of 0.25."),On.singleton.minScale=e}static get minimumRenderScale(){return On.singleton.minScale}get loaded(){return this[jo]()}get[(eo=So,to=Bo,io=Lo,so=yo,no=Eo,ro=mo,ao=xo,oo=Io,Ao=bo,lo=Vo,Jo)](){return On.singleton}get modelIsVisible(){return this[Yo]()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),Me?this[Io].observe(this):self.addEventListener("resize",this[mo]),Re&&this[bo].observe(this),this.addEventListener("focus",this[wo]),this.addEventListener("blur",this[vo]);const e=this[Jo];e.addEventListener("contextlost",this[Co]),e.registerScene(this[Go]),null!=this[Eo]&&(self.clearTimeout(this[Eo]),this[Eo]=null,this.requestUpdate("src",null))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),Me?this[Io].unobserve(this):self.removeEventListener("resize",this[mo]),Re&&this[bo].unobserve(this),this.removeEventListener("focus",this[wo]),this.removeEventListener("blur",this[vo]);const e=this[Jo];e.removeEventListener("contextlost",this[Co]),e.unregisterScene(this[Go]),this[Eo]=self.setTimeout(()=>{this[Go].dispose(),this[Eo]=null},1e3)}updated(e){super.updated(e),e.has("src")&&(null==this.src?(this[Bo]=!1,this[Lo]=0,this[Go].reset()):this.src!==this[Go].url&&(this[Bo]=!1,this[Lo]=0,this[ko]())),e.has("alt")&&this[Uo].setAttribute("aria-label",this[Mo]),e.has("withCredentials")&&(Wi.withCredentials=this.withCredentials),e.has("generateSchema")&&(this.generateSchema?this[Go].updateSchema(this.src):this[Go].updateSchema(null))}toDataURL(e,t){return this[Jo].displayCanvas(this[Go]).toDataURL(e,t)}async toBlob(e){const t=e?e.mimeType:void 0,i=e?e.qualityArgument:void 0,s=e?e.idealAspect:void 0,{width:n,height:r,idealAspect:a,aspect:o}=this[Go],{dpr:A,scaleFactor:l}=this[Jo];let c=n*l*A,h=r*l*A,u=0,d=0;if(!0===s)if(a>o){const e=h;h=Math.round(c/a),d=(e-h)/2}else{const e=c;c=Math.round(h*a),u=(e-c)/2}po.width=c,po.height=h;try{return new Promise(async(e,s)=>(po.getContext("2d").drawImage(this[Jo].displayCanvas(this[Go]),u,d,c,h,0,0,c,h),!po.msToBlob||t&&"image/png"!==t?po.toBlob?void po.toBlob(t=>{if(!t)return s(new Error("Unable to retrieve canvas blob"));e(t)},t,i):e(await(async e=>new Promise((t,i)=>{const s=e.match(/data:(.*);/);if(!s)return i(new Error(`${e} is not a valid data Url`));const n=s[1],r=e.replace(/data:image\/\w+;base64,/,""),a=atob(r),o=[];for(let e=0;e<a.length;e+=512){const t=a.slice(e,e+512),i=new Array(t.length);for(let e=0;e<t.length;e++)i[e]=t.charCodeAt(e);const s=new Uint8Array(i);o.push(s)}t(new Blob(o,{type:n}))}))(po.toDataURL(t,i))):e(po.msToBlob())))}finally{this[Qo]({width:n,height:r})}}registerRenderer(e){this[Go].externalRenderer=e}unregisterRenderer(){this[Go].externalRenderer=null}get[Mo](){return this[Ro]}get[Ro](){return null==this.alt||"null"===this.alt?this[fo]:this.alt}[jo](){return this[Bo]}[Yo](){return this.loaded&&this[So]}[Ko](){return!!this.src&&this[So]}[Qo]({width:e,height:t}){this[_o].style.width=`${e}px`,this[_o].style.height=`${t}px`,this[qo]({width:parseFloat(e),height:parseFloat(t)})}[Oo](e,t){}[Fo](){this[Bo]||(this[Bo]=!0,this[Lo]=performance.now())}[Po](){this[Go].queueRender()}[Ho](){}[Do](e){this[yo]=e;const t=this.getRootNode();null!=t&&t.activeElement===this&&this[To].textContent!=e&&(this[To].textContent=e)}[(co=wo,ho=vo,qo)](e){this[Go].setSize(e.width,e.height)}async[(uo=Co,ko)](){const e=this[Go];if(this.loaded||!this[Ko]()||this.src===e.url)return;this.generateSchema&&e.updateSchema(this.src),this[Do]("Loading"),e.stopAnimation();const t=this[Vo].beginActivity(),i=this.src;try{const s=e.setSource(i,e=>t(.95*qe(e,0,1))),n=this[ze]();await Promise.all([s,n]),this[Fo](),this[Ho](),await new Promise(e=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.dispatchEvent(new CustomEvent("load",{detail:{url:i}})),e()})})})}catch(s){this.dispatchEvent(new CustomEvent("error",{detail:{type:"loadfailure",sourceError:s}}))}finally{t(1)}}}go([f({type:String})],Wo.prototype,"alt",void 0),go([f({type:String})],Wo.prototype,"src",void 0),go([f({type:Boolean,attribute:"with-credentials"})],Wo.prototype,"withCredentials",void 0),go([f({type:Boolean,attribute:"generate-schema"})],Wo.prototype,"generateSchema",void 0);var Xo=function(e,t,i,s){var n,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const Zo=Symbol("changeAnimation"),eA=Symbol("paused"),tA={repetitions:1/0,pingpong:!1},iA=Symbol("hotspotMap"),sA=Symbol("mutationCallback"),nA=Symbol("observer"),rA=Symbol("addHotspot"),aA=Symbol("removeHotspot"),oA=new E.kn4,AA=new E.dwI;var lA=function(e){return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};try{URL.revokeObjectURL(lA(""))}catch(xd){lA=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)}}var cA=Uint8Array,hA=Uint16Array,uA=Uint32Array,dA=new cA([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gA=new cA([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),pA=new cA([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mA=function(e,t){for(var i=new hA(31),s=0;s<31;++s)i[s]=t+=1<<e[s-1];var n=new uA(i[30]);for(s=1;s<30;++s)for(var r=i[s];r<i[s+1];++r)n[r]=r-i[s]<<5|s;return[i,n]},fA=mA(dA,2),IA=fA[0],EA=fA[1];IA[28]=258,EA[258]=28;for(var CA=mA(gA,0),BA=(CA[0],CA[1]),yA=new hA(32768),wA=0;wA<32768;++wA){var vA=(43690&wA)>>>1|(21845&wA)<<1;vA=(61680&(vA=(52428&vA)>>>2|(13107&vA)<<2))>>>4|(3855&vA)<<4,yA[wA]=((65280&vA)>>>8|(255&vA)<<8)>>>1}var QA=function(e,t,i){for(var s=e.length,n=0,r=new hA(t);n<s;++n)++r[e[n]-1];var a,o=new hA(t);for(n=0;n<t;++n)o[n]=o[n-1]+r[n-1]<<1;if(i){a=new hA(1<<t);var A=15-t;for(n=0;n<s;++n)if(e[n])for(var l=n<<4|e[n],c=t-e[n],h=o[e[n]-1]++<<c,u=h|(1<<c)-1;h<=u;++h)a[yA[h]>>>A]=l}else for(a=new hA(s),n=0;n<s;++n)e[n]&&(a[n]=yA[o[e[n]-1]++]>>>15-e[n]);return a},bA=new cA(288);for(wA=0;wA<144;++wA)bA[wA]=8;for(wA=144;wA<256;++wA)bA[wA]=9;for(wA=256;wA<280;++wA)bA[wA]=7;for(wA=280;wA<288;++wA)bA[wA]=8;var SA=new cA(32);for(wA=0;wA<32;++wA)SA[wA]=5;var xA=QA(bA,9,0),MA=QA(SA,5,0),RA=function(e){return(e/8|0)+(7&e&&1)},TA=function(e,t,i){(null==t||t<0)&&(t=0),(null==i||i>e.length)&&(i=e.length);var s=new(e instanceof hA?hA:e instanceof uA?uA:cA)(i-t);return s.set(e.subarray(t,i)),s},DA=function(e,t,i){i<<=7&t;var s=t/8|0;e[s]|=i,e[s+1]|=i>>>8},LA=function(e,t,i){i<<=7&t;var s=t/8|0;e[s]|=i,e[s+1]|=i>>>8,e[s+2]|=i>>>16},kA=function(e,t){for(var i=[],s=0;s<e.length;++s)e[s]&&i.push({s:s,f:e[s]});var n=i.length,r=i.slice();if(!n)return[OA,0];if(1==n){var a=new cA(i[0].s+1);return a[i[0].s]=1,[a,1]}i.sort(function(e,t){return e.f-t.f}),i.push({s:-1,f:25001});var o=i[0],A=i[1],l=0,c=1,h=2;for(i[0]={s:-1,f:o.f+A.f,l:o,r:A};c!=n-1;)o=i[i[l].f<i[h].f?l++:h++],A=i[l!=c&&i[l].f<i[h].f?l++:h++],i[c++]={s:-1,f:o.f+A.f,l:o,r:A};var u=r[0].s;for(s=1;s<n;++s)r[s].s>u&&(u=r[s].s);var d=new hA(u+1),g=FA(i[c-1],d,0);if(g>t){s=0;var p=0,m=g-t,f=1<<m;for(r.sort(function(e,t){return d[t.s]-d[e.s]||e.f-t.f});s<n;++s){var I=r[s].s;if(!(d[I]>t))break;p+=f-(1<<g-d[I]),d[I]=t}for(p>>>=m;p>0;){var E=r[s].s;d[E]<t?p-=1<<t-d[E]++-1:++s}for(;s>=0&&p;--s){var C=r[s].s;d[C]==t&&(--d[C],++p)}g=t}return[new cA(d),g]},FA=function(e,t,i){return-1==e.s?Math.max(FA(e.l,t,i+1),FA(e.r,t,i+1)):t[e.s]=i},_A=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new hA(++t),s=0,n=e[0],r=1,a=function(e){i[s++]=e},o=1;o<=t;++o)if(e[o]==n&&o!=t)++r;else{if(!n&&r>2){for(;r>138;r-=138)a(32754);r>2&&(a(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(a(n),--r;r>6;r-=6)a(8304);r>2&&(a(r-3<<5|8208),r=0)}for(;r--;)a(n);r=1,n=e[o]}return[i.subarray(0,s),t]},UA=function(e,t){for(var i=0,s=0;s<t.length;++s)i+=e[s]*t[s];return i},NA=function(e,t,i){var s=i.length,n=RA(t+2);e[n]=255&s,e[n+1]=s>>>8,e[n+2]=255^e[n],e[n+3]=255^e[n+1];for(var r=0;r<s;++r)e[n+r+4]=i[r];return 8*(n+4+s)},GA=function(e,t,i,s,n,r,a,o,A,l,c){DA(t,c++,i),++n[256];for(var h=kA(n,15),u=h[0],d=h[1],g=kA(r,15),p=g[0],m=g[1],f=_A(u),I=f[0],E=f[1],C=_A(p),B=C[0],y=C[1],w=new hA(19),v=0;v<I.length;++v)w[31&I[v]]++;for(v=0;v<B.length;++v)w[31&B[v]]++;for(var Q=kA(w,7),b=Q[0],S=Q[1],x=19;x>4&&!b[pA[x-1]];--x);var M,R,T,D,L=l+5<<3,k=UA(n,bA)+UA(r,SA)+a,F=UA(n,u)+UA(r,p)+a+14+3*x+UA(w,b)+(2*w[16]+3*w[17]+7*w[18]);if(L<=k&&L<=F)return NA(t,c,e.subarray(A,A+l));if(DA(t,c,1+(F<k)),c+=2,F<k){M=QA(u,d,0),R=u,T=QA(p,m,0),D=p;var _=QA(b,S,0);DA(t,c,E-257),DA(t,c+5,y-1),DA(t,c+10,x-4),c+=14;for(v=0;v<x;++v)DA(t,c+3*v,b[pA[v]]);c+=3*x;for(var U=[I,B],N=0;N<2;++N){var G=U[N];for(v=0;v<G.length;++v){var P=31&G[v];DA(t,c,_[P]),c+=b[P],P>15&&(DA(t,c,G[v]>>>5&127),c+=G[v]>>>12)}}}else M=xA,R=bA,T=MA,D=SA;for(v=0;v<o;++v)if(s[v]>255){P=s[v]>>>18&31;LA(t,c,M[P+257]),c+=R[P+257],P>7&&(DA(t,c,s[v]>>>23&31),c+=dA[P]);var O=31&s[v];LA(t,c,T[O]),c+=D[O],O>3&&(LA(t,c,s[v]>>>5&8191),c+=gA[O])}else LA(t,c,M[s[v]]),c+=R[s[v]];return LA(t,c,M[256]),c+R[256]},PA=new uA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),OA=new cA(0),HA=function(e,t,i,s,n,r){var a=e.length,o=new cA(s+a+5*(1+Math.ceil(a/7e3))+n),A=o.subarray(s,o.length-n),l=0;if(!t||a<8)for(var c=0;c<=a;c+=65535){var h=c+65535;h<a?l=NA(A,l,e.subarray(c,h)):(A[c]=r,l=NA(A,l,e.subarray(c,a)))}else{for(var u=PA[t-1],d=u>>>13,g=8191&u,p=(1<<i)-1,m=new hA(32768),f=new hA(p+1),I=Math.ceil(i/3),E=2*I,C=function(t){return(e[t]^e[t+1]<<I^e[t+2]<<E)&p},B=new uA(25e3),y=new hA(288),w=new hA(32),v=0,Q=0,b=(c=0,0),S=0,x=0;c<a;++c){var M=C(c),R=32767&c,T=f[M];if(m[R]=T,f[M]=R,S<=c){var D=a-c;if((v>7e3||b>24576)&&D>423){l=GA(e,A,0,B,y,w,Q,b,x,c-x,l),b=v=Q=0,x=c;for(var L=0;L<286;++L)y[L]=0;for(L=0;L<30;++L)w[L]=0}var k=2,F=0,_=g,U=R-T&32767;if(D>2&&M==C(c-U))for(var N=Math.min(d,D)-1,G=Math.min(32767,c),P=Math.min(258,D);U<=G&&--_&&R!=T;){if(e[c+k]==e[c+k-U]){for(var O=0;O<P&&e[c+O]==e[c+O-U];++O);if(O>k){if(k=O,F=U,O>N)break;var H=Math.min(U,O-2),q=0;for(L=0;L<H;++L){var J=c-U+L+32768&32767,V=J-m[J]+32768&32767;V>q&&(q=V,T=J)}}}U+=(R=T)-(T=m[R])+32768&32767}if(F){B[b++]=268435456|EA[k]<<18|BA[F];var j=31&EA[k],Y=31&BA[F];Q+=dA[j]+gA[Y],++y[257+j],++w[Y],S=c+k,++v}else B[b++]=e[c],++y[e[c]]}}l=GA(e,A,r,B,y,w,Q,b,x,c-x,l),!r&&7&l&&(l=NA(A,l+1,OA))}return TA(o,0,s+RA(l)+n)},qA=function(){for(var e=new uA(256),t=0;t<256;++t){for(var i=t,s=9;--s;)i=(1&i&&3988292384)^i>>>1;e[t]=i}return e}(),JA=function(){var e=-1;return{p:function(t){for(var i=e,s=0;s<t.length;++s)i=qA[255&i^t[s]]^i>>>8;e=i},d:function(){return~e}}},VA=function(e,t,i,s,n){return HA(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,i,s,!n)},jA=function(e,t){var i={};for(var s in e)i[s]=e[s];for(var s in t)i[s]=t[s];return i},YA=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8};function KA(e,t){return VA(e,t||{},0,0)}var zA=function(e,t,i,s){for(var n in e){var r=e[n],a=t+n;r instanceof cA?i[a]=[r,s]:Array.isArray(r)?i[a]=[r[0],jA(s,r[1])]:zA(r,a+"/",i,s)}},$A="undefined"!=typeof TextEncoder&&new TextEncoder,WA="undefined"!=typeof TextDecoder&&new TextDecoder;try{WA.decode(OA,{stream:!0})}catch(xd){}function XA(e,t){if(t){for(var i=new cA(e.length),s=0;s<e.length;++s)i[s]=e.charCodeAt(s);return i}if($A)return $A.encode(e);var n=e.length,r=new cA(e.length+(e.length>>1)),a=0,o=function(e){r[a++]=e};for(s=0;s<n;++s){if(a+5>r.length){var A=new cA(a+8+(n-s<<1));A.set(r),r=A}var l=e.charCodeAt(s);l<128||t?o(l):l<2048?(o(192|l>>6),o(128|63&l)):l>55295&&l<57344?(o(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++s))>>18),o(128|l>>12&63),o(128|l>>6&63),o(128|63&l)):(o(224|l>>12),o(128|l>>6&63),o(128|63&l))}return TA(r,0,a)}var ZA=function(e){var t=0;if(e)for(var i in e){var s=e[i].length;if(s>65535)throw"extra field too long";t+=s+4}return t},el=function(e,t,i,s,n,r,a,o){var A=s.length,l=i.extra,c=o&&o.length,h=ZA(l);YA(e,t,null!=a?33639248:67324752),t+=4,null!=a&&(e[t++]=20,e[t++]=i.os),e[t]=20,t+=2,e[t++]=i.flag<<1|(null==r&&8),e[t++]=n&&8,e[t++]=255&i.compression,e[t++]=i.compression>>8;var u=new Date(null==i.mtime?Date.now():i.mtime),d=u.getFullYear()-1980;if(d<0||d>119)throw"date not in range 1980-2099";if(YA(e,t,d<<25|u.getMonth()+1<<21|u.getDate()<<16|u.getHours()<<11|u.getMinutes()<<5|u.getSeconds()>>>1),t+=4,null!=r&&(YA(e,t,i.crc),YA(e,t+4,r),YA(e,t+8,i.size)),YA(e,t+12,A),YA(e,t+14,h),t+=16,null!=a&&(YA(e,t,c),YA(e,t+6,i.attrs),YA(e,t+10,a),t+=14),e.set(s,t),t+=A,h)for(var g in l){var p=l[g],m=p.length;YA(e,t,+g),YA(e,t+2,m),e.set(p,t+4),t+=4+m}return c&&(e.set(o,t),t+=c),t},tl=function(e,t,i,s,n){YA(e,t,101010256),YA(e,t+8,i),YA(e,t+10,i),YA(e,t+12,s),YA(e,t+16,n)};class il{async parse(e){const t={},i="model.usda";t[i]=null;let s=rl();const n={},r={};e.traverseVisible(e=>{if(e.isMesh){const i=e.geometry,r=e.material;if(r.isMeshStandardMaterial){const a="geometries/Geometry_"+i.id+".usd";if(!(a in t)){const e=function(e){const t=function(e){const t="Geometry",i=e.attributes,s=i.position.count;return`\n    def Mesh "${t}"\n    {\n        int[] faceVertexCounts = [${function(e){const t=null!==e.index?e.index.count:e.attributes.position.count;return Array(t/3).fill(3).join(", ")}(e)}]\n        int[] faceVertexIndices = [${function(e){const t=e.index,i=[];if(null!==t)for(let s=0;s<t.count;s++)i.push(t.getX(s));else{const t=e.attributes.position.count;for(let e=0;e<t;e++)i.push(e)}return i.join(", ")}(e)}]\n        normal3f[] normals = [${Al(i.normal,s)}] (\n            interpolation = "vertex"\n        )\n        point3f[] points = [${Al(i.position,s)}]\n        float2[] primvars:st = [${function(e,t){if(void 0===e)return console.warn("USDZExporter: UVs missing."),Array(t).fill("(0, 0)").join(", ");const i=[];for(let s=0;s<e.count;s++){const t=e.getX(s),n=e.getY(s);i.push(`(${t.toPrecision(nl)}, ${1-n.toPrecision(nl)})`)}return i.join(", ")}(i.uv,s)}] (\n            interpolation = "vertex"\n        )\n        uniform token subdivisionScheme = "none"\n    }\n`}(e);return`\ndef "Geometry"\n{\n  ${t}\n}\n`}(i);t[a]=function(e){let t=rl();return t+=e,XA(t)}(e)}r.uuid in n||(n[r.uuid]=r),s+=function(e,t,i){const s="Object_"+e.id,n=al(e.matrixWorld);e.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",e);return`def Xform "${s}" (\n    prepend references = @./geometries/Geometry_${t.id}.usd@</Geometry>\n)\n{\n    matrix4d xformOp:transform = ${n}\n    uniform token[] xformOpOrder = ["xformOp:transform"]\n\n    rel material:binding = </Materials/Material_${i.id}>\n}\n\n`}(e,i,r)}else console.warn("THREE.USDZExporter: Unsupported material type (USDZ only supports MeshStandardMaterial)",e)}else e.isCamera&&(s+=function(e){const t=e.name?e.name:"Camera_"+e.id,i=al(e.matrixWorld);e.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",e);return e.isOrthographicCamera?`def Camera "${t}"\n\t\t{\n\t\t\tmatrix4d xformOp:transform = ${i}\n\t\t\tuniform token[] xformOpOrder = ["xformOp:transform"]\n\t\n\t\t\tfloat2 clippingRange = (${e.near}, ${e.far})\n\t\t\tfloat horizontalAperture = ${10*(Math.abs(e.left)+Math.abs(e.right))}\n\t\t\tfloat verticalAperture = ${10*(Math.abs(e.top)+Math.abs(e.bottom))}\n\t\t\ttoken projection = "orthographic"\n\t\t}\n\t\n\t`:`def Camera "${t}"\n\t\t{\n\t\t\tmatrix4d xformOp:transform = ${i}\n\t\t\tuniform token[] xformOpOrder = ["xformOp:transform"]\n\t\n\t\t\tfloat2 clippingRange = (${e.near}, ${e.far})\n\t\t\tfloat focalLength = ${e.getFocalLength()}\n\t\t\tfloat focusDistance = ${e.focus}\n\t\t\tfloat horizontalAperture = ${e.getFilmWidth()}\n\t\t\ttoken projection = "perspective"\n\t\t\tfloat verticalAperture = ${e.getFilmHeight()}\n\t\t}\n\t\n\t`}(e))}),s+=function(e,t){const i=[];for(const s in e){const n=e[s];i.push(ll(n,t))}return`def "Materials"\n{\n${i.join("")}\n}\n\n`}(n,r),t[i]=XA(s),s=null;for(const o in r){const e=r[o],i=o.split("_")[1],s=1023===e.format,n=sl(e.image,i),a=await new Promise(e=>n.toBlob(e,s?"image/png":"image/jpeg",1));t[`textures/Texture_${o}.${s?"png":"jpg"}`]=new Uint8Array(await a.arrayBuffer())}let a=0;for(const o in t){const e=t[o];a+=34+o.length;const i=63&a;if(4!==i){const s=new Uint8Array(64-i);t[o]=[e,{extra:{12345:s}}]}a=e.length}return function(e,t){t||(t={});var i={},s=[];zA(e,"",i,t);var n=0,r=0;for(var a in i){var o=i[a],A=o[0],l=o[1],c=0==l.level?0:8,h=(w=XA(a)).length,u=l.comment,d=u&&XA(u),g=d&&d.length,p=ZA(l.extra);if(h>65535)throw"filename too long";var m=c?KA(A,l):A,f=m.length,I=JA();I.p(A),s.push(jA(l,{size:A.length,crc:I.d(),c:m,f:w,m:d,u:h!=a.length||d&&u.length!=g,o:n,compression:c})),n+=30+h+p+f,r+=76+2*(h+p)+(g||0)+f}for(var E=new cA(r+22),C=n,B=r-n,y=0;y<s.length;++y){var w=s[y];el(E,w.o,w,w.f,w.u,w.c.length);var v=30+w.f.length+ZA(w.extra);E.set(w.c,w.o+v),el(E,n,w,w.f,w.u,w.c.length,w.o,w.m),n+=16+v+(w.m?w.m.length:0)}return tl(E,n,s.length,B,C),E}(t,{level:0})}}function sl(e,t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const i=1024/Math.max(e.width,e.height),s=document.createElement("canvas");s.width=e.width*Math.min(1,i),s.height=e.height*Math.min(1,i);const n=s.getContext("2d");if(n.drawImage(e,0,0,s.width,s.height),void 0!==t){const e=parseInt(t,16),i=(e>>16&255)/255,r=(e>>8&255)/255,a=(255&e)/255,o=n.getImageData(0,0,s.width,s.height),A=o.data;for(let t=0;t<A.length;t+=4)A[t+0]=A[t+0]*i,A[t+1]=A[t+1]*r,A[t+2]=A[t+2]*a;n.putImageData(o,0,0)}return s}}const nl=7;function rl(){return'#usda 1.0\n(\n    customLayerData = {\n        string creator = "Three.js USDZExporter"\n    }\n    metersPerUnit = 1\n    upAxis = "Y"\n)\n\n'}function al(e){const t=e.elements;return`( ${ol(t,0)}, ${ol(t,4)}, ${ol(t,8)}, ${ol(t,12)} )`}function ol(e,t){return`(${e[t+0]}, ${e[t+1]}, ${e[t+2]}, ${e[t+3]})`}function Al(e,t){if(void 0===e)return console.warn("USDZExporter: Normals missing."),Array(t).fill("(0, 0, 0)").join(", ");const i=[];for(let s=0;s<e.count;s++){const t=e.getX(s),n=e.getY(s),r=e.getZ(s);i.push(`(${t.toPrecision(nl)}, ${n.toPrecision(nl)}, ${r.toPrecision(nl)})`)}return i.join(", ")}function ll(e,t){const i="            ",s=[],n=[];function r(i,s,n){const r=i.id+(n?"_"+n.getHexString():""),a=1023===i.format;return t[r]=i,`\n        def Shader "Transform2d_${s}" (\n            sdrMetadata = {\n                string role = "math"\n            }\n        )\n        {\n            uniform token info:id = "UsdTransform2d"\n            float2 inputs:in.connect = </Materials/Material_${e.id}/uvReader_st.outputs:result>\n            float2 inputs:scale = ${hl(i.repeat)}\n            float2 inputs:translation = ${hl(i.offset)}\n            float2 outputs:result\n        }\n\n        def Shader "Texture_${i.id}_${s}"\n        {\n            uniform token info:id = "UsdUVTexture"\n            asset inputs:file = @textures/Texture_${r}.${a?"png":"jpg"}@\n            float2 inputs:st.connect = </Materials/Material_${e.id}/Transform2d_${s}.outputs:result>\n            token inputs:wrapS = "repeat"\n            token inputs:wrapT = "repeat"\n            float outputs:r\n            float outputs:g\n            float outputs:b\n            float3 outputs:rgb\n            ${e.transparent||e.alphaTest>0?"float outputs:a":""}\n        }`}return e.side===E.$EB&&console.warn("THREE.USDZExporter: USDZ does not support double sided materials",e),null!==e.map?(s.push(`${i}color3f inputs:diffuseColor.connect = </Materials/Material_${e.id}/Texture_${e.map.id}_diffuse.outputs:rgb>`),e.transparent?s.push(`${i}float inputs:opacity.connect = </Materials/Material_${e.id}/Texture_${e.map.id}_diffuse.outputs:a>`):e.alphaTest>0&&(s.push(`${i}float inputs:opacity.connect = </Materials/Material_${e.id}/Texture_${e.map.id}_diffuse.outputs:a>`),s.push(`${i}float inputs:opacityThreshold = ${e.alphaTest}`)),n.push(r(e.map,"diffuse",e.color))):s.push(`${i}color3f inputs:diffuseColor = ${cl(e.color)}`),null!==e.emissiveMap?(s.push(`${i}color3f inputs:emissiveColor.connect = </Materials/Material_${e.id}/Texture_${e.emissiveMap.id}_emissive.outputs:rgb>`),n.push(r(e.emissiveMap,"emissive"))):e.emissive.getHex()>0&&s.push(`${i}color3f inputs:emissiveColor = ${cl(e.emissive)}`),null!==e.normalMap&&(s.push(`${i}normal3f inputs:normal.connect = </Materials/Material_${e.id}/Texture_${e.normalMap.id}_normal.outputs:rgb>`),n.push(r(e.normalMap,"normal"))),null!==e.aoMap&&(s.push(`${i}float inputs:occlusion.connect = </Materials/Material_${e.id}/Texture_${e.aoMap.id}_occlusion.outputs:r>`),n.push(r(e.aoMap,"occlusion"))),null!==e.roughnessMap&&1===e.roughness?(s.push(`${i}float inputs:roughness.connect = </Materials/Material_${e.id}/Texture_${e.roughnessMap.id}_roughness.outputs:g>`),n.push(r(e.roughnessMap,"roughness"))):s.push(`${i}float inputs:roughness = ${e.roughness}`),null!==e.metalnessMap&&1===e.metalness?(s.push(`${i}float inputs:metallic.connect = </Materials/Material_${e.id}/Texture_${e.metalnessMap.id}_metallic.outputs:b>`),n.push(r(e.metalnessMap,"metallic"))):s.push(`${i}float inputs:metallic = ${e.metalness}`),null!==e.alphaMap?(s.push(`${i}float inputs:opacity.connect = </Materials/Material_${e.id}/Texture_${e.alphaMap.id}_opacity.outputs:r>`),s.push(`${i}float inputs:opacityThreshold = 0.0001`),n.push(r(e.alphaMap,"opacity"))):s.push(`${i}float inputs:opacity = ${e.opacity}`),e.isMeshPhysicalMaterial&&(s.push(`${i}float inputs:clearcoat = ${e.clearcoat}`),s.push(`${i}float inputs:clearcoatRoughness = ${e.clearcoatRoughness}`),s.push(`${i}float inputs:ior = ${e.ior}`)),`\n    def Material "Material_${e.id}"\n    {\n        def Shader "PreviewSurface"\n        {\n            uniform token info:id = "UsdPreviewSurface"\n${s.join("\n")}\n            int inputs:useSpecularWorkflow = 0\n            token outputs:surface\n        }\n\n        token outputs:surface.connect = </Materials/Material_${e.id}/PreviewSurface.outputs:surface>\n        token inputs:frame:stPrimvarName = "st"\n\n        def Shader "uvReader_st"\n        {\n            uniform token info:id = "UsdPrimvarReader_float2"\n            token inputs:varname.connect = </Materials/Material_${e.id}.inputs:frame:stPrimvarName>\n            float2 inputs:fallback = (0.0, 0.0)\n            float2 outputs:result\n        }\n\n${n.join("\n")}\n\n    }\n`}function cl(e){return`(${e.r}, ${e.g}, ${e.b})`}function hl(e){return`(${e.x}, ${e.y})`}var ul=function(e,t,i,s){var n,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let dl=!1,gl=!1;const pl="#model-viewer-no-ar-fallback",ml=(fl=["quick-look","scene-viewer","webxr","none"],e=>{try{const t=xa(e),i=(t.length?t[0].terms:[]).filter(e=>e&&"ident"===e.type).map(e=>e.value).filter(e=>fl.indexOf(e)>-1),s=new Set;for(const e of i)s.add(e);return s}catch(t){}return new Set});var fl;const Il="quick-look",El="scene-viewer",Cl="webxr",Bl="none",yl=Symbol("arButtonContainer"),wl=Symbol("enterARWithWebXR"),vl=Symbol("openSceneViewer"),Ql=Symbol("openIOSARQuickLook"),bl=Symbol("canActivateAR"),Sl=Symbol("arMode"),xl=Symbol("arModes"),Ml=Symbol("arAnchor"),Rl=Symbol("preload"),Tl=Symbol("onARButtonContainerClick"),Dl=Symbol("onARStatus"),Ll=Symbol("onARTracking"),kl=Symbol("onARTap"),Fl=Symbol("selectARMode"),_l=Symbol("triggerLoad");var Ul,Nl,Gl;const Pl=Symbol("evaluate"),Ol=Symbol("lastValue");class Hl{constructor(){this[Ul]=null}static evaluatableFor(e,t=_a){if(e instanceof Hl)return e;if("number"===e.type)return"%"===e.unit?new Vl(e,t):e;switch(e.name.value){case"calc":return new $l(e,t);case"env":return new Yl(e)}return _a}static evaluate(e){return e instanceof Hl?e.evaluate():e}static isConstant(e){return!(e instanceof Hl)||e.isConstant}static applyIntrinsics(e,t){const{basis:i,keywords:s}=t,{auto:n}=s;return i.map((t,i)=>{const r=null==n[i]?t:n[i];let a=e[i]?e[i]:r;if("ident"===a.type){const e=a.value;e in s&&(a=s[e][i])}return null!=a&&"ident"!==a.type||(a=r),"%"===a.unit?Sa(a.number/100*t.number,t.unit):(a=Ga(a,t),a.unit!==t.unit?t:a)})}get isConstant(){return!1}evaluate(){return this.isConstant&&null!=this[Ol]||(this[Ol]=this[Pl]()),this[Ol]}}Ul=Ol;const ql=Symbol("percentage"),Jl=Symbol("basis");class Vl extends Hl{constructor(e,t){super(),this[ql]=e,this[Jl]=t}get isConstant(){return!0}[Pl](){return Sa(this[ql].number/100*this[Jl].number,this[Jl].unit)}}const jl=Symbol("identNode");class Yl extends Hl{constructor(e){super(),this[Nl]=null;const t=e.arguments.length?e.arguments[0].terms[0]:null;null!=t&&"ident"===t.type&&(this[jl]=t)}get isConstant(){return!1}[(Nl=jl,Pl)](){if(null!=this[jl]&&"window-scroll-y"===this[jl].value){return{type:"number",number:window.pageYOffset/(Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-window.innerHeight)||0,unit:null}}return _a}}const Kl=/[\*\/]/,zl=Symbol("evaluator");class $l extends Hl{constructor(e,t=_a){if(super(),this[Gl]=null,1!==e.arguments.length)return;const i=e.arguments[0].terms.slice(),s=[];for(;i.length;){const e=i.shift();if(s.length>0){const i=s[s.length-1];if("operator"===i.type&&Kl.test(i.value)){const i=s.pop(),n=s.pop();if(null==n)return;s.push(new ec(i,Hl.evaluatableFor(n,t),Hl.evaluatableFor(e,t)));continue}}s.push("operator"===e.type?e:Hl.evaluatableFor(e,t))}for(;s.length>2;){const[e,i,n]=s.splice(0,3);if("operator"!==i.type)return;s.unshift(new ec(i,Hl.evaluatableFor(e,t),Hl.evaluatableFor(n,t)))}1===s.length&&(this[zl]=s[0])}get isConstant(){return null==this[zl]||Hl.isConstant(this[zl])}[(Gl=zl,Pl)](){return null!=this[zl]?Hl.evaluate(this[zl]):_a}}const Wl=Symbol("operator"),Xl=Symbol("left"),Zl=Symbol("right");class ec extends Hl{constructor(e,t,i){super(),this[Wl]=e,this[Xl]=t,this[Zl]=i}get isConstant(){return Hl.isConstant(this[Xl])&&Hl.isConstant(this[Zl])}[Pl](){const e=Ga(Hl.evaluate(this[Xl])),t=Ga(Hl.evaluate(this[Zl])),{number:i,unit:s}=e,{number:n,unit:r}=t;if(null!=r&&null!=s&&r!=s)return _a;const a=s||r;let o;switch(this[Wl].value){case"+":o=i+n;break;case"-":o=i-n;break;case"/":o=i/n;break;case"*":o=i*n;break;default:return _a}return{type:"number",number:o,unit:a}}}const tc=Symbol("evaluatables"),ic=Symbol("intrinsics");class sc extends Hl{constructor(e,t){super(),this[ic]=t;const i=e[0],s=null!=i?i.terms:[];this[tc]=t.basis.map((e,t)=>{const i=s[t];return null==i?{type:"ident",value:"auto"}:"ident"===i.type?i:Hl.evaluatableFor(i,e)})}get isConstant(){for(const e of this[tc])if(!Hl.isConstant(e))return!1;return!0}[Pl](){const e=this[tc].map(e=>Hl.evaluate(e));return Hl.applyIntrinsics(e,this[ic]).map(e=>e.number)}}var nc,rc,ac,oc;const Ac=Symbol("instances"),lc=Symbol("activateListener"),cc=Symbol("deactivateListener"),hc=Symbol("notifyInstances"),uc=Symbol("notify"),dc=Symbol("callback");class gc{constructor(e){this[dc]=e}static[hc](){for(const e of gc[Ac])e[uc]()}static[(nc=Ac,lc)](){window.addEventListener("scroll",this[hc],{passive:!0})}static[cc](){window.removeEventListener("scroll",this[hc])}observe(){0===gc[Ac].size&&gc[lc](),gc[Ac].add(this)}disconnect(){gc[Ac].delete(this),0===gc[Ac].size&&gc[cc]()}[uc](){this[dc]()}}gc[nc]=new Set;const pc=Symbol("computeStyleCallback"),mc=Symbol("astWalker"),fc=Symbol("dependencies"),Ic=Symbol("onScroll");class Ec{constructor(e){this[rc]={},this[ac]=new Fa(["function"]),this[oc]=()=>{this[pc]({relatedState:"window-scroll"})},this[pc]=e}observeEffectsFor(e){const t={},i=this[fc];this[mc].walk(e,e=>{const{name:s}=e,n=e.arguments[0].terms[0];if("env"===s.value&&null!=n&&"ident"===n.type&&"window-scroll-y"===n.value)if(null==t["window-scroll"]){const e="window-scroll"in i?i["window-scroll"]:new gc(this[Ic]);e.observe(),delete i["window-scroll"],t["window-scroll"]=e}});for(const s in i){i[s].disconnect()}this[fc]=t}dispose(){for(const e in this[fc]){this[fc][e].disconnect()}}}rc=fc,ac=mc,oc=Ic;const Cc=e=>{const t=e.observeEffects||!1,i=e.intrinsics instanceof Function?e.intrinsics:()=>e.intrinsics;return(s,n)=>{const r=s.updated,a=s.connectedCallback,o=s.disconnectedCallback,A=Symbol(`${n}StyleEffector`),l=Symbol(`${n}StyleEvaluator`),c=Symbol(`${n}UpdateEvaluator`),h=Symbol(`${n}EvaluateAndSync`);Object.defineProperties(s,{[A]:{value:null,writable:!0},[l]:{value:null,writable:!0},[c]:{value:function(){const e=xa(this[n]);this[l]=new sc(e,i(this)),null==this[A]&&t&&(this[A]=new Ec(()=>this[h]())),null!=this[A]&&this[A].observeEffectsFor(e)}},[h]:{value:function(){if(null==this[l])return;const t=this[l].evaluate();this[e.updateHandler](t)}},updated:{value:function(e){e.has(n)&&(this[c](),this[h]()),r.call(this,e)}},connectedCallback:{value:function(){a.call(this),this.requestUpdate(n,this[n])}},disconnectedCallback:{value:function(){o.call(this),null!=this[A]&&(this[A].dispose(),this[A]=null)}}})}},Bc=new E.I9Y,yc=new E.Pq0,wc=Object.freeze({minimumRadius:0,maximumRadius:1/0,minimumPolarAngle:Math.PI/8,maximumPolarAngle:Math.PI-Math.PI/8,minimumAzimuthalAngle:-1/0,maximumAzimuthalAngle:1/0,minimumFieldOfView:10,maximumFieldOfView:45,touchAction:"none"}),vc=Math.PI/8,Qc=.04,bc="user-interaction",Sc="none",xc="automatic";class Mc extends E.Qev{constructor(e,t,i){super(),this.camera=e,this.element=t,this.scene=i,this.orbitSensitivity=1,this.inputSensitivity=1,this.changeSource=Sc,this._interactionEnabled=!1,this._disableZoom=!1,this.isUserPointing=!1,this.enablePan=!0,this.enableTap=!0,this.panProjection=new E.dwI,this.panPerPixel=0,this.spherical=new E.YHV,this.goalSpherical=new E.YHV,this.thetaDamper=new js,this.phiDamper=new js,this.radiusDamper=new js,this.logFov=Math.log(wc.maximumFieldOfView),this.goalLogFov=this.logFov,this.fovDamper=new js,this.touchMode=null,this.pointers=[],this.startTime=0,this.startPointerPosition={clientX:0,clientY:0},this.lastSeparation=0,this.touchDecided=!1,this.onContext=e=>{if(this.enablePan)e.preventDefault();else for(const t of this.pointers)this.onPointerUp(new PointerEvent("pointercancel",Object.assign(Object.assign({},this.startPointerPosition),{pointerId:t.id})))},this.touchModeZoom=(e,t)=>{if(!this._disableZoom){const e=this.twoTouchDistance(this.pointers[0],this.pointers[1]),t=Qc*(this.lastSeparation-e)*50/this.scene.height;this.lastSeparation=e,this.userAdjustOrbit(0,0,t)}this.panPerPixel>0&&this.movePan(e,t)},this.disableScroll=e=>{e.preventDefault()},this.touchModeRotate=(e,t)=>{const{touchAction:i}=this._options;if(!this.touchDecided&&"none"!==i){this.touchDecided=!0;const s=Math.abs(e),n=Math.abs(t);if(this.changeSource===bc&&("pan-y"===i&&n>s||"pan-x"===i&&s>n))return void(this.touchMode=null);this.element.addEventListener("touchmove",this.disableScroll,{passive:!1})}this.handleSinglePointerMove(e,t)},this.onPointerDown=e=>{if(this.pointers.length>2)return;const{element:t}=this;0===this.pointers.length&&(t.addEventListener("pointermove",this.onPointerMove),t.addEventListener("pointerup",this.onPointerUp),this.touchMode=null,this.touchDecided=!1,this.startPointerPosition.clientX=e.clientX,this.startPointerPosition.clientY=e.clientY,this.startTime=performance.now());try{t.setPointerCapture(e.pointerId)}catch(xi){}this.pointers.push({clientX:e.clientX,clientY:e.clientY,id:e.pointerId}),this.isUserPointing=!1,"touch"===e.pointerType?(this.changeSource=e.altKey?xc:bc,this.onTouchChange(e)):(this.changeSource=bc,this.onMouseDown(e))},this.onPointerMove=e=>{const t=this.pointers.find(t=>t.id===e.pointerId);if(null==t)return;const i=this.pointers.length,s=(e.clientX-t.clientX)/i,n=(e.clientY-t.clientY)/i;0===s&&0===n||(t.clientX=e.clientX,t.clientY=e.clientY,"touch"===e.pointerType?(this.changeSource=e.altKey?xc:bc,null!==this.touchMode&&this.touchMode(s,n)):(this.changeSource=bc,this.panPerPixel>0?this.movePan(s,n):this.handleSinglePointerMove(s,n)))},this.onPointerUp=e=>{const{element:t}=this,i=this.pointers.findIndex(t=>t.id===e.pointerId);-1!==i&&this.pointers.splice(i,1),this.panPerPixel>0&&!e.altKey&&this.resetRadius(),0===this.pointers.length?(t.removeEventListener("pointermove",this.onPointerMove),t.removeEventListener("pointerup",this.onPointerUp),t.removeEventListener("touchmove",this.disableScroll),this.enablePan&&this.enableTap&&this.recenter(e)):null!==this.touchMode&&this.onTouchChange(e),this.scene.element[eh].style.opacity=0,t.style.cursor="grab",this.panPerPixel=0,this.isUserPointing&&this.dispatchEvent({type:"pointer-change-end"})},this.onWheel=e=>{this.changeSource=bc;const t=e.deltaY*(1==e.deltaMode?18:1)*Qc/30;this.userAdjustOrbit(0,0,t),e.preventDefault()},this.onKeyDown=e=>{const{changeSource:t}=this;this.changeSource=bc;(e.shiftKey&&this.enablePan?this.panKeyCodeHandler(e):this.orbitZoomKeyCodeHandler(e))?e.preventDefault():this.changeSource=t},this._options=Object.assign({},wc),this.setOrbit(0,Math.PI/2,1),this.setFieldOfView(100),this.jumpToGoal()}get interactionEnabled(){return this._interactionEnabled}enableInteraction(){if(!1===this._interactionEnabled){const{element:e}=this;e.addEventListener("pointerdown",this.onPointerDown),e.addEventListener("pointercancel",this.onPointerUp),this._disableZoom||e.addEventListener("wheel",this.onWheel),e.addEventListener("keydown",this.onKeyDown),e.addEventListener("touchmove",()=>{},{passive:!1}),e.addEventListener("contextmenu",this.onContext),this.element.style.cursor="grab",this._interactionEnabled=!0,this.updateTouchActionStyle()}}disableInteraction(){if(!0===this._interactionEnabled){const{element:e}=this;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),e.removeEventListener("pointercancel",this.onPointerUp),e.removeEventListener("wheel",this.onWheel),e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("contextmenu",this.onContext),e.style.cursor="",this.touchMode=null,this._interactionEnabled=!1,this.updateTouchActionStyle()}}get options(){return this._options}set disableZoom(e){this._disableZoom!=e&&(this._disableZoom=e,!0===e?this.element.removeEventListener("wheel",this.onWheel):this.element.addEventListener("wheel",this.onWheel),this.updateTouchActionStyle())}getCameraSpherical(e=new E.YHV){return e.copy(this.spherical)}getFieldOfView(){return this.camera.fov}applyOptions(e){Object.assign(this._options,e),this.setOrbit(),this.setFieldOfView(Math.exp(this.goalLogFov))}updateNearFar(e,t){this.camera.near=Math.max(e,t/1e3),this.camera.far=t,this.camera.updateProjectionMatrix()}updateAspect(e){this.camera.aspect=e,this.camera.updateProjectionMatrix()}setOrbit(e=this.goalSpherical.theta,t=this.goalSpherical.phi,i=this.goalSpherical.radius){const{minimumAzimuthalAngle:s,maximumAzimuthalAngle:n,minimumPolarAngle:r,maximumPolarAngle:a,minimumRadius:o,maximumRadius:A}=this._options,{theta:l,phi:c,radius:h}=this.goalSpherical,u=qe(e,s,n);isFinite(s)||isFinite(n)||(this.spherical.theta=this.wrapAngle(this.spherical.theta-u)+u);const d=qe(t,r,a),g=qe(i,o,A);return(u!==l||d!==c||g!==h)&&(this.goalSpherical.theta=u,this.goalSpherical.phi=d,this.goalSpherical.radius=g,this.goalSpherical.makeSafe(),!0)}setRadius(e){this.goalSpherical.radius=e,this.setOrbit()}setFieldOfView(e){const{minimumFieldOfView:t,maximumFieldOfView:i}=this._options;e=qe(e,t,i),this.goalLogFov=Math.log(e)}setDamperDecayTime(e){this.thetaDamper.setDecayTime(e),this.phiDamper.setDecayTime(e),this.radiusDamper.setDecayTime(e),this.fovDamper.setDecayTime(e)}adjustOrbit(e,t,i){const{theta:s,phi:n,radius:r}=this.goalSpherical,{minimumRadius:a,maximumRadius:o,minimumFieldOfView:A,maximumFieldOfView:l}=this._options,c=this.spherical.theta-s,h=Math.PI-.001,u=s-qe(e,-h-c,h-c),d=n-t,g=0===i?0:((i>0?o:a)-r)/(Math.log(i>0?l:A)-this.goalLogFov),p=r+i*(isFinite(g)?g:2*(o-a));if(this.setOrbit(u,d,p),0!==i){const e=this.goalLogFov+i;this.setFieldOfView(Math.exp(e))}}jumpToGoal(){this.update(0,1e4)}update(e,t){if(this.isStationary())return;const{maximumPolarAngle:i,maximumRadius:s}=this._options,n=this.spherical.theta-this.goalSpherical.theta;Math.abs(n)>Math.PI&&!isFinite(this._options.minimumAzimuthalAngle)&&!isFinite(this._options.maximumAzimuthalAngle)&&(this.spherical.theta-=2*Math.sign(n)*Math.PI),this.spherical.theta=this.thetaDamper.update(this.spherical.theta,this.goalSpherical.theta,t,Math.PI),this.spherical.phi=this.phiDamper.update(this.spherical.phi,this.goalSpherical.phi,t,i),this.spherical.radius=this.radiusDamper.update(this.spherical.radius,this.goalSpherical.radius,t,s),this.logFov=this.fovDamper.update(this.logFov,this.goalLogFov,t,1),this.moveCamera()}updateTouchActionStyle(){const{style:e}=this.element;if(this._interactionEnabled){const{touchAction:t}=this._options;this._disableZoom&&"none"!==t?e.touchAction="manipulation":e.touchAction=t}else e.touchAction=""}isStationary(){return this.goalSpherical.theta===this.spherical.theta&&this.goalSpherical.phi===this.spherical.phi&&this.goalSpherical.radius===this.spherical.radius&&this.goalLogFov===this.logFov}dispatchChange(){this.dispatchEvent({type:"change",source:this.changeSource})}moveCamera(){this.spherical.makeSafe(),this.camera.position.setFromSpherical(this.spherical),this.camera.setRotationFromEuler(new E.O9p(this.spherical.phi-Math.PI/2,this.spherical.theta,0,"YXZ")),this.camera.fov!==Math.exp(this.logFov)&&(this.camera.fov=Math.exp(this.logFov),this.camera.updateProjectionMatrix()),this.dispatchChange()}userAdjustOrbit(e,t,i){this.adjustOrbit(e*this.orbitSensitivity*this.inputSensitivity,t*this.orbitSensitivity*this.inputSensitivity,i*this.inputSensitivity),this.dispatchChange()}wrapAngle(e){const t=(e+Math.PI)/(2*Math.PI);return 2*(t-Math.floor(t))*Math.PI-Math.PI}pixelLengthToSphericalAngle(e){return 2*Math.PI*e/this.element.clientHeight}twoTouchDistance(e,t){const{clientX:i,clientY:s}=e,{clientX:n,clientY:r}=t,a=n-i,o=r-s;return Math.sqrt(a*a+o*o)}handleSinglePointerMove(e,t){const i=this.pixelLengthToSphericalAngle(e),s=this.pixelLengthToSphericalAngle(t);!1===this.isUserPointing&&(this.isUserPointing=!0,this.dispatchEvent({type:"pointer-change-start"})),this.userAdjustOrbit(i,s,0)}initializePan(){const{theta:e,phi:t}=this.spherical,i=e-this.scene.yaw;this.panPerPixel=.018/this.scene.height,this.panProjection.set(-Math.cos(i),-Math.cos(t)*Math.sin(i),0,0,Math.sin(t),0,Math.sin(i),-Math.cos(t)*Math.cos(i),0)}movePan(e,t){const{scene:i}=this,s=yc.set(e,t,0).multiplyScalar(this.inputSensitivity),n=this.spherical.radius*Math.exp(this.logFov)*this.panPerPixel;s.multiplyScalar(n);const r=i.getTarget();r.add(s.applyMatrix3(this.panProjection)),i.boundingSphere.clampPoint(r,r),i.setTarget(r.x,r.y,r.z),this.dispatchChange()}recenter(e){if(performance.now()>this.startTime+300||Math.abs(e.clientX-this.startPointerPosition.clientX)>2||Math.abs(e.clientY-this.startPointerPosition.clientY)>2)return;const{scene:t}=this,i=t.positionAndNormalFromPoint(t.getNDC(e.clientX,e.clientY));if(null==i){const{cameraTarget:e}=t.element;t.element.cameraTarget="",t.element.cameraTarget=e,this.userAdjustOrbit(0,0,1)}else t.target.worldToLocal(i.position),t.setTarget(i.position.x,i.position.y,i.position.z)}resetRadius(){const{scene:e}=this,t=e.positionAndNormalFromPoint(Bc.set(0,0));if(null==t)return;e.target.worldToLocal(t.position);const i=e.getTarget(),{theta:s,phi:n}=this.spherical,r=s-e.yaw,a=yc.set(Math.sin(n)*Math.sin(r),Math.cos(n),Math.sin(n)*Math.cos(r)),o=a.dot(t.position.sub(i));i.add(a.multiplyScalar(o)),e.setTarget(i.x,i.y,i.z),this.setOrbit(void 0,void 0,this.goalSpherical.radius-o)}onTouchChange(e){if(1===this.pointers.length)this.touchMode=this.touchModeRotate;else{if(this._disableZoom)return this.touchMode=null,void this.element.removeEventListener("touchmove",this.disableScroll);this.touchMode=this.touchDecided&&null===this.touchMode?null:this.touchModeZoom,this.touchDecided=!0,this.element.addEventListener("touchmove",this.disableScroll,{passive:!1}),this.lastSeparation=this.twoTouchDistance(this.pointers[0],this.pointers[1]),this.enablePan&&null!=this.touchMode&&(this.initializePan(),e.altKey||(this.scene.element[eh].style.opacity=1))}}onMouseDown(e){this.panPerPixel=0,this.enablePan&&(2===e.button||e.ctrlKey||e.metaKey||e.shiftKey)&&(this.initializePan(),this.scene.element[eh].style.opacity=1),this.element.style.cursor="grabbing"}orbitZoomKeyCodeHandler(e){let t=!0;switch(e.key){case"PageUp":this.userAdjustOrbit(0,0,Qc);break;case"PageDown":this.userAdjustOrbit(0,0,-.04);break;case"ArrowUp":this.userAdjustOrbit(0,-vc,0);break;case"ArrowDown":this.userAdjustOrbit(0,vc,0);break;case"ArrowLeft":this.userAdjustOrbit(-vc,0,0);break;case"ArrowRight":this.userAdjustOrbit(vc,0,0);break;default:t=!1}return t}panKeyCodeHandler(e){this.initializePan();let t=!0;switch(e.key){case"ArrowUp":this.movePan(0,-10);break;case"ArrowDown":this.movePan(0,10);break;case"ArrowLeft":this.movePan(-10,0);break;case"ArrowRight":this.movePan(10,0);break;default:t=!1}return t}}const Rc=e=>e<.5?2*e*e:(4-2*e)*e-1,Tc=(e,t,i=Rc)=>s=>e+(t-e)*i(s),Dc=e=>{const t=[],i=[];let s=e.initialValue;for(let n=0;n<e.keyframes.length;++n){const r=e.keyframes[n],{value:a,frames:o}=r,A=r.ease||Rc,l=Tc(s,a,A);t.push(l),i.push(o),s=a}return((e,t)=>{const i=t.map((s=0,e=>s+=e));var s;return t=>{t=qe(t,0,1),t*=i[i.length-1];const s=i.findIndex(e=>e>=t),n=s<1?0:i[s-1],r=i[s];return e[s]((t-n)/(r-n))}})(t,i)};var Lc=function(e,t,i,s){var n,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const kc=Dc({initialValue:0,keyframes:[{frames:5,value:-1},{frames:1,value:-1},{frames:8,value:1},{frames:1,value:1},{frames:5,value:0},{frames:18,value:0}]}),Fc=Dc({initialValue:0,keyframes:[{frames:1,value:1},{frames:5,value:1},{frames:1,value:0},{frames:6,value:0}]}),_c="0deg 75deg 105%",Uc=["front","right","back","left"],Nc=["upper-","","lower-"],Gc="auto",Pc="basic",Oc="wiggle",Hc="none",qc=()=>({basis:[Ua(Sa(30,"deg"))],keywords:{auto:[null]}}),Jc=()=>({basis:[Ua(Sa(12,"deg"))],keywords:{auto:[null]}}),Vc=(()=>{const e=xa(_c)[0].terms,t=Ga(e[0]),i=Ga(e[1]);return e=>{const s=e[Go].idealCameraDistance();return{basis:[t,i,Sa(s,"m")],keywords:{auto:[null,null,Sa(105,"%")]}}}})(),jc=e=>{const t=2.2*e[Go].boundingSphere.radius;return{basis:[Sa(-1/0,"rad"),Sa(Math.PI/8,"rad"),Sa(t,"m")],keywords:{auto:[null,null,null]}}},Yc=e=>{const t=Vc(e),i=new sc([],t).evaluate()[2];return{basis:[Sa(1/0,"rad"),Sa(Math.PI-Math.PI/8,"rad"),Sa(i,"m")],keywords:{auto:[null,null,null]}}},Kc=e=>{const t=e[Go].boundingBox.getCenter(new E.Pq0);return{basis:[Sa(t.x,"m"),Sa(t.y,"m"),Sa(t.z,"m")],keywords:{auto:[null,null,null]}}},zc=Math.PI/2,$c=Math.PI/3,Wc=zc/2,Xc=2*Math.PI,Zc=Symbol("controls"),eh=Symbol("panElement"),th=Symbol("promptElement"),ih=Symbol("promptAnimatedContainer"),sh=Symbol("fingerAnimatedContainers"),nh=Symbol("deferInteractionPrompt"),rh=Symbol("updateAria"),ah=Symbol("updateCameraForRadius"),oh=Symbol("onChange"),Ah=Symbol("onPointerChange"),lh=Symbol("waitingToPromptUser"),ch=Symbol("userHasInteracted"),hh=Symbol("promptElementVisibleTime"),uh=Symbol("lastPromptOffset"),dh=Symbol("lastSpherical"),gh=Symbol("jumpCamera"),ph=Symbol("initialized"),mh=Symbol("maintainThetaPhi"),fh=Symbol("syncCameraOrbit"),Ih=Symbol("syncFieldOfView"),Eh=Symbol("syncCameraTarget"),Ch=Symbol("syncMinCameraOrbit"),Bh=Symbol("syncMaxCameraOrbit"),yh=Symbol("syncMinFieldOfView"),wh=Symbol("syncMaxFieldOfView");var vh=function(e,t,i,s){var n,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const Qh="auto",bh="auto",Sh="eager",xh=Symbol("defaultProgressBarElement"),Mh=Symbol("posterContainerElement"),Rh=Symbol("defaultPosterElement"),Th=Symbol("shouldDismissPoster"),Dh=Symbol("hidePoster"),Lh=Symbol("modelIsRevealed"),kh=Symbol("updateProgressBar"),Fh=Symbol("ariaLabelCallToAction"),_h=Symbol("onProgress");var Uh=function(e,t,i,s){var n,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const Nh=Math.PI/32,Gh={basis:[Ua(Sa(Nh,"rad"))],keywords:{auto:[null]}},Ph=Symbol("autoRotateStartTime"),Oh=Symbol("radiansPerSecond"),Hh=Symbol("syncRotationRate"),qh=Symbol("onCameraChange"),Jh=(e=>{var t,i,s;class n extends e{constructor(){super(...arguments),this[t]=new Map,this[i]=e=>{e.forEach(e=>{e instanceof MutationRecord&&"childList"!==e.type||(e.addedNodes.forEach(e=>{this[rA](e)}),e.removedNodes.forEach(e=>{this[aA](e)}),this[Po]())})},this[s]=new MutationObserver(this[sA])}connectedCallback(){super.connectedCallback();for(let t=0;t<this.children.length;++t)this[rA](this.children[t]);const{ShadyDOM:e}=self;null==e?this[nA].observe(this,{childList:!0}):this[nA]=e.observeChildren(this,this[sA])}disconnectedCallback(){super.disconnectedCallback();const{ShadyDOM:e}=self;null==e?this[nA].disconnect():e.unobserveChildren(this[nA])}[(t=iA,i=sA,s=nA,Oo)](e,t){super[Oo](e,t);const i=this[Go],{annotationRenderer:s}=i,n=i.getCamera();i.shouldRender()&&(i.updateHotspots(n.position),s.domElement.style.display="",s.render(i,n))}updateHotspot(e){const t=this[iA].get(e.name);null!=t&&(t.updatePosition(e.position),t.updateNormal(e.normal),this[Po]())}queryHotspot(e){const t=this[iA].get(e);if(null==t)return null;const i=zo(t.position),s=zo(t.normal),n=t.facingCamera,r=this[Go],a=r.getCamera(),o=new E.Pq0;o.setFromMatrixPosition(t.matrixWorld),o.project(a);const A=r.width/2,l=r.height/2;o.x=o.x*A+A,o.y=-o.y*l+l;const c=zo(new E.Pq0(o.x,o.y,o.z));return Number.isFinite(c.x)&&Number.isFinite(c.y)?{position:i,normal:s,canvasPosition:c,facingCamera:n}:null}positionAndNormalFromPoint(e,t){const i=this[Go],s=i.getNDC(e,t),n=i.positionAndNormalFromPoint(s);if(null==n)return null;oA.copy(i.target.matrixWorld).invert();const r=zo(n.position.applyMatrix4(oA));AA.getNormalMatrix(oA);const a=zo(n.normal.applyNormalMatrix(AA));let o=null;return null!=n.uv&&(o=$o(n.uv)),{position:r,normal:a,uv:o}}[rA](e){if(!(e instanceof HTMLElement&&0===e.slot.indexOf("hotspot")))return;let t=this[iA].get(e.slot);null!=t?t.increment():(t=new Pa({name:e.slot,position:e.dataset.position,normal:e.dataset.normal}),this[iA].set(e.slot,t),this[Go].addHotspot(t)),this[Go].queueRender()}[aA](e){if(!(e instanceof HTMLElement))return;const t=this[iA].get(e.slot);t&&(t.decrement()&&(this[Go].removeHotspot(t),this[iA].delete(e.slot)),this[Go].queueRender())}}return n})((e=>{var t,i,s,n;class r extends e{constructor(){super(...arguments),this[t]=void 0,this[i]=null,this[s]=new E.Tap,this[n]=null,this.variantName=null,this.orientation="0 0 0",this.scale="1 1 1"}get model(){return this[va]}get availableVariants(){return this.model?this.model[ma]():[]}get originalGltfJson(){return this[wa]}[(t=va,i=ya,s=ba,n=wa,Qa)](){return()=>{this[Po]()}}async createTexture(e,t="image/png"){const i=this[ya],s=await new Promise(t=>this[ba].load(e,t));return i&&s?(s.encoding=E.S2Q,s.wrapS=E.GJx,s.wrapT=E.GJx,s.flipY=!1,s.userData.mimeType=t,new Ar(this[Qa](),s)):null}async updated(e){if(super.updated(e),e.has("variantName")){const e=this[Vo].beginActivity();e(.1);const t=this[va],{variantName:i}=this;null!=t&&(await t[ha](i),this[Po](),this.dispatchEvent(new CustomEvent("variant-applied"))),e(1)}if(e.has("orientation")||e.has("scale")){if(!this.loaded)return;const e=this[Go];e.applyTransform(),e.updateBoundingBox(),e.updateShadow(),this[Jo].arRenderer.onUpdateScene(),this[Po]()}}[Ho](){super[Ho]();const{currentGLTF:e}=this[Go];if(null!=e){const{correlatedSceneGraph:t}=e;null!=t&&e!==this[ya]&&(this[va]=new Ca(t,this[Qa]()),this[wa]=JSON.parse(JSON.stringify(t.gltf))),"variants"in e.userData&&this.requestUpdate("variantName")}this[ya]=e}async exportScene(e){const t=this[Go];return new Promise(async(i,s)=>{const n={binary:!0,onlyVisible:!0,maxTextureSize:1/0,includeCustomExtensions:!1,forceIndices:!1};Object.assign(n,e),n.animations=t.animations,n.truncateDrawRange=!0;const r=t.shadow;let a=!1;null!=r&&(a=r.visible,r.visible=!1),await this[va][ca]();(new rs).register(e=>new qs(e)).parse(t.model,e=>i(new Blob([n.binary?e:JSON.stringify(e)],{type:n.binary?"application/octet-stream":"application/json"})),()=>s("glTF export failed"),n),null!=r&&(r.visible=a)})}materialFromPoint(e,t){const i=this[Go],s=i.getNDC(e,t);return i.raycaster.setFromCamera(s,i.getCamera()),this[va][ga](i.raycaster)}}return Ba([f({type:String,attribute:"variant-name"})],r.prototype,"variantName",void 0),Ba([f({type:String,attribute:"orientation"})],r.prototype,"orientation",void 0),Ba([f({type:String,attribute:"scale"})],r.prototype,"scale",void 0),r})((e=>{var t,i,s;class n extends e{constructor(){super(...arguments),this.autoRotate=!1,this.autoRotateDelay=3e3,this.rotationPerSecond="auto",this[t]=performance.now(),this[i]=0,this[s]=e=>{this.autoRotate&&"user-interaction"===e.detail.source&&(this[Ph]=performance.now())}}connectedCallback(){super.connectedCallback(),this.addEventListener("camera-change",this[qh]),this[Ph]=performance.now()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("camera-change",this[qh]),this[Ph]=performance.now()}updated(e){super.updated(e),e.has("autoRotate")&&(this[Ph]=performance.now())}[(t=Ph,i=Oh,Hh)](e){this[Oh]=e[0]}[Oo](e,t){if(super[Oo](e,t),!this.autoRotate||!this[Yo]()||this[Jo].isPresenting)return;const i=Math.min(t,e-this[Ph]-this.autoRotateDelay);i>0&&(this[Go].yaw=this.turntableRotation+this[Oh]*i*.001)}get turntableRotation(){return this[Go].yaw}resetTurntableRotation(e=0){this[Go].yaw=e}}return s=qh,Uh([f({type:Boolean,attribute:"auto-rotate"})],n.prototype,"autoRotate",void 0),Uh([f({type:Number,attribute:"auto-rotate-delay"})],n.prototype,"autoRotateDelay",void 0),Uh([Cc({intrinsics:Gh,updateHandler:Hh}),f({type:String,attribute:"rotation-per-second"})],n.prototype,"rotationPerSecond",void 0),n})((e=>{var t,i,s;class n extends e{constructor(){super(...arguments),this.environmentImage=null,this.skyboxImage=null,this.shadowIntensity=0,this.shadowSoftness=1,this.exposure=1,this[t]=null,this[i]=null,this[s]=null}updated(e){super.updated(e),e.has("shadowIntensity")&&(this[Go].setShadowIntensity(.5*this.shadowIntensity),this[Po]()),e.has("shadowSoftness")&&(this[Go].setShadowSoftness(this.shadowSoftness),this[Po]()),e.has("exposure")&&(this[Go].exposure=this.exposure,this[Po]()),(e.has("environmentImage")||e.has("skyboxImage"))&&this[Ko]()&&this[ze]()}hasBakedShadow(){return this[Go].bakedShadows.size>0}async[(t=Ye,i=Ke,s=$e,ze)](){const{skyboxImage:e,environmentImage:t}=this;null!=this[$e]&&(this[$e](),this[$e]=null);const{textureUtils:i}=this[Jo];if(null==i)return;const s=this[Vo].beginActivity();try{const{environmentMap:n,skybox:r}=await i.generateEnvironmentMapAndSkybox(Ge(e),t,e=>s(qe(e,0,1)));this[Ye]!==n&&(this[Ye]=n,this.dispatchEvent(new CustomEvent("environment-change"))),this[Ke]=null!=r?r.name===n.name?n:r:null,this[Go].setEnvironmentAndSkybox(this[Ye],this[Ke]),this[Go].dispatchEvent({type:"envmap-update"})}catch(n){if(n instanceof Error)throw this[Go].setEnvironmentAndSkybox(null,null),n}finally{s(1)}}}return je([f({type:String,attribute:"environment-image"})],n.prototype,"environmentImage",void 0),je([f({type:String,attribute:"skybox-image"})],n.prototype,"skyboxImage",void 0),je([f({type:Number,attribute:"shadow-intensity"})],n.prototype,"shadowIntensity",void 0),je([f({type:Number,attribute:"shadow-softness"})],n.prototype,"shadowSoftness",void 0),je([f({type:Number})],n.prototype,"exposure",void 0),n})((e=>{var t,i,s,n,r,a,o,A,l,c,h,u,d,g,p;class m extends e{constructor(){super(...arguments),this.cameraControls=!1,this.cameraOrbit=_c,this.cameraTarget="auto auto auto",this.fieldOfView="auto",this.minCameraOrbit="auto",this.maxCameraOrbit="auto",this.minFieldOfView="auto",this.maxFieldOfView="auto",this.interactionPromptThreshold=3e3,this.interactionPrompt=Gc,this.interactionPromptStyle=Oc,this.orbitSensitivity=1,this.touchAction=Hc,this.disableZoom=!1,this.disablePan=!1,this.disableTap=!1,this.interpolationDecay=50,this[t]=this.shadowRoot.querySelector(".interaction-prompt"),this[i]=this.shadowRoot.querySelector("#prompt"),this[s]=[this.shadowRoot.querySelector("#finger0"),this.shadowRoot.querySelector("#finger1")],this[n]=this.shadowRoot.querySelector(".pan-target"),this[r]=0,this[a]=1/0,this[o]=!1,this[A]=!1,this[l]=new Mc(this[Go].camera,this[Uo],this[Go]),this[c]=new E.YHV,this[h]=!1,this[u]=!1,this[d]=!1,this[g]=({source:e})=>{this[rh](),this[Po](),e===bc&&(this[ch]=!0,this[nh]()),this.dispatchEvent(new CustomEvent("camera-change",{detail:{source:e}}))},this[p]=e=>{"pointer-change-start"===e.type?this[_o].classList.add("pointer-tumbling"):this[_o].classList.remove("pointer-tumbling")}}get inputSensitivity(){return this[Zc].inputSensitivity}set inputSensitivity(e){this[Zc].inputSensitivity=e}getCameraOrbit(){const{theta:e,phi:t,radius:i}=this[dh];return{theta:e,phi:t,radius:i,toString(){return`${this.theta}rad ${this.phi}rad ${this.radius}m`}}}getCameraTarget(){return zo(this[Jo].isPresenting?this[Jo].arRenderer.target:this[Go].getTarget())}getFieldOfView(){return this[Zc].getFieldOfView()}getMinimumFieldOfView(){return this[Zc].options.minimumFieldOfView}getMaximumFieldOfView(){return this[Zc].options.maximumFieldOfView}getIdealAspect(){return this[Go].idealAspect}jumpCameraToGoal(){this[gh]=!0,this.requestUpdate(gh,!1)}resetInteractionPrompt(){this[uh]=0,this[hh]=1/0,this[ch]=!1,this[lh]=this.interactionPrompt===Gc&&this.cameraControls}zoom(e){const t=new WheelEvent("wheel",{deltaY:-30*e});this[Uo].dispatchEvent(t)}connectedCallback(){super.connectedCallback(),this[Zc].addEventListener("change",this[oh]),this[Zc].addEventListener("pointer-change-start",this[Ah]),this[Zc].addEventListener("pointer-change-end",this[Ah])}disconnectedCallback(){super.disconnectedCallback(),this[Zc].removeEventListener("change",this[oh]),this[Zc].removeEventListener("pointer-change-start",this[Ah]),this[Zc].removeEventListener("pointer-change-end",this[Ah])}updated(e){super.updated(e);const t=this[Zc],i=this[Go];if(e.has("cameraControls")&&(this.cameraControls?(t.enableInteraction(),this.interactionPrompt===Gc&&(this[lh]=!0)):(t.disableInteraction(),this[nh]()),this[Uo].setAttribute("aria-label",this[Mo])),e.has("disableZoom")&&(t.disableZoom=this.disableZoom),e.has("disablePan")&&(t.enablePan=!this.disablePan),e.has("disableTap")&&(t.enableTap=!this.disableTap),(e.has("interactionPrompt")||e.has("cameraControls")||e.has("src"))&&(this.interactionPrompt===Gc&&this.cameraControls&&!this[ch]?this[lh]=!0:this[nh]()),e.has("interactionPromptStyle")&&(this[ih].style.opacity=this.interactionPromptStyle==Pc?"1":"0"),e.has("touchAction")){const e=this.touchAction;t.applyOptions({touchAction:e}),t.updateTouchActionStyle()}e.has("orbitSensitivity")&&(t.orbitSensitivity=this.orbitSensitivity),e.has("interpolationDecay")&&(t.setDamperDecayTime(this.interpolationDecay),i.setTargetDamperDecayTime(this.interpolationDecay)),!0===this[gh]&&Promise.resolve().then(()=>{t.jumpToGoal(),i.jumpToGoal(),this[gh]=!1})}async updateFraming(){const e=this[Go],t=e.adjustedFoV(e.framedFoVDeg);await e.updateFraming();const i=e.adjustedFoV(e.framedFoVDeg),s=this[Zc].getFieldOfView()/t;this[Zc].setFieldOfView(i*s),this[mh]=!0,this.requestUpdate("maxFieldOfView"),this.requestUpdate("fieldOfView"),this.requestUpdate("minCameraOrbit"),this.requestUpdate("maxCameraOrbit"),this.requestUpdate("cameraOrbit"),await this.updateComplete}interact(e,t,i){const s=this[Uo],n=this[sh];if("1"===n[0].style.opacity)return void console.warn("interact() failed because an existing interaction is running.");const r=new Array;r.push({x:Dc(t.x),y:Dc(t.y)});const a=[{x:r[0].x(0),y:r[0].y(0)}];null!=i&&(r.push({x:Dc(i.x),y:Dc(i.y)}),a.push({x:r[1].x(0),y:r[1].y(0)}));let o=performance.now();const{width:A,height:l}=this[Go],c=e=>{for(const[t,i]of a.entries()){const{style:r}=n[t];r.transform=`translateX(${A*i.x}px) translateY(${l*i.y}px)`,"pointerdown"===e?r.opacity="1":"pointerup"===e&&(r.opacity="0");const a={pointerId:t-5678,pointerType:"touch",target:s,clientX:A*i.x,clientY:l*i.y,altKey:!0};s.dispatchEvent(new PointerEvent(e,a))}},h=()=>{const{changeSource:t}=this[Zc];if(t!==xc||!s.isConnected){for(const e of this[sh])e.style.opacity="0";return c("pointercancel"),this.dispatchEvent(new CustomEvent("interact-stopped",{detail:{source:t}})),void document.removeEventListener("visibilitychange",u)}const i=Math.min(1,(performance.now()-o)/e);for(const[e,s]of a.entries())s.x=r[e].x(i),s.y=r[e].y(i);c("pointermove"),i<1?requestAnimationFrame(h):(c("pointerup"),this.dispatchEvent(new CustomEvent("interact-stopped",{detail:{source:t}})),document.removeEventListener("visibilitychange",u))},u=()=>{let e=0;"hidden"===document.visibilityState?e=performance.now()-o:o=performance.now()-e};document.addEventListener("visibilitychange",u),c("pointerdown"),requestAnimationFrame(h)}[(t=th,i=ih,s=sh,n=eh,r=uh,a=hh,o=ch,A=lh,l=Zc,c=dh,h=gh,u=ph,d=mh,Ih)](e){const t=this[Go];t.framedFoVDeg=180*e[0]/Math.PI,this[Zc].setFieldOfView(t.adjustedFoV(t.framedFoVDeg))}[fh](e){const t=this[Zc];if(this[mh]){const{theta:t,phi:i}=this.getCameraOrbit();e[0]=t,e[1]=i,this[mh]=!1}t.changeSource=Sc,t.setOrbit(e[0],e[1],e[2])}[Ch](e){this[Zc].applyOptions({minimumAzimuthalAngle:e[0],minimumPolarAngle:e[1],minimumRadius:e[2]}),this.jumpCameraToGoal()}[Bh](e){this[Zc].applyOptions({maximumAzimuthalAngle:e[0],maximumPolarAngle:e[1],maximumRadius:e[2]}),this[ah](e[2]),this.jumpCameraToGoal()}[yh](e){this[Zc].applyOptions({minimumFieldOfView:180*e[0]/Math.PI}),this.jumpCameraToGoal()}[wh](e){const t=this[Go].adjustedFoV(180*e[0]/Math.PI);this[Zc].applyOptions({maximumFieldOfView:t}),this.jumpCameraToGoal()}[Eh](e){const[t,i,s]=e;this[Jo].arRenderer.isPresenting||this[Go].setTarget(t,i,s),this[Zc].changeSource=Sc,this[Jo].arRenderer.updateTarget()}[Oo](e,t){if(super[Oo](e,t),this[Jo].isPresenting||!this[Yo]())return;const i=this[Zc],s=this[Go],n=performance.now();if(this[lh]&&this.loaded&&n>this[Lo]+this.interactionPromptThreshold&&(this[lh]=!1,this[hh]=n,this[th].classList.add("visible")),isFinite(this[hh])&&this.interactionPromptStyle===Oc){const e=(n-this[hh])/5e3%1,t=kc(e),r=Fc(e);if(this[ih].style.opacity=`${r}`,t!==this[uh]){const e=t*s.width*.05,n=(t-this[uh])*Math.PI/16;this[ih].style.transform=`translateX(${e}px)`,i.changeSource=xc,i.adjustOrbit(n,0,0),this[uh]=t}}i.update(e,t),s.updateTarget(t)&&this[oh]({type:"change",source:i.changeSource})}[nh](){this[lh]=!1,this[th].classList.remove("visible"),this[hh]=1/0}[ah](e){const t=2*Math.max(this[Go].boundingSphere.radius,e);this[Zc].updateNearFar(0,t)}[rh](){const{theta:e,phi:t}=this[Zc].getCameraSpherical(this[dh]),i=(4+Math.floor((e%Xc+Wc)/zc))%4,s=Math.floor(t/$c),n=Uc[i],r=Nc[s];this[Do](`View from stage ${r}${n}`)}get[Mo](){return super[Mo]+(this.cameraControls?". Use mouse, touch or arrow keys to move.":"")}async[qo](e){const t=this[Zc],i=this[Go],s=i.adjustedFoV(i.framedFoVDeg);super[qo](e);const n=i.adjustedFoV(i.framedFoVDeg)/s,r=t.getFieldOfView()*(isFinite(n)?n:1);t.updateAspect(this[Go].aspect),this.requestUpdate("maxFieldOfView",this.maxFieldOfView),await this.updateComplete,this[Zc].setFieldOfView(r),this.jumpCameraToGoal()}[Ho](){super[Ho](),this[ph]?this[mh]=!0:this[ph]=!0,this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this.requestUpdate("fieldOfView",this.fieldOfView),this.requestUpdate("minCameraOrbit",this.minCameraOrbit),this.requestUpdate("maxCameraOrbit",this.maxCameraOrbit),this.requestUpdate("cameraOrbit",this.cameraOrbit),this.requestUpdate("cameraTarget",this.cameraTarget),this.jumpCameraToGoal()}}return g=oh,p=Ah,Lc([f({type:Boolean,attribute:"camera-controls"})],m.prototype,"cameraControls",void 0),Lc([Cc({intrinsics:Vc,observeEffects:!0,updateHandler:fh}),f({type:String,attribute:"camera-orbit",hasChanged:()=>!0})],m.prototype,"cameraOrbit",void 0),Lc([Cc({intrinsics:Kc,observeEffects:!0,updateHandler:Eh}),f({type:String,attribute:"camera-target",hasChanged:()=>!0})],m.prototype,"cameraTarget",void 0),Lc([Cc({intrinsics:qc,observeEffects:!0,updateHandler:Ih}),f({type:String,attribute:"field-of-view",hasChanged:()=>!0})],m.prototype,"fieldOfView",void 0),Lc([Cc({intrinsics:jc,updateHandler:Ch}),f({type:String,attribute:"min-camera-orbit",hasChanged:()=>!0})],m.prototype,"minCameraOrbit",void 0),Lc([Cc({intrinsics:Yc,updateHandler:Bh}),f({type:String,attribute:"max-camera-orbit",hasChanged:()=>!0})],m.prototype,"maxCameraOrbit",void 0),Lc([Cc({intrinsics:Jc,updateHandler:yh}),f({type:String,attribute:"min-field-of-view",hasChanged:()=>!0})],m.prototype,"minFieldOfView",void 0),Lc([Cc({intrinsics:qc,updateHandler:wh}),f({type:String,attribute:"max-field-of-view",hasChanged:()=>!0})],m.prototype,"maxFieldOfView",void 0),Lc([f({type:Number,attribute:"interaction-prompt-threshold"})],m.prototype,"interactionPromptThreshold",void 0),Lc([f({type:String,attribute:"interaction-prompt"})],m.prototype,"interactionPrompt",void 0),Lc([f({type:String,attribute:"interaction-prompt-style"})],m.prototype,"interactionPromptStyle",void 0),Lc([f({type:Number,attribute:"orbit-sensitivity"})],m.prototype,"orbitSensitivity",void 0),Lc([f({type:String,attribute:"touch-action"})],m.prototype,"touchAction",void 0),Lc([f({type:Boolean,attribute:"disable-zoom"})],m.prototype,"disableZoom",void 0),Lc([f({type:Boolean,attribute:"disable-pan"})],m.prototype,"disablePan",void 0),Lc([f({type:Boolean,attribute:"disable-tap"})],m.prototype,"disableTap",void 0),Lc([f({type:Number,attribute:"interpolation-decay"})],m.prototype,"interpolationDecay",void 0),m})((e=>{var t,i,s,n,r,a,o,A,l,c;class h extends e{constructor(){super(...arguments),this.ar=!1,this.arScale="auto",this.arPlacement="floor",this.arModes="webxr scene-viewer quick-look",this.iosSrc=null,this.xrEnvironment=!1,this[t]=!1,this[i]=this.shadowRoot.querySelector(".ar-button"),this[s]=document.createElement("a"),this[n]=new Set,this[r]=Bl,this[a]=!1,this[o]=e=>{e.preventDefault(),this.activateAR()},this[A]=({status:e})=>{e!==Zs&&this[Jo].arRenderer.presentedScene!==this[Go]||(this.setAttribute("ar-status",e),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:e}})),e===Zs?this.removeAttribute("ar-tracking"):e===en&&this.setAttribute("ar-tracking",nn))},this[l]=({status:e})=>{this.setAttribute("ar-tracking",e),this.dispatchEvent(new CustomEvent("ar-tracking",{detail:{status:e}}))},this[c]=e=>{"_apple_ar_quicklook_button_tapped"==e.data&&this.dispatchEvent(new CustomEvent("quick-look-button-tapped"))}}get canActivateAR(){return this[Sl]!==Bl}connectedCallback(){super.connectedCallback(),this[Jo].arRenderer.addEventListener("status",this[Dl]),this.setAttribute("ar-status",Zs),this[Jo].arRenderer.addEventListener("tracking",this[Ll]),this[Ml].addEventListener("message",this[kl])}disconnectedCallback(){super.disconnectedCallback(),this[Jo].arRenderer.removeEventListener("status",this[Dl]),this[Jo].arRenderer.removeEventListener("tracking",this[Ll]),this[Ml].removeEventListener("message",this[kl])}update(e){super.update(e),e.has("arScale")&&(this[Go].canScale="fixed"!==this.arScale),e.has("arPlacement")&&(this[Go].updateShadow(),this[Po]()),e.has("arModes")&&(this[xl]=ml(this.arModes)),(e.has("ar")||e.has("arModes")||e.has("src")||e.has("iosSrc"))&&this[Fl]()}async activateAR(){switch(this[Sl]){case Il:this[Ql]();break;case Cl:await this[wl]();break;case El:this[vl]();break;default:console.warn("No AR Mode can be activated. This is probably due to missing configuration or device capabilities")}}async[(t=bl,i=yl,s=Ml,n=xl,r=Sl,a=Rl,o=Tl,A=Dl,l=Ll,c=kl,Fl)](){let e=Bl;if(this.ar){if(null!=this.src)for(const t of this[xl]){if("webxr"===t&&Te&&!dl&&await this[Jo].arRenderer.supportsPresentation()){e=Cl;break}if("scene-viewer"===t&&_e&&!gl){e=El;break}if("quick-look"===t&&Ne){e=Il;break}}e===Bl&&null!=this.iosSrc&&Ne&&(e=Il)}if(e!==Bl)this[yl].classList.add("enabled"),this[yl].addEventListener("click",this[Tl]);else if(this[yl].classList.contains("enabled")){this[yl].removeEventListener("click",this[Tl]),this[yl].classList.remove("enabled");const e=sn;this.setAttribute("ar-status",e),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:e}}))}this[Sl]=e}async[wl](){console.log("Attempting to present in AR with WebXR..."),await this[_l]();try{this[yl].removeEventListener("click",this[Tl]);const{arRenderer:e}=this[Jo];e.placeOnWall="wall"===this.arPlacement,await e.present(this[Go],this.xrEnvironment)}catch(e){console.warn("Error while trying to present in AR with WebXR"),console.error(e),await this[Jo].arRenderer.stopPresenting(),dl=!0,console.warn("Falling back to next ar-mode"),await this[Fl](),this.activateAR()}finally{this[Fl]()}}async[_l](){this.loaded||(this[Rl]=!0,this[ko](),await((e,t,i=null)=>new Promise(s=>{e.addEventListener(t,function n(r){i&&!i(r)||(s(r),e.removeEventListener(t,n))})}))(this,"load"),this[Rl]=!1)}[Ko](){return super[Ko]()||this[Rl]}[vl](){const e=self.location.toString(),t=new URL(e),i=new URL(this.src,e),s=new URLSearchParams(i.search);if(t.hash=pl,s.set("mode","ar_preferred"),s.has("disable_occlusion")||s.set("disable_occlusion","true"),"fixed"===this.arScale&&s.set("resizable","false"),"wall"===this.arPlacement&&s.set("enable_vertical_placement","true"),s.has("sound")){const t=new URL(s.get("sound"),e);s.set("sound",t.toString())}if(s.has("link")){const t=new URL(s.get("link"),e);s.set("link",t.toString())}const n=`intent://arvr.google.com/scene-viewer/1.0?${s.toString()+"&file="+encodeURIComponent(i.toString())}#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=${encodeURIComponent(t.toString())};end;`;self.addEventListener("hashchange",()=>{self.location.hash===pl&&(gl=!0,self.history.back(),console.warn("Error while trying to present in AR with Scene Viewer"),console.warn("Falling back to next ar-mode"),this[Fl]())},{once:!0}),this[Ml].setAttribute("href",n),console.log("Attempting to present in AR with Scene Viewer..."),this[Ml].click()}async[Ql](){const e=!this.iosSrc;this[yl].classList.remove("enabled");const t=e?await this.prepareUSDZ():this.iosSrc,i=new URL(t,self.location.toString());if(e){const e=self.location.toString(),t=new URL(e),s=new URL(this.src,t);s.hash&&(i.hash=s.hash)}"fixed"===this.arScale&&(i.hash&&(i.hash+="&"),i.hash+="allowsContentScaling=0");const s=this[Ml];s.setAttribute("rel","ar");const n=document.createElement("img");s.appendChild(n),s.setAttribute("href",i.toString()),e&&s.setAttribute("download","model.usdz"),s.style.display="none",s.isConnected||this.shadowRoot.appendChild(s),console.log("Attempting to present in AR with Quick Look..."),s.click(),s.removeChild(n),e&&URL.revokeObjectURL(t),this[yl].classList.add("enabled")}async prepareUSDZ(){const e=this[Vo].beginActivity();await this[_l]();const{model:t,shadow:i}=this[Go];if(null==t)return"";let s=!1;null!=i&&(s=i.visible,i.visible=!1),e(.2);const n=new il,r=await n.parse(t),a=new Blob([r],{type:"model/vnd.usdz+zip"}),o=URL.createObjectURL(a);return e(1),null!=i&&(i.visible=s),o}}return ul([f({type:Boolean,attribute:"ar"})],h.prototype,"ar",void 0),ul([f({type:String,attribute:"ar-scale"})],h.prototype,"arScale",void 0),ul([f({type:String,attribute:"ar-placement"})],h.prototype,"arPlacement",void 0),ul([f({type:String,attribute:"ar-modes"})],h.prototype,"arModes",void 0),ul([f({type:String,attribute:"ios-src"})],h.prototype,"iosSrc",void 0),ul([f({type:Boolean,attribute:"xr-environment"})],h.prototype,"xrEnvironment",void 0),h})((e=>{var t,i,s,n,r,a,o,A;class l extends e{constructor(...e){super(...e),this.poster=null,this.reveal=Qh,this.loading=bh,this[t]=!1,this[i]=!1,this[s]=this.shadowRoot.querySelector(".slot.poster"),this[n]=this.shadowRoot.querySelector("#default-poster"),this[r]=this.shadowRoot.querySelector("#default-progress-bar > .bar"),this[a]=this[Rh].getAttribute("aria-label"),this[o]=((e,t)=>{let i=null;const s=(...s)=>{null==i&&(e(...s),i=self.setTimeout(()=>i=null,t))};return s.flush=()=>{null!=i&&(self.clearTimeout(i),i=null)},s})(e=>{const t=this[xh].parentNode;requestAnimationFrame(()=>{this[xh].style.transform=`scaleX(${e})`,0===e&&(t.removeChild(this[xh]),t.appendChild(this[xh])),1===e?this[xh].classList.add("hide"):this[xh].classList.remove("hide")})},100),this[A]=e=>{const t=e.detail.totalProgress;1===t&&(this[kh].flush(),this.loaded&&(this[Th]||this.reveal===Qh)&&this[Dh]()),this[kh](t),this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:t}}))};const l=self.ModelViewerElement||{},c=l.dracoDecoderLocation||"https://www.gstatic.com/draco/versioned/decoders/1.4.1/";Wi.setDRACODecoderLocation(c);const h=l.ktx2TranscoderLocation||"https://www.gstatic.com/basis-universal/versioned/2021-04-15-ba1c3e4/";Wi.setKTX2TranscoderLocation(h),l.meshoptDecoderLocation&&Wi.setMeshoptDecoderLocation(l.meshoptDecoderLocation)}static set dracoDecoderLocation(e){Wi.setDRACODecoderLocation(e)}static get dracoDecoderLocation(){return Wi.getDRACODecoderLocation()}static set ktx2TranscoderLocation(e){Wi.setKTX2TranscoderLocation(e)}static get ktx2TranscoderLocation(){return Wi.getKTX2TranscoderLocation()}static set meshoptDecoderLocation(e){Wi.setMeshoptDecoderLocation(e)}static get meshoptDecoderLocation(){return Wi.getMeshoptDecoderLocation()}static mapURLs(e){On.singleton.loader[Ki].manager.setURLModifier(e)}dismissPoster(){this.loaded?this[Dh]():(this[Th]=!0,this[ko]())}showPoster(){const e=this[Mh];if(e.classList.contains("show"))return;e.classList.add("show"),this[Uo].classList.remove("show");const t=this[Rh];t.removeAttribute("tabindex"),t.removeAttribute("aria-hidden");const i=this.modelIsVisible;this[Lh]=!1,this[xo](i)}getDimensions(){return zo(this[Go].size)}getBoundingBoxCenter(){return zo(this[Go].boundingBox.getCenter(new E.Pq0))}connectedCallback(){super.connectedCallback(),this.showPoster(),this[Vo].addEventListener("progress",this[_h])}disconnectedCallback(){super.disconnectedCallback(),this[Vo].removeEventListener("progress",this[_h])}async updated(e){super.updated(e),e.has("poster")&&null!=this.poster&&(this[Rh].style.backgroundImage=`url(${this.poster})`),e.has("alt")&&this[Rh].setAttribute("aria-label",this[Ro]),(e.has("reveal")||e.has("loading"))&&this[ko]()}[(t=Lh,i=Th,s=Mh,n=Rh,r=xh,a=Fh,o=kh,A=_h,Ko)](){return!!this.src&&(this[Th]||this.loading===Sh||this.reveal===Qh&&this[So])}[Dh](){this[Th]=!1;const e=this[Mh];if(!e.classList.contains("show"))return;e.classList.remove("show"),this[Uo].classList.add("show");const t=this.modelIsVisible;this[Lh]=!0,this[xo](t);const i=this.getRootNode();i&&i.activeElement===this&&this[Uo].focus();const s=this[Rh];s.setAttribute("aria-hidden","true"),s.tabIndex=-1,this.dispatchEvent(new CustomEvent("poster-dismissed"))}[Yo](){return super[Yo]()&&this[Lh]}}return vh([f({type:String})],l.prototype,"poster",void 0),vh([f({type:String})],l.prototype,"reveal",void 0),vh([f({type:String})],l.prototype,"loading",void 0),l})((e=>{var t;class i extends e{constructor(...e){super(e),this.autoplay=!1,this.animationName=void 0,this.animationCrossfadeDuration=300,this[t]=!0,this[Go].subscribeMixerEvent("loop",e=>{const t=e.action._loopCount;this.dispatchEvent(new CustomEvent("loop",{detail:{count:t}}))}),this[Go].subscribeMixerEvent("finished",()=>{this[eA]=!0,this.dispatchEvent(new CustomEvent("finished"))})}get availableAnimations(){return this.loaded?this[Go].animationNames:[]}get duration(){return this[Go].duration}get paused(){return this[eA]}get currentTime(){return this[Go].animationTime}set currentTime(e){this[Go].animationTime=e,this[Po]()}get timeScale(){return this[Go].animationTimeScale}set timeScale(e){this[Go].animationTimeScale=e}pause(){this[eA]||(this[eA]=!0,this.dispatchEvent(new CustomEvent("pause")))}play(e){this.availableAnimations.length>0&&(this[eA]=!1,this[Zo](e),this.dispatchEvent(new CustomEvent("play")))}[(t=eA,Ho)](){super[Ho](),this[eA]=!0,this.autoplay&&this.play()}[Oo](e,t){super[Oo](e,t),this[eA]||!this[Yo]()&&!this[Jo].isPresenting||(this[Go].updateAnimation(t/1e3),this[Po]())}updated(e){super.updated(e),e.has("autoplay")&&this.autoplay&&this.play(),e.has("animationName")&&this[Zo]()}[Zo](e=tA){var t;const i=null!==(t=e.repetitions)&&void 0!==t?t:1/0,s=e.pingpong?E.lc7:1===i?E.G3T:E.aMy;this[Go].playAnimation(this.animationName,this.animationCrossfadeDuration/1e3,s,i),this[eA]&&(this[Go].updateAnimation(0),this[Po]())}}return Xo([f({type:Boolean})],i.prototype,"autoplay",void 0),Xo([f({type:String,attribute:"animation-name"})],i.prototype,"animationName",void 0),Xo([f({type:Number,attribute:"animation-crossfade-duration"})],i.prototype,"animationCrossfadeDuration",void 0),i})((e=>{var t;const i=Symbol("endPolyfillCoordination");return t=i,class extends e{constructor(){super(...arguments),this[t]=null}connectedCallback(){super.connectedCallback&&super.connectedCallback(),null==this[i]&&(this[i]=(e=>{if(null==e.shadowRoot||e.hasAttribute("data-js-focus-visible"))return()=>{};if(!self.applyFocusVisiblePolyfill){const t=()=>{self.applyFocusVisiblePolyfill(e.shadowRoot)};return self.addEventListener("focus-visible-polyfill-ready",t,{once:!0}),()=>{self.removeEventListener("focus-visible-polyfill-ready",t)}}return self.applyFocusVisiblePolyfill(e.shadowRoot),()=>{}})(this))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),null!=this[i]&&(this[i](),this[i]=null)}}})(Wo)))))))));customElements.define("model-viewer",Jh);var Vh=()=>s.createElement(p,null,s.createElement("style",{jsx:!0},"\n      model-viewer {\n        width: 100%;\n        height: 85vh;\n      }\n    "),s.createElement("model-viewer",{"camera-controls":!0,"disable-zoom":!0,alt:"A 3D model Peter Gunarso","environment-image":"neutral",poster:"/poster.png",src:"/tpose.glb"})),jh=i(4810);const Yh=n.default.div.withConfig({displayName:"styles__Background",componentId:"sc-1ebr4rt-0"})(["width:100%;height:",";background-color:",";opacity:95%;display:flex;justify-content:center;align-items:center;z-index:",";position:fixed;top:0;@media(min-width:","){height:",";}"],r.DN.LE,r.Jy.Z7,r.Py.z3,r.Rp.Hw,r.DN.$L),Kh=n.default.header.withConfig({displayName:"styles__Header",componentId:"sc-1ebr4rt-1"})(["display:flex;justify-content:space-between;@media(min-width:","){padding:30px 0;}"],r.Rp.Hw),zh=n.default.div.withConfig({displayName:"styles__MainNav",componentId:"sc-1ebr4rt-2"})(["display:flex;align-items:center;"]),$h=(0,n.default)(jh.Link).withConfig({displayName:"styles__Wordmark",componentId:"sc-1ebr4rt-3"})(["display:flex;font-size:24px;font-weight:",";padding:12px;margin-left:-20px;margin-bottom:6px;@media(max-width:","){margin-bottom:8px;}"],r.ZU.NM.bold,r.Rp.Hw);var Wh=()=>s.createElement(Yh,null,s.createElement(cu,null,s.createElement(Kh,null,s.createElement(zh,null,s.createElement($h,{to:"/"},"Peter Gunarso"),s.createElement(su,null)))));const Xh=n.default.nav.withConfig({displayName:"styles__Nav",componentId:"sc-opcmaz-0"})(["position:relative;display:flex;"]),Zh=n.default.div.withConfig({displayName:"styles__NavItem",componentId:"sc-opcmaz-1"})(["display:flex;align-items:center;height:",";position:relative;&:after{content:'';display:block;width:100%;height:2px;position:absolute;bottom:0;left:0;transition:background 300ms ease;}@media(min-width:","){height:",";margin-left:10px;}"],r.DN.LE,r.Rp.Hw,r.DN.$L),eu=(0,n.default)(jh.Link).withConfig({displayName:"styles__NavLink",componentId:"sc-opcmaz-2"})(["padding:10px;color:",";font-size:17px;font-weight:",";text-decoration:none;display:flex;align-items:center;box-sizing:border-box;@media(max-width:","){padding:5px;font-size:14px;margin-left:8px;}"],r.Jy.Qq,r.ZU.NM.medium,r.Rp.Hw),tu=n.default.a.withConfig({displayName:"styles__ResumeLink",componentId:"sc-opcmaz-3"})(["href:",";padding:10px;font-size:17px;font-weight:",";text-decoration:none;display:flex;align-items:center;box-sizing:border-box;@media(max-width:","){padding:5px;font-size:14px;margin-left:8px;}"],e=>e.href,r.ZU.NM.medium,r.Rp.Hw);var iu={projects:{title:"Projects",url:"/projects"}};var su=()=>s.createElement(Xh,null,Object.values(iu).map(e=>s.createElement(Zh,{key:e.url},s.createElement(eu,{to:e.url},e.title))),s.createElement(Zh,{key:"Resume"},s.createElement(tu,{href:"Resume/Gunarso_Resume.pdf"},"Resume")));const nu=n.default.footer.withConfig({displayName:"styles__Footer",componentId:"sc-410g8k-0"})(["width:100%;background-color:",";display:flex;justify-content:center;margin-top:auto;margin-bottom:5px;"],r.Jy.Tp),ru=n.default.div.withConfig({displayName:"styles__Credits",componentId:"sc-410g8k-1"})(["p{font-size:16px;color:",";}"],r.Jy.Qq);var au=e=>s.createElement(nu,e,s.createElement(ru,null,s.createElement("p",null,"Thanks to ",s.createElement("u",null,s.createElement("a",{el:"a",href:"https://ryan.warner.codes"},"Ryan Warner"))," for making their webiste's source available."))),ou=i(8587);const Au=n.default.div.withConfig({displayName:"styles__Width",componentId:"sc-1t1oqdn-0"})(["width:100%;max-width:",";padding:0 ",";box-sizing:border-box;@media (min-width:","){padding:0 6vw;}"],r.DN.JX,r.DN.sx,r.Rp.Hw),lu=["children"];var cu=e=>{let{children:t}=e,i=(0,ou.A)(e,lu);return s.createElement(Au,i,t)};const hu=n.default.div.withConfig({displayName:"styles__TextBox",componentId:"sc-17ao0ng-0"})(["display:block;align-items:center;width:85vh;margin-top:10vh;margin-bottom:5vh;"]);function uu(e){const t=Object.assign({h1:"h1"},(0,h.RP)(),e.components);return s.createElement(t.h1,null,"Under Construction")}var du=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,h.RP)(),e.components);return t?s.createElement(t,e,s.createElement(uu,e)):uu(e)};var gu,pu,mu,fu,Iu=()=>s.createElement(hu,null,s.createElement(du,null)),Eu=i(5556),Cu=i.n(Eu),Bu=i(2098),yu=i.n(Bu),wu=i(115),vu=i.n(wu),Qu=i(8828),bu=i.n(Qu),Su="bodyAttributes",xu="htmlAttributes",Mu="titleAttributes",Ru={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},Tu=(Object.keys(Ru).map(function(e){return Ru[e]}),"charset"),Du="cssText",Lu="href",ku="http-equiv",Fu="innerHTML",_u="itemprop",Uu="name",Nu="property",Gu="rel",Pu="src",Ou="target",Hu={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},qu="defaultTitle",Ju="defer",Vu="encodeSpecialCharacters",ju="onChangeClientState",Yu="titleTemplate",Ku=Object.keys(Hu).reduce(function(e,t){return e[Hu[t]]=t,e},{}),zu=[Ru.NOSCRIPT,Ru.SCRIPT,Ru.STYLE],$u="data-react-helmet",Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),Zu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},ed=function(e,t){var i={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i},td=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},id=function(e){var t=od(e,Ru.TITLE),i=od(e,Yu);if(i&&t)return i.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var s=od(e,qu);return t||s||void 0},sd=function(e){return od(e,ju)||function(){}},nd=function(e,t){return t.filter(function(t){return void 0!==t[e]}).map(function(t){return t[e]}).reduce(function(e,t){return Zu({},e,t)},{})},rd=function(e,t){return t.filter(function(e){return void 0!==e[Ru.BASE]}).map(function(e){return e[Ru.BASE]}).reverse().reduce(function(t,i){if(!t.length)for(var s=Object.keys(i),n=0;n<s.length;n++){var r=s[n].toLowerCase();if(-1!==e.indexOf(r)&&i[r])return t.concat(i)}return t},[])},ad=function(e,t,i){var s={};return i.filter(function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&ud("Helmet: "+e+' should be of type "Array". Instead found type "'+Wu(t[e])+'"'),!1)}).map(function(t){return t[e]}).reverse().reduce(function(e,i){var n={};i.filter(function(e){for(var i=void 0,r=Object.keys(e),a=0;a<r.length;a++){var o=r[a],A=o.toLowerCase();-1===t.indexOf(A)||i===Gu&&"canonical"===e[i].toLowerCase()||A===Gu&&"stylesheet"===e[A].toLowerCase()||(i=A),-1===t.indexOf(o)||o!==Fu&&o!==Du&&o!==_u||(i=o)}if(!i||!e[i])return!1;var l=e[i].toLowerCase();return s[i]||(s[i]={}),n[i]||(n[i]={}),!s[i][l]&&(n[i][l]=!0,!0)}).reverse().forEach(function(t){return e.push(t)});for(var r=Object.keys(n),a=0;a<r.length;a++){var o=r[a],A=bu()({},s[o],n[o]);s[o]=A}return e},[]).reverse()},od=function(e,t){for(var i=e.length-1;i>=0;i--){var s=e[i];if(s.hasOwnProperty(t))return s[t]}return null},Ad=(gu=Date.now(),function(e){var t=Date.now();t-gu>16?(gu=t,e(t)):setTimeout(function(){Ad(e)},0)}),ld=function(e){return clearTimeout(e)},cd="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Ad:i.g.requestAnimationFrame||Ad,hd="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ld:i.g.cancelAnimationFrame||ld,ud=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},dd=null,gd=function(e,t){var i=e.baseTag,s=e.bodyAttributes,n=e.htmlAttributes,r=e.linkTags,a=e.metaTags,o=e.noscriptTags,A=e.onChangeClientState,l=e.scriptTags,c=e.styleTags,h=e.title,u=e.titleAttributes;fd(Ru.BODY,s),fd(Ru.HTML,n),md(h,u);var d={baseTag:Id(Ru.BASE,i),linkTags:Id(Ru.LINK,r),metaTags:Id(Ru.META,a),noscriptTags:Id(Ru.NOSCRIPT,o),scriptTags:Id(Ru.SCRIPT,l),styleTags:Id(Ru.STYLE,c)},g={},p={};Object.keys(d).forEach(function(e){var t=d[e],i=t.newTags,s=t.oldTags;i.length&&(g[e]=i),s.length&&(p[e]=d[e].oldTags)}),t&&t(),A(e,g,p)},pd=function(e){return Array.isArray(e)?e.join(""):e},md=function(e,t){void 0!==e&&document.title!==e&&(document.title=pd(e)),fd(Ru.TITLE,t)},fd=function(e,t){var i=document.getElementsByTagName(e)[0];if(i){for(var s=i.getAttribute($u),n=s?s.split(","):[],r=[].concat(n),a=Object.keys(t),o=0;o<a.length;o++){var A=a[o],l=t[A]||"";i.getAttribute(A)!==l&&i.setAttribute(A,l),-1===n.indexOf(A)&&n.push(A);var c=r.indexOf(A);-1!==c&&r.splice(c,1)}for(var h=r.length-1;h>=0;h--)i.removeAttribute(r[h]);n.length===r.length?i.removeAttribute($u):i.getAttribute($u)!==a.join(",")&&i.setAttribute($u,a.join(","))}},Id=function(e,t){var i=document.head||document.querySelector(Ru.HEAD),s=i.querySelectorAll(e+"["+$u+"]"),n=Array.prototype.slice.call(s),r=[],a=void 0;return t&&t.length&&t.forEach(function(t){var i=document.createElement(e);for(var s in t)if(t.hasOwnProperty(s))if(s===Fu)i.innerHTML=t.innerHTML;else if(s===Du)i.styleSheet?i.styleSheet.cssText=t.cssText:i.appendChild(document.createTextNode(t.cssText));else{var o=void 0===t[s]?"":t[s];i.setAttribute(s,o)}i.setAttribute($u,"true"),n.some(function(e,t){return a=t,i.isEqualNode(e)})?n.splice(a,1):r.push(i)}),n.forEach(function(e){return e.parentNode.removeChild(e)}),r.forEach(function(e){return i.appendChild(e)}),{oldTags:n,newTags:r}},Ed=function(e){return Object.keys(e).reduce(function(t,i){var s=void 0!==e[i]?i+'="'+e[i]+'"':""+i;return t?t+" "+s:s},"")},Cd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,i){return t[Hu[i]||i]=e[i],t},t)},Bd=function(e,t,i){switch(e){case Ru.TITLE:return{toComponent:function(){return e=t.title,i=t.titleAttributes,(n={key:e})[$u]=!0,r=Cd(i,n),[s.createElement(Ru.TITLE,r,e)];var e,i,n,r},toString:function(){return function(e,t,i,s){var n=Ed(i),r=pd(t);return n?"<"+e+" "+$u+'="true" '+n+">"+td(r,s)+"</"+e+">":"<"+e+" "+$u+'="true">'+td(r,s)+"</"+e+">"}(e,t.title,t.titleAttributes,i)}};case Su:case xu:return{toComponent:function(){return Cd(t)},toString:function(){return Ed(t)}};default:return{toComponent:function(){return function(e,t){return t.map(function(t,i){var n,r=((n={key:i})[$u]=!0,n);return Object.keys(t).forEach(function(e){var i=Hu[e]||e;if(i===Fu||i===Du){var s=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:s}}else r[i]=t[e]}),s.createElement(e,r)})}(e,t)},toString:function(){return function(e,t,i){return t.reduce(function(t,s){var n=Object.keys(s).filter(function(e){return!(e===Fu||e===Du)}).reduce(function(e,t){var n=void 0===s[t]?t:t+'="'+td(s[t],i)+'"';return e?e+" "+n:n},""),r=s.innerHTML||s.cssText||"",a=-1===zu.indexOf(e);return t+"<"+e+" "+$u+'="true" '+n+(a?"/>":">"+r+"</"+e+">")},"")}(e,t,i)}}}},yd=function(e){var t=e.baseTag,i=e.bodyAttributes,s=e.encode,n=e.htmlAttributes,r=e.linkTags,a=e.metaTags,o=e.noscriptTags,A=e.scriptTags,l=e.styleTags,c=e.title,h=void 0===c?"":c,u=e.titleAttributes;return{base:Bd(Ru.BASE,t,s),bodyAttributes:Bd(Su,i,s),htmlAttributes:Bd(xu,n,s),link:Bd(Ru.LINK,r,s),meta:Bd(Ru.META,a,s),noscript:Bd(Ru.NOSCRIPT,o,s),script:Bd(Ru.SCRIPT,A,s),style:Bd(Ru.STYLE,l,s),title:Bd(Ru.TITLE,{title:h,titleAttributes:u},s)}},wd=yu()(function(e){return{baseTag:rd([Lu,Ou],e),bodyAttributes:nd(Su,e),defer:od(e,Ju),encode:od(e,Vu),htmlAttributes:nd(xu,e),linkTags:ad(Ru.LINK,[Gu,Lu],e),metaTags:ad(Ru.META,[Uu,Tu,ku,Nu,_u],e),noscriptTags:ad(Ru.NOSCRIPT,[Fu],e),onChangeClientState:sd(e),scriptTags:ad(Ru.SCRIPT,[Pu,Fu],e),styleTags:ad(Ru.STYLE,[Du],e),title:id(e),titleAttributes:nd(Mu,e)}},function(e){dd&&hd(dd),e.defer?dd=cd(function(){gd(e,function(){dd=null})}):(gd(e),dd=null)},yd)(function(){return null}),vd=(pu=wd,fu=mu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!vu()(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case Ru.SCRIPT:case Ru.NOSCRIPT:return{innerHTML:t};case Ru.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,i=e.child,s=e.arrayTypeChildren,n=e.newChildProps,r=e.nestedChildren;return Zu({},s,((t={})[i.type]=[].concat(s[i.type]||[],[Zu({},n,this.mapNestedChildrenToProps(i,r))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,i,s=e.child,n=e.newProps,r=e.newChildProps,a=e.nestedChildren;switch(s.type){case Ru.TITLE:return Zu({},n,((t={})[s.type]=a,t.titleAttributes=Zu({},r),t));case Ru.BODY:return Zu({},n,{bodyAttributes:Zu({},r)});case Ru.HTML:return Zu({},n,{htmlAttributes:Zu({},r)})}return Zu({},n,((i={})[s.type]=Zu({},r),i))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var i=Zu({},t);return Object.keys(e).forEach(function(t){var s;i=Zu({},i,((s={})[t]=e[t],s))}),i},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var i=this,n={};return s.Children.forEach(e,function(e){if(e&&e.props){var s=e.props,r=s.children,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,i){return t[Ku[i]||i]=e[i],t},t)}(ed(s,["children"]));switch(i.warnOnInvalidChildren(e,r),e.type){case Ru.LINK:case Ru.META:case Ru.NOSCRIPT:case Ru.SCRIPT:case Ru.STYLE:n=i.flattenArrayTypeChildren({child:e,arrayTypeChildren:n,newChildProps:a,nestedChildren:r});break;default:t=i.mapObjectTypeChildren({child:e,newProps:t,newChildProps:a,nestedChildren:r})}}}),t=this.mapArrayTypeChildrenToProps(n,t)},t.prototype.render=function(){var e=this.props,t=e.children,i=ed(e,["children"]),n=Zu({},i);return t&&(n=this.mapChildrenToProps(t,n)),s.createElement(pu,n)},Xu(t,null,[{key:"canUseDOM",set:function(e){pu.canUseDOM=e}}]),t}(s.Component),mu.propTypes={base:Cu().object,bodyAttributes:Cu().object,children:Cu().oneOfType([Cu().arrayOf(Cu().node),Cu().node]),defaultTitle:Cu().string,defer:Cu().bool,encodeSpecialCharacters:Cu().bool,htmlAttributes:Cu().object,link:Cu().arrayOf(Cu().object),meta:Cu().arrayOf(Cu().object),noscript:Cu().arrayOf(Cu().object),onChangeClientState:Cu().func,script:Cu().arrayOf(Cu().object),style:Cu().arrayOf(Cu().object),title:Cu().string,titleAttributes:Cu().object,titleTemplate:Cu().string},mu.defaultProps={defer:!0,encodeSpecialCharacters:!0},mu.peek=pu.peek,mu.rewind=function(){var e=pu.rewind();return e||(e=yd({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},fu);vd.renderStatic=vd.rewind;const Qd=e=>{let{description:t,lang:i,meta:n,keywords:r,title:a}=e;return s.createElement(jh.StaticQuery,{query:Sd,render:e=>{const o=t||e.site.siteMetadata.description,A=a||e.site.siteMetadata.title;return s.createElement(vd,{htmlAttributes:{lang:i},title:A,titleTemplate:""+e.site.siteMetadata.title,meta:[{name:"description",content:o},{property:"og:title",content:A},{property:"og:description",content:o},{property:"og:type",content:"website"}].concat(r.length>0?{name:"keywords",content:r.join(", ")}:[]).concat(n)})}})};Qd.defaultProps={lang:"en",meta:[],keywords:[]};var bd=Qd;const Sd="3638184005"},7680:function(e,t,i){"use strict";var s=i(9504);e.exports=s([].slice)},8453:function(e,t,i){"use strict";i.d(t,{RP:function(){return r},xA:function(){return o}});var s=i(6540);const n=s.createContext({});function r(e){const t=s.useContext(n);return s.useMemo(()=>"function"==typeof e?e(t):{...t,...e},[t,e])}const a={};function o({components:e,children:t,disableParentContext:i}){let o;return o=i?"function"==typeof e?e({}):e||a:r(e),s.createElement(n.Provider,{value:o},t)}},8828:function(e){"use strict";e.exports=Object.assign},9771:function(e,t,i){"use strict";i.d(t,{NM:function(){return o},yt:function(){return d}});var s=i(2568),n=i(6471),r=i(983);const a="'jost', '-apple-system', 'Roboto'",o={regular:400,bold:600},A=(0,s.css)(["font-size:14px;@media(min-width:","){font-size:16px;}"],n.Hw),l=((0,s.css)(["font-size:16px;line-height:30px;font-weight:",";@media(min-width:","){font-size:18px;line-height:34px;}"],o.medium,n.Hw),(0,s.css)(["font-size:50px;line-height:152%;font-weight:",";@media(max-width:","){font-size:28px;line-height:122%;}"],o.bold,n.Hw)),c=(0,s.css)(["font-size:1.6em;font-weight:",";margin:0;"],o.bold),h=(0,s.css)(["font-size:24px;line-height:152%;font-weight:",";margin:0;@media(max-width:","){font-size:20px;line-height:138%;}"],o.bold,n.Hw),u=(0,s.css)(["font-size:24px;line-height:152%;font-weight:",";margin:0;@media(max-width:","){font-size:20px;line-height:138%;}"],o.medium,n.Hw),d=((0,s.css)(["font-weight:",";font-size:14px;letter-spacing:0.14rem;text-transform:uppercase;@media(min-width:","){font-size:17px;letter-spacing:0.18rem;}"],o.medium,n.Hw),(0,s.createGlobalStyle)(["body{",";font-family:",";}h1{",";font-family:",";}h2{",";}h3{",";}h4{",";}p{margin:0;font-family:",";}a{transition:all 300ms ease;color:",";cursor:pointer;text-decoration:none;}"],A,a,l,a,c,h,u,a,r.Qq))},9839:function(e,t,i){"use strict";i.d(t,{Rp:function(){return a},Jy:function(){return o},Xe:function(){return r},DN:function(){return n},ZU:function(){return A},Py:function(){return s}});var s={};i.r(s),i.d(s,{z3:function(){return l}});var n={};i.r(n),i.d(n,{pr:function(){return d},JX:function(){return c},$L:function(){return h},LE:function(){return u},sx:function(){return g}});var r={};i.r(r),i.d(r,{d:function(){return m}});var a=i(6471),o=i(983),A=i(9771);const l=3,c="1280px",h="80px",u="60px",d="810px",g="80px";var p=i(2568);(0,p.css)(["border-radius:6px;"]);const m=(0,p.css)(["max-width:",";padding-left:80px;padding-right:80px;box-sizing:border-box;@media(max-width:","){max-width:100vw;}@media(max-width:","){padding:0 6vw;}"],d,d,a.Hw)}}]);
//# sourceMappingURL=c169b6902947a77fec05096cb4da441bfcc3d6f1-c1831989d35eb53f89dc.js.map