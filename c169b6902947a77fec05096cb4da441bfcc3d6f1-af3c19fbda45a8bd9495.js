/*! For license information please see c169b6902947a77fec05096cb4da441bfcc3d6f1-af3c19fbda45a8bd9495.js.LICENSE.txt */
(self.webpackChunkproject_site=self.webpackChunkproject_site||[]).push([[934],{9626:function(e,t,n){"use strict";n.d(t,{Zo:function(){return l},ah:function(){return A}});var r=n(4942),i=n(7294);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=i.createContext({});function A(e){var t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):o(o({},t),e)}),[t,e])}var u={};function l(e){var t=e.components,n=e.children,r=e.disableParentContext,a=A(t);return r&&(a=t||u),i.createElement(s.Provider,{value:a},n)}},72:function(e){"use strict";var t=function(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);var n;return e=Array.isArray(e)?e.map((function(e){return e.trim()})).filter((function(e){return e.length})).join("-"):e.trim(),0===e.length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=function(e){for(var t=!1,n=!1,r=!1,i=0;i<e.length;i++){var a=e[i];t&&/[a-zA-Z]/.test(a)&&a.toUpperCase()===a?(e=e.slice(0,i)+"-"+e.slice(i),t=!1,r=n,n=!0,i++):n&&r&&/[a-zA-Z]/.test(a)&&a.toLowerCase()===a?(e=e.slice(0,i-1)+"-"+e.slice(i-1),r=n,n=!1,t=!0):(t=a.toLowerCase()===a&&a.toUpperCase()!==a,r=n,n=a.toUpperCase()===a&&a.toLowerCase()!==a)}return e}(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(function(e,t){return t.toUpperCase()})).replace(/\d+(\w|$)/g,(function(e){return e.toUpperCase()})),n=e,t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n)};e.exports=t,e.exports.default=t},6494:function(e){"use strict";e.exports=Object.assign},2993:function(e){var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,A,u,l;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(A=s;0!=A--;)if(!a(e[A],o[A]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(l=e.entries();!(A=l.next()).done;)if(!o.has(A.value[0]))return!1;for(l=e.entries();!(A=l.next()).done;)if(!a(A.value[1],o.get(A.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(l=e.entries();!(A=l.next()).done;)if(!o.has(A.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(A=s;0!=A--;)if(e[A]!==o[A])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((s=(u=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(A=s;0!=A--;)if(!Object.prototype.hasOwnProperty.call(o,u[A]))return!1;if(t&&e instanceof Element)return!1;for(A=s;0!=A--;)if(("_owner"!==u[A]&&"__v"!==u[A]&&"__o"!==u[A]||!e.$$typeof)&&!a(e[u[A]],o[u[A]]))return!1;return!0}return e!=e&&o!=o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},4839:function(e,t,n){"use strict";var r,i=n(7294),a=(r=i)&&"object"==typeof r&&"default"in r?r.default:r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!=typeof r)throw new Error("Expected WrappedComponent to be a React component.");var A,u=[];function l(){A=e(u.map((function(e){return e.props}))),c.canUseDOM?t(A):n&&(A=n(A))}var c=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return A},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=A;return A=void 0,u=[],e};var o=i.prototype;return o.UNSAFE_componentWillMount=function(){u.push(this),l()},o.componentDidUpdate=function(){l()},o.componentWillUnmount=function(){var e=u.indexOf(this);u.splice(e,1),l()},o.render=function(){return a.createElement(r,this.props)},i}(i.PureComponent);return o(c,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),o(c,"canUseDOM",s),c}}},8650:function(e){var t;t=function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","Ա":"A","Բ":"B","Գ":"G","Դ":"D","Ե":"E","Զ":"Z","Է":"E\'","Ը":"Y\'","Թ":"T\'","Ժ":"JH","Ի":"I","Լ":"L","Խ":"X","Ծ":"C\'","Կ":"K","Հ":"H","Ձ":"D\'","Ղ":"GH","Ճ":"TW","Մ":"M","Յ":"Y","Ն":"N","Շ":"SH","Չ":"CH","Պ":"P","Ջ":"J","Ռ":"R\'","Ս":"S","Վ":"V","Տ":"T","Ր":"R","Ց":"C","Փ":"P\'","Ք":"Q\'","Օ":"O\'\'","Ֆ":"F","և":"EV","ء":"a","آ":"aa","أ":"a","ؤ":"u","إ":"i","ئ":"e","ا":"a","ب":"b","ة":"h","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ى":"a","ي":"y","ً":"an","ٌ":"on","ٍ":"en","َ":"a","ُ":"u","ِ":"e","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"g","ی":"y","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ṣ":"S","ṣ":"s","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"\'","’":"\'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial","ﻵ":"laa","ﻷ":"laa","ﻹ":"lai","ﻻ":"la"}'),t=JSON.parse('{"bg":{"Й":"Y","Ц":"Ts","Щ":"Sht","Ъ":"A","Ь":"Y","й":"y","ц":"ts","щ":"sht","ъ":"a","ь":"y"},"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","ß":"ss","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"},"da":{"Ø":"OE","ø":"oe","Å":"AA","å":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"større end"},"nb":{"&":"og","Å":"AA","Æ":"AE","Ø":"OE","å":"aa","æ":"ae","ø":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Å":"AA","Ä":"AE","Ö":"OE","å":"aa","ä":"ae","ö":"oe"}}');function n(n,r){if("string"!=typeof n)throw new Error("slugify: string argument expected");var i=t[(r="string"==typeof r?{replacement:r}:r||{}).locale]||{},a=void 0===r.replacement?"-":r.replacement,o=void 0===r.trim||r.trim,s=n.normalize().split("").reduce((function(t,n){var o=i[n]||e[n]||n;return o===a&&(o=" "),t+o.replace(r.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")}),"");return r.strict&&(s=s.replace(/[^A-Za-z0-9\s]/g,"")),o&&(s=s.trim()),s=s.replace(/\s+/g,a),r.lower&&(s=s.toLowerCase()),s}return n.extend=function(t){Object.assign(e,t)},n},e.exports=t(),e.exports.default=t()},9483:function(e,t,n){var r=n(4411),i=n(6330),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not a constructor")}},8523:function(e,t,n){"use strict";var r=n(9662),i=TypeError,a=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new a(e)}},2492:function(e,t,n){var r=n(7854);e.exports=r.Promise},9478:function(e,t,n){var r=n(9670),i=n(111),a=n(8523);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},6707:function(e,t,n){var r=n(9670),i=n(9483),a=n(8554),o=n(5112)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||a(n=r(s)[o])?t:i(n)}},4944:function(e,t,n){"use strict";var r=n(2109),i=n(6790),a=n(7908),o=n(6244),s=n(9303),A=n(5417);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=o(t),r=A(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},3792:function(e,t,n){n(1223)("flat")},5837:function(e,t,n){var r=n(2109),i=n(7854);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},7727:function(e,t,n){"use strict";var r=n(2109),i=n(1913),a=n(2492),o=n(7293),s=n(5005),A=n(614),u=n(6707),l=n(9478),c=n(8052),h=a&&a.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n=A(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!i&&A(a)){var f=s("Promise").prototype.finally;h.finally!==f&&c(h,"finally",f,{unsafe:!0})}},5743:function(e,t,n){n(5837)},3723:function(e,t,n){"use strict";n.d(t,{L:function(){return d},M:function(){return E},P:function(){return I},S:function(){return F},_:function(){return s},a:function(){return o},b:function(){return u},g:function(){return l},h:function(){return A}});var r=n(7294),i=(n(72),n(5697)),a=n.n(i);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}var A=function(){return"undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype};function u(e,t,n,r,i){return void 0===i&&(i={}),o({},n,{loading:r,shouldLoad:e,"data-main-image":"",style:o({},i,{opacity:t?1:0})})}function l(e,t,n,r,i,a,s,A){var u={};a&&(u.backgroundColor=a,"fixed"===n?(u.width=r,u.height=i,u.backgroundColor=a,u.position="relative"):("constrained"===n||"fullWidth"===n)&&(u.position="absolute",u.top=0,u.left=0,u.bottom=0,u.right=0)),s&&(u.objectFit=s),A&&(u.objectPosition=A);var l=o({},e,{"aria-hidden":!0,"data-placeholder-image":"",style:o({opacity:t?0:1,transition:"opacity 500ms linear"},u)});return l}var c,h=["children"],f=function(e){var t=e.layout,n=e.width,i=e.height;return"fullWidth"===t?r.createElement("div",{"aria-hidden":!0,style:{paddingTop:i/n*100+"%"}}):"constrained"===t?r.createElement("div",{style:{maxWidth:n,display:"block"}},r.createElement("img",{alt:"",role:"presentation","aria-hidden":"true",src:"data:image/svg+xml;charset=utf-8,%3Csvg height='"+i+"' width='"+n+"' xmlns='http://www.w3.org/2000/svg' version='1.1'%3E%3C/svg%3E",style:{maxWidth:"100%",display:"block",position:"static"}})):null},d=function(e){var t=e.children,n=s(e,h);return r.createElement(r.Fragment,null,r.createElement(f,o({},n)),t,null)},g=["src","srcSet","loading","alt","shouldLoad"],p=["fallback","sources","shouldLoad"],v=function(e){var t=e.src,n=e.srcSet,i=e.loading,a=e.alt,A=void 0===a?"":a,u=e.shouldLoad,l=s(e,g);return r.createElement("img",o({},l,{decoding:"async",loading:i,src:u?t:void 0,"data-src":u?void 0:t,srcSet:u?n:void 0,"data-srcset":u?void 0:n,alt:A}))},m=function(e){var t=e.fallback,n=e.sources,i=void 0===n?[]:n,a=e.shouldLoad,A=void 0===a||a,u=s(e,p),l=u.sizes||(null==t?void 0:t.sizes),c=r.createElement(v,o({},u,t,{sizes:l,shouldLoad:A}));return i.length?r.createElement("picture",null,i.map((function(e){var t=e.media,n=e.srcSet,i=e.type;return r.createElement("source",{key:t+"-"+i+"-"+n,type:i,media:t,srcSet:A?n:void 0,"data-srcset":A?void 0:n,sizes:l})})),c):c};v.propTypes={src:i.string.isRequired,alt:i.string.isRequired,sizes:i.string,srcSet:i.string,shouldLoad:i.bool},m.displayName="Picture",m.propTypes={alt:i.string.isRequired,shouldLoad:i.bool,fallback:i.exact({src:i.string.isRequired,srcSet:i.string,sizes:i.string}),sources:i.arrayOf(i.oneOfType([i.exact({media:i.string.isRequired,type:i.string,sizes:i.string,srcSet:i.string.isRequired}),i.exact({media:i.string,type:i.string.isRequired,sizes:i.string,srcSet:i.string.isRequired})]))};var y=["fallback"],I=function(e){var t=e.fallback,n=s(e,y);return t?r.createElement(m,o({},n,{fallback:{src:t},"aria-hidden":!0,alt:""})):r.createElement("div",o({},n))};I.displayName="Placeholder",I.propTypes={fallback:i.string,sources:null==(c=m.propTypes)?void 0:c.sources,alt:function(e,t,n){return e[t]?new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Validation failed."):null}};var E=function(e){return r.createElement(r.Fragment,null,r.createElement(m,o({},e)),r.createElement("noscript",null,r.createElement(m,o({},e,{shouldLoad:!0}))))};E.displayName="MainImage",E.propTypes=m.propTypes;var C,w,B=function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return e.alt||""===e.alt?a().string.apply(a(),[e,t,n].concat(i)):new Error('The "alt" prop is required in '+n+'. If the image is purely presentational then pass an empty string: e.g. alt="". Learn more: https://a11y-style-guide.com/style-guide/section-media.html')},b={image:a().object.isRequired,alt:B},Q=["as","image","style","backgroundColor","className","class","onStartLoad","onLoad","onError"],x=["style","className"],S=new Set,k=function(e){var t=e.as,i=void 0===t?"div":t,a=e.image,u=e.style,l=e.backgroundColor,c=e.className,h=e.class,f=e.onStartLoad,d=e.onLoad,g=e.onError,p=s(e,Q),v=a.width,m=a.height,y=a.layout,I=function(e,t,n){var r={},i="gatsby-image-wrapper";return"fixed"===n?(r.width=e,r.height=t):"constrained"===n&&(i="gatsby-image-wrapper gatsby-image-wrapper-constrained"),{className:i,"data-gatsby-image-wrapper":"",style:r}}(v,m,y),E=I.style,B=I.className,b=s(I,x),k=(0,r.useRef)(),R=(0,r.useMemo)((function(){return JSON.stringify(a.images)}),[a.images]);h&&(c=h);var M=function(e,t,n){var r="";return"fullWidth"===e&&(r='<div aria-hidden="true" style="padding-top: '+n/t*100+'%;"></div>'),"constrained"===e&&(r='<div style="max-width: '+t+'px; display: block;"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=\''+n+"' width='"+t+"' xmlns='http://www.w3.org/2000/svg' version='1.1'%3E%3C/svg%3E\" style=\"max-width: 100%; display: block; position: static;\"></div>"),r}(y,v,m);return(0,r.useEffect)((function(){C||(C=Promise.all([n.e(774),n.e(223)]).then(n.bind(n,8223)).then((function(e){var t=e.renderImageToString,n=e.swapPlaceholderImage;return w=t,{renderImageToString:t,swapPlaceholderImage:n}})));var e,t,r=k.current.querySelector("[data-gatsby-image-ssr]");return r&&A()?(r.complete?(null==f||f({wasCached:!0}),null==d||d({wasCached:!0}),setTimeout((function(){r.removeAttribute("data-gatsby-image-ssr")}),0)):(null==f||f({wasCached:!0}),r.addEventListener("load",(function e(){r.removeEventListener("load",e),null==d||d({wasCached:!0}),setTimeout((function(){r.removeAttribute("data-gatsby-image-ssr")}),0)}))),void S.add(R)):w&&S.has(R)?void 0:(C.then((function(n){var r=n.renderImageToString,i=n.swapPlaceholderImage;k.current&&(k.current.innerHTML=r(o({isLoading:!0,isLoaded:S.has(R),image:a},p)),S.has(R)||(e=requestAnimationFrame((function(){k.current&&(t=i(k.current,R,S,u,f,d,g))}))))})),function(){e&&cancelAnimationFrame(e),t&&t()})}),[a]),(0,r.useLayoutEffect)((function(){S.has(R)&&w&&(k.current.innerHTML=w(o({isLoading:S.has(R),isLoaded:S.has(R),image:a},p)),null==f||f({wasCached:!0}),null==d||d({wasCached:!0}))}),[a]),(0,r.createElement)(i,o({},b,{style:o({},E,u,{backgroundColor:l}),className:B+(c?" "+c:""),ref:k,dangerouslySetInnerHTML:{__html:M},suppressHydrationWarning:!0}))},R=(0,r.memo)((function(e){return e.image?(0,r.createElement)(k,e):null}));R.propTypes=b,R.displayName="GatsbyImage";var M=["src","__imageData","__error","width","height","aspectRatio","tracedSVGOptions","placeholder","formats","quality","transformOptions","jpgOptions","pngOptions","webpOptions","avifOptions","blurredOptions","breakpoints","outputPixelDensities"],D=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return"fullWidth"!==e.layout||"width"!==t&&"height"!==t||!e[t]?a().number.apply(a(),[e,t].concat(r)):new Error('"'+t+'" '+e[t]+" may not be passed when layout is fullWidth.")},T=new Set(["fixed","fullWidth","constrained"]),L={src:a().string.isRequired,alt:B,width:D,height:D,sizes:a().string,layout:function(e){if(void 0!==e.layout&&!T.has(e.layout))return new Error("Invalid value "+e.layout+'" provided for prop "layout". Defaulting to "constrained". Valid values are "fixed", "fullWidth" or "constrained".')}},F=function(e){return function(t){var n=t.src,i=t.__imageData,a=t.__error,A=s(t,M);return a&&console.warn(a),i?r.createElement(e,o({image:i},A)):(console.warn("Image not loaded",n),null)}}(R);F.displayName="StaticImage",F.propTypes=L},6753:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7294),i=n(3494).default.div.withConfig({displayName:"styles__Home",componentId:"sc-wbth9u-0"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),a=n(2775),o=function(){return r.createElement(i,null,r.createElement(a.OM,null),r.createElement(a.Bs,null))}},2775:function(e,t,n){"use strict";n.d(t,{Bs:function(){return d},$_:function(){return Ld},h4:function(){return bd},OM:function(){return yd},JL:function(){return Md},pQ:function(){return tp},Ky:function(){return qd},Lu:function(){return Ud}});n(6753);var r=n(7294),i=n(3494),a=n(6350),o=i.default.div.withConfig({displayName:"styles__Blurb",componentId:"sc-idb19s-0"})(["float:center;margin-top:10vh;height:100%;position:relative;align-items:center;padding:100px 0 160px 0;overflow:hidden;display:inline-flex;@media(min-width:","){margin-left:10%;margin-right:10%;}"],a.u3.dW),s=(i.default.h1.withConfig({displayName:"styles__H1",componentId:"sc-idb19s-1"})(["color:",""],a.wL.fL),i.default.p.withConfig({displayName:"styles__P",componentId:"sc-idb19s-2"})(["color:",";font-size:1.2em;"],a.wL.fL),i.default.div.withConfig({displayName:"styles__ContentWrap",componentId:"sc-idb19s-3"})(["display:flex;margin:0 0 70px 0;flex-direction:column-reverse;align-items:center;@media(min-width:","){flex-direction:row;margin:0 0 106px 0;}"],a.u3.dW)),A=i.default.div.withConfig({displayName:"styles__LeftCol",componentId:"sc-idb19s-4"})(["width:66%;flex-shrink:1;float:left;display:block;@media(max-width:","){width:auto;margin-top:0;margin-left:5%;margin-right:5%;flex-shrink:1;}"],a.u3.ai),u=i.default.div.withConfig({displayName:"styles__RightCol",componentId:"sc-idb19s-5"})(["width:33%;flex-shrink:0;float:right;display:flex;@media(max-width:","){width:80vw;margin-top:0;margin-left:5%;margin-right:5%;flex-shrink:1;}"],a.u3.ai),l=n(3723),c=n(9626);function h(e){var t=Object.assign({h1:"h1",p:"p",a:"a",h2:"h2"},(0,c.ah)(),e.components);return r.createElement(r.Fragment,null,r.createElement(t.h1,null,"Hi! I'm Peter"),"\n",r.createElement(t.p,null,"I made this website to show a model of me ",r.createElement(t.a,{href:"https://roblox-bloody-battle.fandom.com/wiki/T-Pose"},"T-Posing")," 👍"),"\n",r.createElement(t.p,null,"I like adding links to trick ",r.createElement(t.a,{href:"https://www.bing.com"},r.createElement("strike",null,"Google")," Bing")," into thinking I have a better website, and adding buzzwords to pad out sentence length."),"\n",r.createElement(t.h2,null,"About Me"),"\n",r.createElement(t.p,null,"I'm a recent graduate from the ",r.createElement(t.a,{href:"https://www.washington.edu/"},"University of Washington")," with a ",r.createElement(t.a,{href:"https://www.cs.washington.edu/academics/ugrad"},"B.S. in Computer Engineering"),", and a new ",r.createElement(t.a,{href:"https://www.coursera.org/articles/software-engineer"},"software engineer")," at ",r.createElement(t.a,{href:"https://www.microsoft.com/en-us/"},"Microsoft")," working on ",r.createElement(t.a,{href:"https://www.bluetooth.com/learn-about-bluetooth/recent-enhancements/le-audio/"},"Bluetooth Audio")," support for the ",r.createElement(t.a,{href:"https://en.wikipedia.org/wiki/Microsoft_Windows"},"Windows")," platform."),"\n",r.createElement(t.p,null,"I enjoy working with ",r.createElement(t.a,{href:"https://www.raspberrypi.com/"},"hardware")," and ",r.createElement(t.a,{href:"https://en.wikipedia.org/wiki/Blue_screen_of_death"},"systems level code"),". I led the ",r.createElement(t.a,{href:"https://uwrov.org/"},"UWROV")," software team for two years, where I transitioned our control system into ",r.createElement(t.a,{href:"http://wiki.ros.org/"},"ROS")," and created a ",r.createElement(t.a,{href:"https://www.docker.com/"},"containerized development environment")," to make ",r.createElement(t.a,{href:"https://coronavirus.wa.gov/"},"asynchronous collaboration")," easier."),"\n",r.createElement(t.p,null,"I'm a ",r.createElement(t.a,{href:"https://cdn.vox-cdn.com/thumbor/RM80m2o4h6iJfeLFVmgQugSwRBw=/0x0:1920x1080/920x613/filters:focal(802x210:1108x516):format(webp)/cdn.vox-cdn.com/uploads/chorus_image/image/57555003/cyborg.0.png"},"technologist at heart"),", and am very excited to see and learn how ",r.createElement(t.a,{href:"https://www.bbc.com/news/world-us-canada-50167812"},"new technologies")," can be used to make our ",r.createElement(t.a,{href:"https://www.stby.eu/wp_15/wp-content/uploads/2016/09/Wall-E-2-fat-humans-1024x426.jpg"},"lives easier"),"."))}var f=function(e){void 0===e&&(e={});var t=Object.assign({},(0,c.ah)(),e.components).wrapper;return t?r.createElement(t,e,r.createElement(h,e)):h(e)},d=function(){return r.createElement(o,null,r.createElement(s,null,r.createElement(A,null,r.createElement(f,null)),r.createElement(u,null,r.createElement(l.S,{src:"../../images/headshot.webp",alt:"Peter Gunarso smiling in front of the Ballard Locks",placeholder:"blurred",layout:"constrained",imgStyle:{borderRadius:"50%"},__imageData:n(904)}))))},g=i.default.div.withConfig({displayName:"styles__ModelViewerContainer",componentId:"sc-nncdsi-0"})(["width:85vw;height:100%;margin-top:10vh;position:sticky;justify-content:center;align-items:center;background-color:",";"],a.wL.fL),p=n(5671),v=n(3144),m=n(1752),y=n(136),I=n(6215),E=n(1120),C=n(4942);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,C.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){return function(t,n){return void 0!==n?function(e,t,n){t.constructor.createProperty(n,e)}(e,t,n):function(e,t){return"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?B(B({},t),{},{finisher:function(n){n.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer:function(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher:function(n){n.createProperty(t.key,e)}}}(e,t)}}var Q,x=n(4687),S=n.n(x);null===(Q=window.HTMLSlotElement)||void 0===Q||Q.prototype.assignedElements;var k=n(3456),R=n(5861),M=n(7326),D=n(2982),T=n(2407);n(4944),n(3792);function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _,U=window,O=U.ShadowRoot&&(void 0===U.ShadyCSS||U.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,P=Symbol(),G=new WeakMap,N=function(){function e(t,n,r){if((0,p.Z)(this,e),this._$cssResult$=!0,r!==P)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}return(0,v.Z)(e,[{key:"styleSheet",get:function(){var e=this.o,t=this.t;if(O&&void 0===e){var n=void 0!==t&&1===t.length;n&&(e=G.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&G.set(t,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),e}(),Z=O?function(e){return e}:function(e){return e instanceof CSSStyleSheet?function(e){var t,n="",r=L(e.cssRules);try{for(r.s();!(t=r.n()).done;){n+=t.value.cssText}}catch(i){r.e(i)}finally{r.f()}return function(e){return new N("string"==typeof e?e:e+"",void 0,P)}(n)}(e):e};function H(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var K=window,J=K.trustedTypes,V=J?J.emptyScript:"",z=K.reactiveElementPolyfillSupport,Y={toAttribute:function(e,t){switch(t){case Boolean:e=e?V:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute:function(e,t){var n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},W=function(e,t){return t!==e&&(t==t||e==e)},X={attribute:!0,type:String,converter:Y,reflect:!1,hasChanged:W},$=function(e){(0,y.Z)(r,e);var t,n=q(r);function r(){var e;return(0,p.Z)(this,r),(e=n.call(this))._$Ei=new Map,e.isUpdatePending=!1,e.hasUpdated=!1,e._$El=null,e.u(),e}return(0,v.Z)(r,[{key:"u",value:function(){var e,t=this;this._$E_=new Promise((function(e){return t.enableUpdating=e})),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((function(e){return e(t)}))}},{key:"addController",value:function(e){var t,n;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(n=e.hostConnected)||void 0===n||n.call(e))}},{key:"removeController",value:function(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}},{key:"_$Eg",value:function(){var e=this;this.constructor.elementProperties.forEach((function(t,n){e.hasOwnProperty(n)&&(e._$Ei.set(n,e[n]),delete e[n])}))}},{key:"createRenderRoot",value:function(){var e,t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return function(e,t){O?e.adoptedStyleSheets=t.map((function(e){return e instanceof CSSStyleSheet?e:e.styleSheet})):t.forEach((function(t){var n=document.createElement("style"),r=U.litNonce;void 0!==r&&n.setAttribute("nonce",r),n.textContent=t.cssText,e.appendChild(n)}))}(t,this.constructor.elementStyles),t}},{key:"connectedCallback",value:function(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((function(e){var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}},{key:"enableUpdating",value:function(e){}},{key:"disconnectedCallback",value:function(){var e;null===(e=this._$ES)||void 0===e||e.forEach((function(e){var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}},{key:"attributeChangedCallback",value:function(e,t,n){this._$AK(e,n)}},{key:"_$EO",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X,i=this.constructor._$Ep(e,r);if(void 0!==i&&!0===r.reflect){var a=(void 0!==(null===(n=r.converter)||void 0===n?void 0:n.toAttribute)?r.converter:Y).toAttribute(t,r.type);this._$El=e,null==a?this.removeAttribute(i):this.setAttribute(i,a),this._$El=null}}},{key:"_$AK",value:function(e,t){var n,r=this.constructor,i=r._$Ev.get(e);if(void 0!==i&&this._$El!==i){var a=r.getPropertyOptions(i),o="function"==typeof a.converter?{fromAttribute:a.converter}:void 0!==(null===(n=a.converter)||void 0===n?void 0:n.fromAttribute)?a.converter:Y;this._$El=i,this[i]=o.fromAttribute(t,a.type),this._$El=null}}},{key:"requestUpdate",value:function(e,t,n){var r=!0;void 0!==e&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||W)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,n))):r=!1),!this.isUpdatePending&&r&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(t=(0,R.Z)(S().mark((function e(){var t;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isUpdatePending=!0,e.prev=1,e.next=4,this._$E_;case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Promise.reject(e.t0);case 9:if(t=this.scheduleUpdate(),e.t1=null!=t,!e.t1){e.next=14;break}return e.next=14,t;case 14:return e.abrupt("return",!this.isUpdatePending);case 15:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return t.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var e,t=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach((function(e,n){return t[n]=e})),this._$Ei=void 0);var n=!1,r=this._$AL;try{(n=this.shouldUpdate(r))?(this.willUpdate(r),null===(e=this._$ES)||void 0===e||e.forEach((function(e){var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(r)):this._$Ek()}catch(e){throw n=!1,this._$Ek(),e}n&&this._$AE(r)}}},{key:"willUpdate",value:function(e){}},{key:"_$AE",value:function(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((function(e){var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(e){return!0}},{key:"update",value:function(e){var t=this;void 0!==this._$EC&&(this._$EC.forEach((function(e,n){return t._$EO(n,t[n],e)})),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(e){}},{key:"firstUpdated",value:function(e){}}],[{key:"addInitializer",value:function(e){var t;null!==(t=this.h)&&void 0!==t||(this.h=[]),this.h.push(e)}},{key:"observedAttributes",get:function(){var e=this;this.finalize();var t=[];return this.elementProperties.forEach((function(n,r){var i=e._$Ep(r,n);void 0!==i&&(e._$Ev.set(i,r),t.push(i))})),t}},{key:"createProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var n="symbol"==typeof e?Symbol():"__"+e,r=this.getPropertyDescriptor(e,n,t);void 0!==r&&Object.defineProperty(this.prototype,e,r)}}},{key:"getPropertyDescriptor",value:function(e,t,n){return{get:function(){return this[t]},set:function(r){var i=this[e];this[t]=r,this.requestUpdate(e,i,n)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(e){return this.elementProperties.get(e)||X}},{key:"finalize",value:function(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var t,n=this.properties,r=H([].concat((0,D.Z)(Object.getOwnPropertyNames(n)),(0,D.Z)(Object.getOwnPropertySymbols(n))));try{for(r.s();!(t=r.n()).done;){var i=t.value;this.createProperty(i,n[i])}}catch(a){r.e(a)}finally{r.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(e){var t=[];if(Array.isArray(e)){var n,r=H(new Set(e.flat(1/0).reverse()));try{for(r.s();!(n=r.n()).done;){var i=n.value;t.unshift(Z(i))}}catch(a){r.e(a)}finally{r.f()}}else void 0!==e&&t.push(Z(e));return t}},{key:"_$Ep",value:function(e,t){var n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}}]),r}((0,T.Z)(HTMLElement));$.finalized=!0,$.elementProperties=new Map,$.elementStyles=[],$.shadowRootOptions={mode:"open"},null==z||z({ReactiveElement:$}),(null!==(_=K.reactiveElementVersions)&&void 0!==_?_:K.reactiveElementVersions=[]).push("1.4.1");var ee,te=n(885);function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}function re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ae=window,oe=ae.trustedTypes,se=oe?oe.createPolicy("lit-html",{createHTML:function(e){return e}}):void 0,Ae="lit$".concat((Math.random()+"").slice(9),"$"),ue="?"+Ae,le="<".concat(ue,">"),ce=document,he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ce.createComment(e)},fe=function(e){return null===e||"object"!=typeof e&&"function"!=typeof e},de=Array.isArray,ge=function(e){return de(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator])},pe=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ve=/-->/g,me=/>/g,ye=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),Ie=/'/g,Ee=/"/g,Ce=/^(?:script|style|textarea|title)$/i,we=function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return{_$litType$:e,strings:t,values:r}}},Be=we(1),be=(we(2),Symbol.for("lit-noChange")),Qe=Symbol.for("lit-nothing"),xe=new WeakMap,Se=ce.createTreeWalker(ce,129,null,!1),ke=function(e,t){for(var n,r=e.length-1,i=[],a=2===t?"<svg>":"",o=pe,s=0;s<r;s++){for(var A=e[s],u=void 0,l=void 0,c=-1,h=0;h<A.length&&(o.lastIndex=h,null!==(l=o.exec(A)));)h=o.lastIndex,o===pe?"!--"===l[1]?o=ve:void 0!==l[1]?o=me:void 0!==l[2]?(Ce.test(l[2])&&(n=RegExp("</"+l[2],"g")),o=ye):void 0!==l[3]&&(o=ye):o===ye?">"===l[0]?(o=null!=n?n:pe,c=-1):void 0===l[1]?c=-2:(c=o.lastIndex-l[2].length,u=l[1],o=void 0===l[3]?ye:'"'===l[3]?Ee:Ie):o===Ee||o===Ie?o=ye:o===ve||o===me?o=pe:(o=ye,n=void 0);var f=o===ye&&e[s+1].startsWith("/>")?" ":"";a+=o===pe?A+le:c>=0?(i.push(u),A.slice(0,c)+"$lit$"+A.slice(c)+Ae+f):A+Ae+(-2===c?(i.push(void 0),s):f)}var d=a+(e[r]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==se?se.createHTML(d):d,i]},Re=function(){function e(t,n){var r,i=t.strings,a=t._$litType$;(0,p.Z)(this,e),this.parts=[];var o=0,s=0,A=i.length-1,u=this.parts,l=ke(i,a),c=(0,te.Z)(l,2),h=c[0],f=c[1];if(this.el=e.createElement(h,n),Se.currentNode=this.el.content,2===a){var d=this.el.content,g=d.firstChild;g.remove(),d.append.apply(d,(0,D.Z)(g.childNodes))}for(;null!==(r=Se.nextNode())&&u.length<A;){if(1===r.nodeType){if(r.hasAttributes()){var v,m=[],y=re(r.getAttributeNames());try{for(y.s();!(v=y.n()).done;){var I=v.value;if(I.endsWith("$lit$")||I.startsWith(Ae)){var E=f[s++];if(m.push(I),void 0!==E){var C=r.getAttribute(E.toLowerCase()+"$lit$").split(Ae),w=/([.?@])?(.*)/.exec(E);u.push({type:1,index:o,name:w[2],strings:C,ctor:"."===w[1]?Fe:"?"===w[1]?Ue:"@"===w[1]?Oe:Le})}else u.push({type:6,index:o})}}}catch(M){y.e(M)}finally{y.f()}for(var B=0,b=m;B<b.length;B++){var Q=b[B];r.removeAttribute(Q)}}if(Ce.test(r.tagName)){var x=r.textContent.split(Ae),S=x.length-1;if(S>0){r.textContent=oe?oe.emptyScript:"";for(var k=0;k<S;k++)r.append(x[k],he()),Se.nextNode(),u.push({type:2,index:++o});r.append(x[S],he())}}}else if(8===r.nodeType)if(r.data===ue)u.push({type:2,index:o});else for(var R=-1;-1!==(R=r.data.indexOf(Ae,R+1));)u.push({type:7,index:o}),R+=Ae.length-1;o++}}return(0,v.Z)(e,null,[{key:"createElement",value:function(e,t){var n=ce.createElement("template");return n.innerHTML=e,n}}]),e}();function Me(e,t){var n,r,i,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,s=arguments.length>3?arguments[3]:void 0;if(t===be)return t;var A=void 0!==s?null===(n=o._$Co)||void 0===n?void 0:n[s]:o._$Cl,u=fe(t)?void 0:t._$litDirective$;return(null==A?void 0:A.constructor)!==u&&(null===(r=null==A?void 0:A._$AO)||void 0===r||r.call(A,!1),void 0===u?A=void 0:(A=new u(e))._$AT(e,o,s),void 0!==s?(null!==(i=(a=o)._$Co)&&void 0!==i?i:a._$Co=[])[s]=A:o._$Cl=A),void 0!==A&&(t=Me(e,A._$AS(e,t.values),A,s)),t}var De=function(){function e(t,n){(0,p.Z)(this,e),this.u=[],this._$AN=void 0,this._$AD=t,this._$AM=n}return(0,v.Z)(e,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"v",value:function(e){var t,n=this._$AD,r=n.el.content,i=n.parts,a=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:ce).importNode(r,!0);Se.currentNode=a;for(var o=Se.nextNode(),s=0,A=0,u=i[0];void 0!==u;){if(s===u.index){var l=void 0;2===u.type?l=new Te(o,o.nextSibling,this,e):1===u.type?l=new u.ctor(o,u.name,u.strings,this,e):6===u.type&&(l=new Pe(o,this,e)),this.u.push(l),u=i[++A]}s!==(null==u?void 0:u.index)&&(o=Se.nextNode(),s++)}return a}},{key:"p",value:function(e){var t,n=0,r=re(this.u);try{for(r.s();!(t=r.n()).done;){var i=t.value;void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,n),n+=i.strings.length-2):i._$AI(e[n])),n++}}catch(a){r.e(a)}finally{r.f()}}}]),e}(),Te=function(){function e(t,n,r,i){var a;(0,p.Z)(this,e),this.type=2,this._$AH=Qe,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cm=null===(a=null==i?void 0:i.isConnected)||void 0===a||a}return(0,v.Z)(e,[{key:"_$AU",get:function(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cm}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e=Me(this,e,t),fe(e)?e===Qe||null==e||""===e?(this._$AH!==Qe&&this._$AR(),this._$AH=Qe):e!==this._$AH&&e!==be&&this.g(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):ge(e)?this.k(e):this.g(e)}},{key:"O",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(e,t)}},{key:"T",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}},{key:"g",value:function(e){this._$AH!==Qe&&fe(this._$AH)?this._$AA.nextSibling.data=e:this.T(ce.createTextNode(e)),this._$AH=e}},{key:"$",value:function(e){var t,n=e.values,r=e._$litType$,i="number"==typeof r?this._$AC(e):(void 0===r.el&&(r.el=Re.createElement(r.h,this.options)),r);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===i)this._$AH.p(n);else{var a=new De(i,this),o=a.v(this.options);a.p(n),this.T(o),this._$AH=a}}},{key:"_$AC",value:function(e){var t=xe.get(e.strings);return void 0===t&&xe.set(e.strings,t=new Re(e)),t}},{key:"k",value:function(t){de(this._$AH)||(this._$AH=[],this._$AR());var n,r,i=this._$AH,a=0,o=re(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;a===i.length?i.push(n=new e(this.O(he()),this.O(he()),this,this.options)):n=i[a],n._$AI(s),a++}}catch(A){o.e(A)}finally{o.f()}a<i.length&&(this._$AR(n&&n._$AB.nextSibling,a),i.length=a)}},{key:"_$AR",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0;for(null===(e=this._$AP)||void 0===e||e.call(this,!1,!0,n);t&&t!==this._$AB;){var r=t.nextSibling;t.remove(),t=r}}},{key:"setConnected",value:function(e){var t;void 0===this._$AM&&(this._$Cm=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}]),e}(),Le=function(){function e(t,n,r,i,a){(0,p.Z)(this,e),this.type=1,this._$AH=Qe,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=a,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Qe}return(0,v.Z)(e,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=this.strings,a=!1;if(void 0===i)e=Me(this,e,t,0),(a=!fe(e)||e!==this._$AH&&e!==be)&&(this._$AH=e);else{var o,s,A=e;for(e=i[0],o=0;o<i.length-1;o++)(s=Me(this,A[n+o],t,o))===be&&(s=this._$AH[o]),a||(a=!fe(s)||s!==this._$AH[o]),s===Qe?e=Qe:e!==Qe&&(e+=(null!=s?s:"")+i[o+1]),this._$AH[o]=s}a&&!r&&this.j(e)}},{key:"j",value:function(e){e===Qe?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}]),e}(),Fe=function(e){(0,y.Z)(n,e);var t=ne(n);function n(){var e;return(0,p.Z)(this,n),(e=t.apply(this,arguments)).type=3,e}return(0,v.Z)(n,[{key:"j",value:function(e){this.element[this.name]=e===Qe?void 0:e}}]),n}(Le),_e=oe?oe.emptyScript:"",Ue=function(e){(0,y.Z)(n,e);var t=ne(n);function n(){var e;return(0,p.Z)(this,n),(e=t.apply(this,arguments)).type=4,e}return(0,v.Z)(n,[{key:"j",value:function(e){e&&e!==Qe?this.element.setAttribute(this.name,_e):this.element.removeAttribute(this.name)}}]),n}(Le),Oe=function(e){(0,y.Z)(n,e);var t=ne(n);function n(e,r,i,a,o){var s;return(0,p.Z)(this,n),(s=t.call(this,e,r,i,a,o)).type=5,s}return(0,v.Z)(n,[{key:"_$AI",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if((e=null!==(t=Me(this,e,n,0))&&void 0!==t?t:Qe)!==be){var r=this._$AH,i=e===Qe&&r!==Qe||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,a=e!==Qe&&(r===Qe||i);i&&this.element.removeEventListener(this.name,this,r),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}}},{key:"handleEvent",value:function(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==n?n:this.element,e):this._$AH.handleEvent(e)}}]),n}(Le),Pe=function(){function e(t,n,r){(0,p.Z)(this,e),this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}return(0,v.Z)(e,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Me(this,e)}}]),e}(),Ge=ae.litHtmlPolyfillSupport;null==Ge||Ge(Re,Te),(null!==(ee=ae.litHtmlVersions)&&void 0!==ee?ee:ae.litHtmlVersions=[]).push("2.4.0");var Ne,Ze,He=function(e,t,n){var r,i,a=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:t,o=a._$litPart$;if(void 0===o){var s=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:null;a._$litPart$=o=new Te(t.insertBefore(he(),s),s,void 0,null!=n?n:{})}return o._$AI(e),o};n(5743);function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var qe=function(e){(0,y.Z)(n,e);var t=je(n);function n(){var e;return(0,p.Z)(this,n),(e=t.apply(this,arguments)).renderOptions={host:(0,M.Z)(e)},e._$Do=void 0,e}return(0,v.Z)(n,[{key:"createRenderRoot",value:function(){var e,t,r=(0,m.Z)((0,E.Z)(n.prototype),"createRenderRoot",this).call(this);return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=r.firstChild),r}},{key:"update",value:function(e){var t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),(0,m.Z)((0,E.Z)(n.prototype),"update",this).call(this,e),this._$Do=He(t,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var e;(0,m.Z)((0,E.Z)(n.prototype),"connectedCallback",this).call(this),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var e;(0,m.Z)((0,E.Z)(n.prototype),"disconnectedCallback",this).call(this),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}},{key:"render",value:function(){return be}}]),n}($);qe.finalized=!0,qe._$litElement$=!0,null===(Ne=globalThis.litElementHydrateSupport)||void 0===Ne||Ne.call(globalThis,{LitElement:qe});var Ke=globalThis.litElementPolyfillSupport;null==Ke||Ke({LitElement:qe});(null!==(Ze=globalThis.litElementVersions)&&void 0!==Ze?Ze:globalThis.litElementVersions=[]).push("3.2.2");var Je,Ve,ze=null!=navigator.xr&&null!=self.XRSession&&null!=navigator.xr.isSessionSupported,Ye=ze&&null!=self.XRSession.prototype.requestHitTestSource,We=null!=self.ResizeObserver,Xe=null!=self.IntersectionObserver,$e=Ye,et=(Je=navigator.userAgent||navigator.vendor||self.opera,Ve=!1,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(Je)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(Je.substr(0,4)))&&(Ve=!0),/\bCrOS\b/.test(navigator.userAgent),/android/i.test(navigator.userAgent)),tt=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!self.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,nt=(/Safari\//.test(navigator.userAgent),/firefox/i.test(navigator.userAgent)),rt=/OculusBrowser/.test(navigator.userAgent),it=(tt&&/CriOS\//.test(navigator.userAgent),et&&!nt&&!rt),at=Boolean(window.webkit&&window.webkit.messageHandlers),ot=function(){if(tt){if(at)return Boolean(/CriOS\/|EdgiOS\/|FxiOS\/|GSA\/|DuckDuckGo\//.test(navigator.userAgent));var e=document.createElement("a");return Boolean(e.relList&&e.relList.supports&&e.relList.supports("ar"))}return!1}();function st(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return At(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ut,lt,ct=function(e){return e&&"null"!==e?ft(e):null},ht=function(){if(!$e){var e=[];throw ze||e.push("WebXR Device API"),Ye||e.push("WebXR Hit Test API"),new Error("The following APIs are required for AR, but are missing in this browser: ".concat(e.join(", ")))}},ft=function(e){return new URL(e,window.location.toString()).toString()},dt=function(e,t){var n=null,r=function(){null==n&&(e.apply(void 0,arguments),n=self.setTimeout((function(){return n=null}),t))};return r.flush=function(){null!=n&&(self.clearTimeout(n),n=null)},r},gt=function(e,t){var n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];null!=n&&self.clearTimeout(n),n=self.setTimeout((function(){n=null,e.apply(void 0,i)}),t)}},pt=function(e,t,n){return Math.max(t,Math.min(n,e))},vt=(ut=function(){var e;if(null===(e=document.documentElement.getAttribute("itemtype"))||void 0===e?void 0:e.includes("schema.org/SearchResultsPage"))return!0;var t,n=st(null!=document.head?Array.from(document.head.querySelectorAll("meta")):[]);try{for(n.s();!(t=n.n()).done;)if("viewport"===t.value.name)return!0}catch(r){n.e(r)}finally{n.f()}return!1}(),ut||console.warn('No <meta name="viewport"> detected; <model-viewer> will cap pixel density at 1.'),function(){return ut?window.devicePixelRatio:1}),mt=(lt=new RegExp("[?&]".concat("model-viewer-debug-mode","(&|$)")),function(){return self.ModelViewerElement&&self.ModelViewerElement.debugMode||self.location&&self.location.search&&self.location.search.match(lt)}),yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))},It=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(r){e.addEventListener(t,(function i(a){n&&!n(a)||(r(a),e.removeEventListener(t,i))}))}))};function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var Ct,wt=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Bt=Symbol("currentEnvironmentMap"),bt=Symbol("currentBackground"),Qt=Symbol("updateEnvironment"),xt=Symbol("cancelEnvironmentUpdate");function St(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kt,Rt,Mt,Dt=Be(Ct||(Ct=St(['\n<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000">\n    \x3c!-- NOTE(cdata): This SVG filter is a stop-gap until we can implement\n         support for dynamic re-coloring of UI components --\x3e\n    <defs>\n      <filter id="drop-shadow" x="-100%" y="-100%" width="300%" height="300%">\n        <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>\n        <feOffset dx="0" dy="0" result="offsetblur"/>\n        <feFlood flood-color="#000000"/>\n        <feComposite in2="offsetblur" operator="in"/>\n        <feMerge>\n          <feMergeNode/>\n          <feMergeNode in="SourceGraphic"/>\n        </feMerge>\n      </filter>\n    </defs>\n    <path filter="url(#drop-shadow)" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>']))),Tt=Be(kt||(kt=St(['\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="36">\n    <defs>\n        <path id="A" d="M.001.232h24.997V36H.001z" />\n    </defs>\n    <g transform="translate(-11 -4)" fill="none" fill-rule="evenodd">\n        <path fill-opacity="0" fill="#fff" d="M0 0h44v44H0z" />\n        <g transform="translate(11 3)">\n            <path d="M8.733 11.165c.04-1.108.766-2.027 1.743-2.307a2.54 2.54 0 0 1 .628-.089c.16 0 .314.017.463.044 1.088.2 1.9 1.092 1.9 2.16v8.88h1.26c2.943-1.39 5-4.45 5-8.025a9.01 9.01 0 0 0-1.9-5.56l-.43-.5c-.765-.838-1.683-1.522-2.712-2-1.057-.49-2.226-.77-3.46-.77s-2.4.278-3.46.77c-1.03.478-1.947 1.162-2.71 2l-.43.5a9.01 9.01 0 0 0-1.9 5.56 9.04 9.04 0 0 0 .094 1.305c.03.21.088.41.13.617l.136.624c.083.286.196.56.305.832l.124.333a8.78 8.78 0 0 0 .509.953l.065.122a8.69 8.69 0 0 0 3.521 3.191l1.11.537v-9.178z" fill-opacity=".5" fill="#e4e4e4" />\n            <path d="M22.94 26.218l-2.76 7.74c-.172.485-.676.8-1.253.8H12.24c-1.606 0-3.092-.68-3.98-1.82-1.592-2.048-3.647-3.822-6.11-5.27-.095-.055-.15-.137-.152-.23-.004-.1.046-.196.193-.297.56-.393 1.234-.6 1.926-.6a3.43 3.43 0 0 1 .691.069l4.922.994V10.972c0-.663.615-1.203 1.37-1.203s1.373.54 1.373 1.203v9.882h2.953c.273 0 .533.073.757.21l6.257 3.874c.027.017.045.042.07.06.41.296.586.77.426 1.22M4.1 16.614c-.024-.04-.042-.083-.065-.122a8.69 8.69 0 0 1-.509-.953c-.048-.107-.08-.223-.124-.333l-.305-.832c-.058-.202-.09-.416-.136-.624l-.13-.617a9.03 9.03 0 0 1-.094-1.305c0-2.107.714-4.04 1.9-5.56l.43-.5c.764-.84 1.682-1.523 2.71-2 1.058-.49 2.226-.77 3.46-.77s2.402.28 3.46.77c1.03.477 1.947 1.16 2.712 2l.428.5a9 9 0 0 1 1.901 5.559c0 3.577-2.056 6.636-5 8.026h-1.26v-8.882c0-1.067-.822-1.96-1.9-2.16-.15-.028-.304-.044-.463-.044-.22 0-.427.037-.628.09-.977.28-1.703 1.198-1.743 2.306v9.178l-1.11-.537C6.18 19.098 4.96 18 4.1 16.614M22.97 24.09l-6.256-3.874c-.102-.063-.218-.098-.33-.144 2.683-1.8 4.354-4.855 4.354-8.243 0-.486-.037-.964-.104-1.43a9.97 9.97 0 0 0-1.57-4.128l-.295-.408-.066-.092a10.05 10.05 0 0 0-.949-1.078c-.342-.334-.708-.643-1.094-.922-1.155-.834-2.492-1.412-3.94-1.65l-.732-.088-.748-.03a9.29 9.29 0 0 0-1.482.119c-1.447.238-2.786.816-3.94 1.65a9.33 9.33 0 0 0-.813.686 9.59 9.59 0 0 0-.845.877l-.385.437-.36.5-.288.468-.418.778-.04.09c-.593 1.28-.93 2.71-.93 4.222 0 3.832 2.182 7.342 5.56 8.938l1.437.68v4.946L5 25.64a4.44 4.44 0 0 0-.888-.086c-.017 0-.034.003-.05.003-.252.004-.503.033-.75.08a5.08 5.08 0 0 0-.237.056c-.193.046-.382.107-.568.18-.075.03-.15.057-.225.1-.25.114-.494.244-.723.405a1.31 1.31 0 0 0-.566 1.122 1.28 1.28 0 0 0 .645 1.051C4 29.925 5.96 31.614 7.473 33.563a5.06 5.06 0 0 0 .434.491c1.086 1.082 2.656 1.713 4.326 1.715h6.697c.748-.001 1.43-.333 1.858-.872.142-.18.256-.38.336-.602l2.757-7.74c.094-.26.13-.53.112-.794s-.088-.52-.203-.76a2.19 2.19 0 0 0-.821-.91" fill-opacity=".6" fill="#000" />\n            <path d="M22.444 24.94l-6.257-3.874a1.45 1.45 0 0 0-.757-.211h-2.953v-9.88c0-.663-.616-1.203-1.373-1.203s-1.37.54-1.37 1.203v16.643l-4.922-.994a3.44 3.44 0 0 0-.692-.069 3.35 3.35 0 0 0-1.925.598c-.147.102-.198.198-.194.298.004.094.058.176.153.23 2.462 1.448 4.517 3.22 6.11 5.27.887 1.14 2.373 1.82 3.98 1.82h6.686c.577 0 1.08-.326 1.253-.8l2.76-7.74c.16-.448-.017-.923-.426-1.22-.025-.02-.043-.043-.07-.06z" fill="#fff" />\n            <g transform="translate(0 .769)">\n                <mask id="B" fill="#fff">\n                    <use xlink:href="#A" />\n                </mask>\n                <path d="M23.993 24.992a1.96 1.96 0 0 1-.111.794l-2.758 7.74c-.08.22-.194.423-.336.602-.427.54-1.11.87-1.857.872h-6.698c-1.67-.002-3.24-.633-4.326-1.715-.154-.154-.3-.318-.434-.49C5.96 30.846 4 29.157 1.646 27.773c-.385-.225-.626-.618-.645-1.05a1.31 1.31 0 0 1 .566-1.122 4.56 4.56 0 0 1 .723-.405l.225-.1a4.3 4.3 0 0 1 .568-.18l.237-.056c.248-.046.5-.075.75-.08.018 0 .034-.003.05-.003.303-.001.597.027.89.086l3.722.752V20.68l-1.436-.68c-3.377-1.596-5.56-5.106-5.56-8.938 0-1.51.336-2.94.93-4.222.015-.03.025-.06.04-.09.127-.267.268-.525.418-.778.093-.16.186-.316.288-.468.063-.095.133-.186.2-.277L3.773 5c.118-.155.26-.29.385-.437.266-.3.544-.604.845-.877a9.33 9.33 0 0 1 .813-.686C6.97 2.167 8.31 1.59 9.757 1.35a9.27 9.27 0 0 1 1.481-.119 8.82 8.82 0 0 1 .748.031c.247.02.49.05.733.088 1.448.238 2.786.816 3.94 1.65.387.28.752.588 1.094.922a9.94 9.94 0 0 1 .949 1.078l.066.092c.102.133.203.268.295.408a9.97 9.97 0 0 1 1.571 4.128c.066.467.103.945.103 1.43 0 3.388-1.67 6.453-4.353 8.243.11.046.227.08.33.144l6.256 3.874c.37.23.645.55.82.9.115.24.185.498.203.76m.697-1.195c-.265-.55-.677-1.007-1.194-1.326l-5.323-3.297c2.255-2.037 3.564-4.97 3.564-8.114 0-2.19-.637-4.304-1.84-6.114-.126-.188-.26-.37-.4-.552-.645-.848-1.402-1.6-2.252-2.204C15.472.91 13.393.232 11.238.232A10.21 10.21 0 0 0 5.23 2.19c-.848.614-1.606 1.356-2.253 2.205-.136.18-.272.363-.398.55C1.374 6.756.737 8.87.737 11.06c0 4.218 2.407 8.08 6.133 9.842l.863.41v3.092l-2.525-.51c-.356-.07-.717-.106-1.076-.106a5.45 5.45 0 0 0-3.14.996c-.653.46-1.022 1.202-.99 1.983a2.28 2.28 0 0 0 1.138 1.872c2.24 1.318 4.106 2.923 5.543 4.772 1.26 1.62 3.333 2.59 5.55 2.592h6.698c1.42-.001 2.68-.86 3.134-2.138l2.76-7.74c.272-.757.224-1.584-.134-2.325" fill-opacity=".05" fill="#000" mask="url(#B)" />\n            </g>\n        </g>\n    </g>\n</svg>']))),Lt=Be(Rt||(Rt=St(['\n<svg version="1.1" id="view_x5F_in_x5F_AR_x5F_icon"\n\t xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px"\n\t viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">\n<rect id="Bounding_Box" x="0" y="0" fill="none" width="24" height="24"/>\n<g id="Art_layer">\n\t<path d="M3,4c0-0.55,0.45-1,1-1h2V1H4C2.35,1,1,2.35,1,4v2h2V4z"/>\n\t<path d="M20,3c0.55,0,1,0.45,1,1v2h2V4c0-1.65-1.35-3-3-3h-2v2H20z"/>\n\t<path d="M4,21c-0.55,0-1-0.45-1-1v-2H1v2c0,1.65,1.35,3,3,3h2v-2H4z"/>\n\t<path d="M20,21c0.55,0,1-0.45,1-1v-2h2v2c0,1.65-1.35,3-3,3h-2v-2H20z"/>\n\t<g>\n\t\t<path d="M18.25,7.6l-5.5-3.18c-0.46-0.27-1.04-0.27-1.5,0L5.75,7.6C5.29,7.87,5,8.36,5,8.9v6.35c0,0.54,0.29,1.03,0.75,1.3\n\t\t\tl5.5,3.18c0.46,0.27,1.04,0.27,1.5,0l5.5-3.18c0.46-0.27,0.75-0.76,0.75-1.3V8.9C19,8.36,18.71,7.87,18.25,7.6z M7,14.96v-4.62\n\t\t\tl4,2.32v4.61L7,14.96z M12,10.93L8,8.61l4-2.31l4,2.31L12,10.93z M13,17.27v-4.61l4-2.32v4.62L13,17.27z"/>\n\t</g>\n</g>\n</svg>']))),Ft=Be(Mt||(Mt=St(['\n<style>\n:host {\n  display: block;\n  position: relative;\n  contain: strict;\n  width: 300px;\n  height: 150px;\n}\n\n/* NOTE: This rule set is our integration surface area with the\n * :focus-visible polyfill.\n *\n * @see https://github.com/WICG/focus-visible/pull/196 */\n:host([data-js-focus-visible]:focus:not(.focus-visible)),\n:host([data-js-focus-visible]) :focus:not(.focus-visible) {\n  outline: none;\n}\n\n.container {\n  position: relative;\n  overflow: hidden;\n}\n\n.userInput {\n  width: 100%;\n  height: 100%;\n  display: none;\n  position: relative;\n}\n\ncanvas {\n  position: absolute;\n  display: none;\n  pointer-events: none;\n  /* NOTE(cdata): Chrome 76 and below apparently have a bug\n   * that causes our canvas not to display pixels unless it is\n   * on its own render layer\n   * @see https://github.com/google/model-viewer/pull/755#issuecomment-536597893\n   */\n  transform: translateZ(0);\n}\n\n.show {\n  display: block;\n}\n\n/* Adapted from HTML5 Boilerplate\n *\n * @see https://github.com/h5bp/html5-boilerplate/blob/ceb4620c78fc82e13534fc44202a3f168754873f/dist/css/main.css#L122-L133 */\n.screen-reader-only {\n  border: 0;\n  left: 0;\n  top: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n  pointer-events: none;\n}\n\n.slot {\n  position: absolute;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.slot > * {\n  pointer-events: initial;\n}\n\n.annotation-wrapper ::slotted(*) {\n  opacity: var(--max-hotspot-opacity, 1);\n  transition: opacity 0.3s;\n}\n\n.pointer-tumbling .annotation-wrapper ::slotted(*) {\n  pointer-events: none;\n}\n\n.annotation-wrapper ::slotted(*) {\n  pointer-events: initial;\n}\n\n.annotation-wrapper.hide ::slotted(*) {\n  opacity: var(--min-hotspot-opacity, 0.25);\n}\n\n.slot.poster {\n  display: none;\n  background-color: inherit;\n}\n\n.slot.poster.show {\n  display: inherit;\n}\n\n.slot.poster > * {\n  pointer-events: initial;\n}\n\n.slot.poster:not(.show) > * {\n  pointer-events: none;\n}\n\n#default-poster {\n  width: 100%;\n  height: 100%;\n  /* The default poster is a <button> so we need to set display\n   * to prevent it from being affected by text-align: */\n  display: block;\n  position: absolute;\n  border: none;\n  padding: 0;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: #fff0;\n}\n\n#default-progress-bar {\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  overflow: hidden;\n}\n\n#default-progress-bar > .bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--progress-bar-height, 5px);\n  background-color: var(--progress-bar-color, rgba(0, 0, 0, 0.4));\n  transition: transform 0.09s;\n  transform-origin: top left;\n  transform: scaleX(0);\n  overflow: hidden;\n}\n\n#default-progress-bar > .bar.hide {\n  transition: opacity 0.3s 1s;\n  opacity: 0;\n}\n\n.centered {\n  align-items: center;\n  justify-content: center;\n}\n\n.cover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n\n.slot.interaction-prompt {\n  display: var(--interaction-prompt-display, flex);\n  overflow: hidden;\n  opacity: 0;\n  will-change: opacity;\n  transition: opacity 0.3s;\n}\n\n.slot.interaction-prompt.visible {\n  opacity: 1;\n}\n\n.animated-container {\n  will-change: transform, opacity;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n.slot.interaction-prompt > * {\n  pointer-events: none;\n}\n\n.slot.ar-button {\n  -moz-user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  user-select: none;\n\n  display: var(--ar-button-display, block);\n}\n\n.slot.ar-button:not(.enabled) {\n  display: none;\n}\n\n.fab {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  background-color: #fff;\n  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.15);\n  border-radius: 100px;\n}\n\n.fab > * {\n  opacity: 0.87;\n}\n\n#default-ar-button {\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  transform: scale(var(--ar-button-scale, 1));\n  transform-origin: bottom right;\n}\n\n.slot.pan-target {\n  display: block;\n  position: absolute;\n  width: 0;\n  height: 0;\n  left: 50%;\n  top: 50%;\n  transform: translate3d(-50%, -50%, 0);\n  background-color: transparent;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n#default-pan-target {\n  width: 6px;\n  height: 6px;\n  border-radius: 6px;\n  border: 1px solid white;\n  box-shadow: 0px 0px 2px 1px rgba(0, 0, 0, 0.8);\n}\n\n.slot.default {\n  pointer-events: none;\n}\n\n.slot.progress-bar {\n  pointer-events: none;\n}\n\n.slot.exit-webxr-ar-button {\n  pointer-events: none;\n}\n\n.slot.exit-webxr-ar-button:not(.enabled) {\n  display: none;\n}\n\n#default-exit-webxr-ar-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: env(safe-area-inset-top, 16px);\n  right: 16px;\n  width: 40px;\n  height: 40px;\n  box-sizing: border-box;\n}\n\n#default-exit-webxr-ar-button > svg {\n  fill: #fff;\n}\n</style>\n<div class="container">\n  <div class="userInput" tabindex="0" role="img"\n      aria-label="3D model">\n      <div class="slot canvas">\n        <slot name="canvas">\n          <canvas></canvas>\n        </slot>\n      </div>\n\n  </div>\n\n  \x3c!-- NOTE(cdata): We need to wrap slots because browsers without ShadowDOM\n        will have their <slot> elements removed by ShadyCSS --\x3e\n  <div class="slot poster">\n    <slot name="poster">\n      <button type="button" id="default-poster" aria-hidden="true" aria-label="Loading 3D model"></button>\n    </slot>\n  </div>\n\n  <div class="slot ar-button">\n    <slot name="ar-button">\n      <a id="default-ar-button" part="default-ar-button" class="fab"\n          tabindex="2"\n          aria-label="View in your space">\n        ','\n      </a>\n    </slot>\n  </div>\n\n  <div class="slot pan-target">\n    <slot name="pan-target">\n      <div id="default-pan-target">\n      </div>\n    </slot>\n  </div>\n\n  <div class="slot interaction-prompt cover centered">\n    <div id="prompt" class="animated-container">\n      <slot name="interaction-prompt" aria-hidden="true">\n        ','\n      </slot>\n    </div>\n  </div>\n\n  <div id="finger0" class="animated-container cover">\n    <slot name="finger0" aria-hidden="true">\n    </slot>\n  </div>\n  <div id="finger1" class="animated-container cover">\n    <slot name="finger1" aria-hidden="true">\n    </slot>\n  </div>\n\n  <div class="slot default">\n    <slot></slot>\n\n    <div class="slot progress-bar">\n      <slot name="progress-bar">\n        <div id="default-progress-bar" aria-hidden="true">\n          <div class="bar" part="default-progress-bar"></div>\n        </div>\n      </slot>\n    </div>\n\n    <div class="slot exit-webxr-ar-button">\n      <slot name="exit-webxr-ar-button">\n        <a id="default-exit-webxr-ar-button" part="default-exit-webxr-ar-button"\n            tabindex="3"\n            aria-label="Exit AR"\n            aria-hidden="true">\n          ','\n        </a>\n      </slot>\n    </div>\n  </div>\n</div>\n<div class="screen-reader-only" role="region" aria-label="Live announcements">\n  <span id="status" role="status"></span>\n</div>'])),Lt,Tt,Dt);function _t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var Ut=new WeakMap,Ot=function(e){(0,y.Z)(n,e);var t=_t(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,e)).decoderPath="",r.decoderConfig={},r.decoderBinary=null,r.decoderPending=null,r.workerLimit=4,r.workerPool=[],r.workerNextTaskID=1,r.workerSourceURL="",r.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},r.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},r}return(0,v.Z)(n,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,n,r){var i=this,a=new k.hH6(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){i.decodeDracoFile(e,t).catch(r)}),n,r)}},{key:"decodeDracoFile",value:function(e,t,n,r){var i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};return this.decodeGeometry(e,i).then(t)}},{key:"decodeGeometry",value:function(e,t){var n,r=this,i=JSON.stringify(t);if(Ut.has(e)){var a=Ut.get(e);if(a.key===i)return a.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var o=this.workerNextTaskID++,s=e.byteLength,A=this._getWorker(o,s).then((function(r){return n=r,new Promise((function(r,i){n._callbacks[o]={resolve:r,reject:i},n.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))})).then((function(e){return r._createGeometry(e.geometry)}));return A.catch((function(){return!0})).then((function(){n&&o&&r._releaseTask(n,o)})),Ut.set(e,{key:i,promise:A}),A}},{key:"_createGeometry",value:function(e){var t=new k.u9r;e.index&&t.setIndex(new k.TlE(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],i=r.name,a=r.array,o=r.itemSize;t.setAttribute(i,new k.TlE(a,o))}return t}},{key:"_loadLibrary",value:function(e,t){var n=new k.hH6(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,r){n.load(e,t,void 0,r)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var i=Pt.toString(),a=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([a]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.workerPool.length<n.workerLimit){var r=new Worker(n.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)}else n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var i=n.workerPool[n.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}]),n}(k.aNw);function Pt(){var e,t;function n(e,t,n,r,i,a){var o=a.num_components(),s=n.num_points()*o,A=s*i.BYTES_PER_ELEMENT,u=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),l=e._malloc(A);t.GetAttributeDataArrayForAllPoints(n,a,u,A,l);var c=new i(e.HEAPF32.buffer,l,s).slice();return e._free(l),{name:r,array:c,itemSize:o}}onmessage=function(r){var i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var a=i.buffer,o=i.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(a),a.byteLength);try{var A=function(e,t,r,i){var a,o,s=i.attributeIDs,A=i.attributeTypes,u=t.GetEncodedGeometryType(r);if(u===e.TRIANGULAR_MESH)a=new e.Mesh,o=t.DecodeBufferToMesh(r,a);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,a)}if(!o.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var l={index:null,attributes:[]};for(var c in s){var h=self[A[c]],f=void 0,d=void 0;if(i.useUniqueIDs)d=s[c],f=t.GetAttributeByUniqueId(a,d);else{if(-1===(d=t.GetAttributeId(a,e[s[c]])))continue;f=t.GetAttribute(a,d)}l.attributes.push(n(e,t,a,c,h,f))}u===e.TRIANGULAR_MESH&&(l.index=function(e,t,n){var r=3*n.num_faces(),i=4*r,a=e._malloc(i);t.GetTrianglesUInt32Array(n,i,a);var o=new Uint32Array(e.HEAPF32.buffer,a,r).slice();return e._free(a),{array:o,itemSize:1}}(e,t,a));return e.destroy(a),l}(t,r,s,o),u=A.attributes.map((function(e){return e.array.buffer}));A.index&&u.push(A.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:A},u)}catch(l){console.error(l),self.postMessage({type:"error",id:i.id,error:l.message})}finally{t.destroy(s),t.destroy(r)}}))}}}function Gt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var Ht=function(e){(0,y.Z)(n,e);var t=Zt(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new zt(e)})),r.register((function(e){return new nn(e)})),r.register((function(e){return new rn(e)})),r.register((function(e){return new Wt(e)})),r.register((function(e){return new Xt(e)})),r.register((function(e){return new $t(e)})),r.register((function(e){return new en(e)})),r.register((function(e){return new Vt(e)})),r.register((function(e){return new tn(e)})),r.register((function(e){return new Yt(e)})),r.register((function(e){return new Kt(e)})),r.register((function(e){return new an(e)})),r}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:k.Zp0.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new k.hH6(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),o)}catch(r){o(r)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var i,a={},o={};if("string"==typeof e)i=e;else if(k.Zp0.decodeText(new Uint8Array(e,0,4))===on){try{a[qt.KHR_BINARY_GLTF]=new un(e)}catch(d){return void(r&&r(d))}i=a[qt.KHR_BINARY_GLTF].content}else i=k.Zp0.decodeText(new Uint8Array(e));var s=JSON.parse(i);if(void 0===s.asset||s.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var A=new Nn(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});A.fileLoader.setRequestHeader(this.requestHeader);for(var u=0;u<this.pluginCallbacks.length;u++){var l=this.pluginCallbacks[u](A);o[l.name]=l,a[l.name]=!0}if(s.extensionsUsed)for(var c=0;c<s.extensionsUsed.length;++c){var h=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(h){case qt.KHR_MATERIALS_UNLIT:a[h]=new Jt;break;case qt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[h]=new fn;break;case qt.KHR_DRACO_MESH_COMPRESSION:a[h]=new ln(s,this.dracoLoader);break;case qt.KHR_TEXTURE_TRANSFORM:a[h]=new cn;break;case qt.KHR_MESH_QUANTIZATION:a[h]=new dn;break;default:f.indexOf(h)>=0&&void 0===o[h]&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}A.setExtensions(a),A.setPlugins(o),A.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}]),n}(k.aNw);function jt(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var qt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},Kt=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=qt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return(0,v.Z)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,a=t.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new k.Ilk(16777215);void 0!==o.color&&s.fromArray(o.color);var A=void 0!==o.range?o.range:0;switch(o.type){case"directional":(i=new k.Ox3(s)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new k.cek(s)).distance=A;break;case"spot":(i=new k.PMe(s)).distance=A,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,i.angle=o.spot.outerConeAngle,i.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return i.position.set(0,0,0),i.decay=2,void 0!==o.intensity&&(i.intensity=o.intensity),i.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),Jt=function(){function e(){(0,p.Z)(this,e),this.name=qt.KHR_MATERIALS_UNLIT}return(0,v.Z)(e,[{key:"getMaterialType",value:function(){return k.vBJ}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new k.Ilk(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,k.knz))}return Promise.all(r)}}]),e}(),Vt=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=qt.KHR_MATERIALS_EMISSIVE_STRENGTH}return(0,v.Z)(e,[{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}]),e}(),zt=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=qt.KHR_MATERIALS_CLEARCOAT}return(0,v.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?k.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new k.FM8(o,o)}return Promise.all(i)}}]),e}(),Yt=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=qt.KHR_MATERIALS_IRIDESCENCE}return(0,v.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?k.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}]),e}(),Wt=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=qt.KHR_MATERIALS_SHEEN}return(0,v.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?k.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new k.Ilk(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=r.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,k.knz)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),Xt=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=qt.KHR_MATERIALS_TRANSMISSION}return(0,v.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?k.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),$t=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=qt.KHR_MATERIALS_VOLUME}return(0,v.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?k.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||0;var o=a.attenuationColor||[1,1,1];return t.attenuationColor=new k.Ilk(o[0],o[1],o[2]),Promise.all(i)}}]),e}(),en=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=qt.KHR_MATERIALS_IOR}return(0,v.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?k.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),tn=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=qt.KHR_MATERIALS_SPECULAR}return(0,v.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?k.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));var o=a.specularColorFactor||[1,1,1];return t.specularColor=new k.Ilk(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,k.knz)),Promise.all(i)}}]),e}(),nn=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=qt.KHR_TEXTURE_BASISU}return(0,v.Z)(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}]),e}(),rn=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name=qt.EXT_TEXTURE_WEBP,this.isSupported=null}return(0,v.Z)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var A=n.options.manager.getHandler(o.uri);null!==A&&(s=A)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),an=function(){function e(t){(0,p.Z)(this,e),this.name=qt.EXT_MESHOPT_COMPRESSION,this.parser=t}return(0,v.Z)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,o=r.byteStride,s=new Uint8Array(e,t,n);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(i,o,s,r.mode,r.filter).then((function(e){return e.buffer})):a.ready.then((function(){var e=new ArrayBuffer(i*o);return a.decodeGltfBuffer(new Uint8Array(e),i,o,s,r.mode,r.filter),e}))}))}return null}}]),e}(),on="glTF",sn=1313821514,An=5130562,un=(0,v.Z)((function e(t){(0,p.Z)(this,e),this.name=qt.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:k.Zp0.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==on)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,i=new DataView(t,12),a=0;a<r;){var o=i.getUint32(a,!0);a+=4;var s=i.getUint32(a,!0);if(a+=4,s===sn){var A=new Uint8Array(t,12+a,o);this.content=k.Zp0.decodeText(A)}else if(s===An){var u=12+a;this.body=t.slice(u,u+o)}a+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),ln=function(){function e(t,n){if((0,p.Z)(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=qt.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return(0,v.Z)(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},A={};for(var u in a){var l=kn[u]||u.toLowerCase();o[l]=a[u]}for(var c in e.attributes){var h=kn[c]||c.toLowerCase();if(void 0!==a[c]){var f=n.accessors[e.attributes[c]],d=bn[f.componentType];A[h]=d.name,s[h]=!0===f.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,A)}))}))}}]),e}(),cn=function(){function e(){(0,p.Z)(this,e),this.name=qt.KHR_TEXTURE_TRANSFORM}return(0,v.Z)(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),hn=function(e){(0,y.Z)(n,e);var t=Zt(n);function n(e){var r;(0,p.Z)(this,n),(r=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var i=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),a=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),A=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),u={specular:{value:(new k.Ilk).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return r._extraUniforms=u,r.onBeforeCompile=function(e){for(var t in u)e.uniforms[t]=u[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",i).replace("#include <metalnessmap_pars_fragment>",a).replace("#include <roughnessmap_fragment>",o).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",A)},Object.defineProperties((0,M.Z)(r),{specular:{get:function(){return u.specular.value},set:function(e){u.specular.value=e}},specularMap:{get:function(){return u.specularMap.value},set:function(e){u.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return u.glossiness.value},set:function(e){u.glossiness.value=e}},glossinessMap:{get:function(){return u.glossinessMap.value},set:function(e){u.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete r.metalness,delete r.roughness,delete r.metalnessMap,delete r.roughnessMap,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,m.Z)((0,E.Z)(n.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),n}(k.Wid),fn=function(){function e(){(0,p.Z)(this,e),this.name=qt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}return(0,v.Z)(e,[{key:"getMaterialType",value:function(){return hn}},{key:"extendParams",value:function(e,t,n){var r=t.extensions[this.name];e.color=new k.Ilk(1,1,1),e.opacity=1;var i=[];if(Array.isArray(r.diffuseFactor)){var a=r.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(void 0!==r.diffuseTexture&&i.push(n.assignTexture(e,"map",r.diffuseTexture,k.knz)),e.emissive=new k.Ilk(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new k.Ilk(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var o=r.specularGlossinessTexture;i.push(n.assignTexture(e,"glossinessMap",o)),i.push(n.assignTexture(e,"specularMap",o,k.knz))}return Promise.all(i)}},{key:"createMaterial",value:function(e){var t=new hn(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=void 0===e.emissiveIntensity?1:e.emissiveIntensity,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=k.IOt,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t}}]),e}(),dn=(0,v.Z)((function e(){(0,p.Z)(this,e),this.name=qt.KHR_MESH_QUANTIZATION})),gn=function(e){(0,y.Z)(n,e);var t=Zt(n);function n(e,r,i,a){return(0,p.Z)(this,n),t.call(this,e,r,i,a)}return(0,v.Z)(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,A=3*o,u=r-t,l=(n-t)/u,c=l*l,h=c*l,f=e*A,d=f-A,g=-2*h+3*c,p=h-c,v=1-g,m=p-c+l,y=0;y!==o;y++){var I=a[d+y+o],E=a[d+y+s]*u,C=a[f+y+o],w=a[f+y]*u;i[y]=v*I+m*E+g*C+p*w}return i}}]),n}(k._C8),pn=new k._fP,vn=function(e){(0,y.Z)(n,e);var t=Zt(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n,[{key:"interpolate_",value:function(e,t,r,i){var a=(0,m.Z)((0,E.Z)(n.prototype),"interpolate_",this).call(this,e,t,r,i);return pn.fromArray(a).normalize().toArray(a),a}}]),n}(gn),mn=0,yn=1,In=2,En=3,Cn=4,wn=5,Bn=6,bn={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Qn={9728:k.TyD,9729:k.wem,9984:k.YLQ,9985:k.qyh,9986:k.aH4,9987:k.D1R},xn={33071:k.uWy,33648:k.OoA,10497:k.rpg},Sn={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},kn={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Rn={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Mn={CUBICSPLINE:void 0,LINEAR:k.NMF,STEP:k.Syv},Dn="OPAQUE",Tn="MASK",Ln="BLEND";function Fn(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new k.Wid({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:k.Wl3})),e.DefaultMaterial}function _n(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Un(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function On(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var a=0,o=i.length;a<o;a++)e.morphTargetDictionary[i[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Pn(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function Gn(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var Nn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,p.Z)(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new jt,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),i=navigator.userAgent.indexOf("Firefox")>-1,a=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;"undefined"==typeof createImageBitmap||r||i&&a<98?this.textureLoader=new k.dpR(this.options.manager):this.textureLoader=new k.QRU(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new k.hH6(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return(0,v.Z)(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};_n(i,a,r),Un(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var A=0,u=e.length;A<u;A++){var l=e[A];void 0!==l.mesh&&(this._addNodeRef(this.meshCache,l.mesh),void 0!==l.skin&&(n[l.mesh].isSkinnedMesh=!0)),void 0!==l.camera&&this._addNodeRef(this.cameraCache,l.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var i=n.clone();return function e(t,n){var i=r.associations.get(t);null!=i&&r.associations.set(n,i);var a,o=Gt(t.children.entries());try{for(o.s();!(a=o.n()).done;){var s=(0,te.Z)(a.value,2),A=s[0];e(s[1],n.children[A])}}catch(u){o.e(u)}finally{o.f()}}(n,i),i.name+="_instance_"+e.uses[t]++,i}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[qt.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,i){n.load(k.Zp0.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){var i,a,o=e[0],s=Sn[r.type],A=bn[r.componentType],u=A.BYTES_PER_ELEMENT,l=u*s,c=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,f=!0===r.normalized;if(h&&h!==l){var d=Math.floor(c/h),g="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+d+":"+r.count,p=t.cache.get(g);p||(i=new A(o,d*h,r.count*h/u),p=new k.vpT(i,h/u),t.cache.add(g,p)),a=new k.kB5(p,s,c%h/u,f)}else i=null===o?new A(r.count*s):new A(o,c,r.count*s),a=new k.TlE(i,s,f);if(void 0!==r.sparse){var v=Sn.SCALAR,m=bn[r.sparse.indices.componentType],y=r.sparse.indices.byteOffset||0,I=r.sparse.values.byteOffset||0,E=new m(e[1],y,r.sparse.count*v),C=new A(e[2],I,r.sparse.count*s);null!==o&&(a=new k.TlE(a.array.slice(),a.itemSize,a.normalized));for(var w=0,B=E.length;w<B;w++){var b=E[w];if(a.setX(b,C[w*s]),s>=2&&a.setY(b,C[w*s+1]),s>=3&&a.setZ(b,C[w*s+2]),s>=4&&a.setW(b,C[w*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],a=this.textureLoader;if(i.uri){var o=n.manager.getHandler(i.uri);null!==o&&(a=o)}return this.loadTextureImage(e,r,a)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];var A=this.loadImageSource(t,n).then((function(t){t.flipY=!1,a.name&&(t.name=a.name);var n=(i.samplers||{})[a.sampler]||{};return t.magFilter=Qn[n.magFilter]||k.wem,t.minFilter=Qn[n.minFilter]||k.D1R,t.wrapS=xn[n.wrapS]||k.rpg,t.wrapT=xn[n.wrapT]||k.rpg,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=A,A}},{key:"loadImageSource",value:function(e,t){var n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var i=n.images[e],a=self.URL||self.webkitURL,o=i.uri||"",s=!1;if(void 0!==i.bufferView)o=this.getDependency("bufferView",i.bufferView).then((function(e){s=!0;var t=new Blob([e],{type:i.mimeType});return o=a.createObjectURL(t)}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var A=Promise.resolve(o).then((function(e){return new Promise((function(n,i){var a=n;!0===t.isImageBitmapLoader&&(a=function(e){var t=new k.xEZ(e);t.needsUpdate=!0,n(t)}),t.load(k.Zp0.resolveURL(e,r.path),a,void 0,i)}))})).then((function(e){var t;return!0===s&&a.revokeObjectURL(o),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=A,A}},{key:"assignTexture",value:function(e,t,n,r){var i=this;return this.getDependency("texture",n.index).then((function(a){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),i.extensions[qt.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[qt.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[qt.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}return void 0!==r&&(a.encoding=r),e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new k.UY4,k.F5T.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var A="LineBasicMaterial:"+n.uuid,u=this.cache.get(A);u||(u=new k.nls,k.F5T.prototype.copy.call(u,n),u.color.copy(n.color),this.cache.add(A,u)),n=u}if(r||i||a){var l="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(l+="specular-glossiness:"),r&&(l+="derivative-tangents:"),i&&(l+="vertex-colors:"),a&&(l+="flat-shading:");var c=this.cache.get(l);c||(c=n.clone(),i&&(c.vertexColors=!0),a&&(c.flatShading=!0),r&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(l,c),this.associations.set(c,this.associations.get(n))),n=c}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return k.Wid}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,i=this.extensions,a=r.materials[e],o={},s=a.extensions||{},A=[];if(s[qt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=i[qt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=u.getMaterialType(),A.push(u.extendParams(o,a,n))}else if(s[qt.KHR_MATERIALS_UNLIT]){var l=i[qt.KHR_MATERIALS_UNLIT];t=l.getMaterialType(),A.push(l.extendParams(o,a,n))}else{var c=a.pbrMetallicRoughness||{};if(o.color=new k.Ilk(1,1,1),o.opacity=1,Array.isArray(c.baseColorFactor)){var h=c.baseColorFactor;o.color.fromArray(h),o.opacity=h[3]}void 0!==c.baseColorTexture&&A.push(n.assignTexture(o,"map",c.baseColorTexture,k.knz)),o.metalness=void 0!==c.metallicFactor?c.metallicFactor:1,o.roughness=void 0!==c.roughnessFactor?c.roughnessFactor:1,void 0!==c.metallicRoughnessTexture&&(A.push(n.assignTexture(o,"metalnessMap",c.metallicRoughnessTexture)),A.push(n.assignTexture(o,"roughnessMap",c.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),A.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===a.doubleSided&&(o.side=k.ehD);var f=a.alphaMode||Dn;if(f===Ln?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,f===Tn&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==k.vBJ&&(A.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new k.FM8(1,1),void 0!==a.normalTexture.scale)){var d=a.normalTexture.scale;o.normalScale.set(d,d)}return void 0!==a.occlusionTexture&&t!==k.vBJ&&(A.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==k.vBJ&&(o.emissive=(new k.Ilk).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==k.vBJ&&A.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,k.knz)),Promise.all(A).then((function(){var r;return r=t===hn?i[qt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new t(o),a.name&&(r.name=a.name),Un(r,a),n.associations.set(r,{materials:e}),a.extensions&&_n(i,r,a),r}))}},{key:"createUniqueName",value:function(e){for(var t=k.iUV.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[qt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return Hn(n,e,t)}))}for(var a,o,s=[],A=0,u=e.length;A<u;A++){var l=e[A],c=(o=void 0,(o=(a=l).extensions&&a.extensions[qt.KHR_DRACO_MESH_COMPRESSION])?"draco:"+o.bufferView+":"+o.indices+":"+Pn(o.attributes):a.indices+":"+Pn(a.attributes)+":"+a.mode),h=r[c];if(h)s.push(h.promise);else{var f=void 0;f=l.extensions&&l.extensions[qt.KHR_DRACO_MESH_COMPRESSION]?i(l):Hn(new k.u9r,l,t),r[c]={primitive:l,promise:f},s.push(f)}}return Promise.all(s)}},{key:"loadMesh",value:function(e){for(var t=this,n=this.json,r=this.extensions,i=n.meshes[e],a=i.primitives,o=[],s=0,A=a.length;s<A;s++){var u=void 0===a[s].material?Fn(this.cache):this.getDependency("material",a[s].material);o.push(u)}return o.push(t.loadGeometries(a)),Promise.all(o).then((function(n){for(var o=n.slice(0,n.length-1),s=n[n.length-1],A=[],u=0,l=s.length;u<l;u++){var c=s[u],h=a[u],f=void 0,d=o[u];if(h.mode===Cn||h.mode===wn||h.mode===Bn||void 0===h.mode)!0!==(f=!0===i.isSkinnedMesh?new k.TUv(c,d):new k.Kj0(c,d)).isSkinnedMesh||f.geometry.attributes.skinWeight.normalized||f.normalizeSkinWeights(),h.mode===wn?f.geometry=jn(f.geometry,k.UlW):h.mode===Bn&&(f.geometry=jn(f.geometry,k.z$h));else if(h.mode===yn)f=new k.ejS(c,d);else if(h.mode===En)f=new k.x12(c,d);else if(h.mode===In)f=new k.blk(c,d);else{if(h.mode!==mn)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);f=new k.woe(c,d)}Object.keys(f.geometry.morphAttributes).length>0&&On(f,i),f.name=t.createUniqueName(i.name||"mesh_"+e),Un(f,i),h.extensions&&_n(r,f,h),t.assignFinalMaterial(f),A.push(f)}for(var g=0,p=A.length;g<p;g++)t.associations.set(A[g],{meshes:e,primitives:g});if(1===A.length)return A[0];var v=new k.ZAu;t.associations.set(v,{meshes:e});for(var m=0,y=A.length;m<y;m++)v.add(A[m]);return v}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new k.cPb(k.M8C.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new k.iKG(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Un(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],i=[],a=[],o=[],s=0,A=t.channels.length;s<A;s++){var u=t.channels[s],l=t.samplers[u.sampler],c=u.target,h=c.node,f=void 0!==t.parameters?t.parameters[l.input]:l.input,d=void 0!==t.parameters?t.parameters[l.output]:l.output;n.push(this.getDependency("node",h)),r.push(this.getDependency("accessor",f)),i.push(this.getDependency("accessor",d)),a.push(l),o.push(c)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(o)]).then((function(n){for(var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],A=[],u=function(e,t){var n=r[e],u=i[e],l=a[e],c=o[e],h=s[e];if(void 0===n)return"continue";n.updateMatrix();var f=void 0;switch(Rn[h.path]){case Rn.weights:f=k.dUE;break;case Rn.rotation:f=k.iLg;break;default:f=k.yC1}var d=n.name?n.name:n.uuid,g=void 0!==c.interpolation?Mn[c.interpolation]:k.NMF,p=[];Rn[h.path]===Rn.weights?n.traverse((function(e){e.morphTargetInfluences&&p.push(e.name?e.name:e.uuid)})):p.push(d);var v=l.array;if(l.normalized){for(var m=Gn(v.constructor),y=new Float32Array(v.length),I=0,E=v.length;I<E;I++)y[I]=v[I]*m;v=y}for(var C=0,w=p.length;C<w;C++){var B=new f(p[C]+"."+Rn[h.path],u.array,v,g);"CUBICSPLINE"===c.interpolation&&(B.createInterpolant=function(e){return new(this instanceof k.iLg?vn:gn)(this.times,this.values,this.getValueSize()/3,e)},B.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),A.push(B)}},l=0,c=r.length;l<c;l++)u(l);var h=t.name?t.name:"animation_"+e;return new k.m7l(h,void 0,A)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t,n,r=this.json,i=this.extensions,a=this,o=r.nodes[e],s=o.name?a.createUniqueName(o.name):"";return(t=[],n=a._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)})),n&&t.push(n),void 0!==o.camera&&t.push(a.getDependency("camera",o.camera).then((function(e){return a._getNodeRef(a.cameraCache,o.camera,e)}))),a._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)).then((function(t){var n;if((n=!0===o.isBone?new k.N$j:t.length>1?new k.ZAu:1===t.length?t[0]:new k.Tme)!==t[0])for(var r=0,A=t.length;r<A;r++)n.add(t[r]);if(o.name&&(n.userData.name=o.name,n.name=s),Un(n,o),o.extensions&&_n(i,n,o),void 0!==o.matrix){var u=new k.yGw;u.fromArray(o.matrix),n.applyMatrix4(u)}else void 0!==o.translation&&n.position.fromArray(o.translation),void 0!==o.rotation&&n.quaternion.fromArray(o.rotation),void 0!==o.scale&&n.scale.fromArray(o.scale);return a.associations.has(n)||a.associations.set(n,{}),a.associations.get(n).nodes=e,n}))}},{key:"loadScene",value:function(e){var t=this.json,n=this.extensions,r=this.json.scenes[e],i=this,a=new k.ZAu;r.name&&(a.name=i.createUniqueName(r.name)),Un(a,r),r.extensions&&_n(n,a,r);for(var o=r.nodes||[],s=[],A=0,u=o.length;A<u;A++)s.push(Zn(o[A],a,t,i));return Promise.all(s).then((function(){return i.associations=function(e){var t,n=new Map,r=Gt(i.associations);try{for(r.s();!(t=r.n()).done;){var a=(0,te.Z)(t.value,2),o=a[0],s=a[1];(o instanceof k.F5T||o instanceof k.xEZ)&&n.set(o,s)}}catch(A){r.e(A)}finally{r.f()}return e.traverse((function(e){var t=i.associations.get(e);null!=t&&n.set(e,t)})),n}(a),a}))}}]),e}();function Zn(e,t,n,r){var i=n.nodes[e];return r.getDependency("node",e).then((function(e){return void 0===i.skin?e:r.getDependency("skin",i.skin).then((function(e){for(var n=[],i=0,a=(t=e).joints.length;i<a;i++)n.push(r.getDependency("node",t.joints[i]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],i=[],a=0,o=n.length;a<o;a++){var s=n[a];if(s){r.push(s);var A=new k.yGw;void 0!==t.inverseBindMatrices&&A.fromArray(t.inverseBindMatrices.array,16*a),i.push(A)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}e.bind(new k.OdW(r,i),e.matrixWorld)}})),e}));var t})).then((function(e){t.add(e);var a=[];if(i.children)for(var o=i.children,s=0,A=o.length;s<A;s++){var u=o[s];a.push(Zn(u,e,n,r))}return Promise.all(a)}))}function Hn(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=kn[o]||o.toLowerCase();s in e.attributes||i.push(a(r[o],s))}if(void 0!==t.indices&&!e.index){var A=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(A)}return Un(e,t),function(e,t,n){var r=t.attributes,i=new k.ZzF;if(void 0!==r.POSITION){var a=n.json.accessors[r.POSITION],o=a.min,s=a.max;if(void 0!==o&&void 0!==s){if(i.set(new k.Pa4(o[0],o[1],o[2]),new k.Pa4(s[0],s[1],s[2])),a.normalized){var A=Gn(bn[a.componentType]);i.min.multiplyScalar(A),i.max.multiplyScalar(A)}var u=t.targets;if(void 0!==u){for(var l=new k.Pa4,c=new k.Pa4,h=0,f=u.length;h<f;h++){var d=u[h];if(void 0!==d.POSITION){var g=n.json.accessors[d.POSITION],p=g.min,v=g.max;if(void 0!==p&&void 0!==v){if(c.setX(Math.max(Math.abs(p[0]),Math.abs(v[0]))),c.setY(Math.max(Math.abs(p[1]),Math.abs(v[1]))),c.setZ(Math.max(Math.abs(p[2]),Math.abs(v[2]))),g.normalized){var m=Gn(bn[g.componentType]);c.multiplyScalar(m)}l.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(l)}e.boundingBox=i;var y=new k.aLr;i.getCenter(y.center),y.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=y}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=!1,o=0,s=t.length;o<s;o++){var A=t[o];if(void 0!==A.POSITION&&(r=!0),void 0!==A.NORMAL&&(i=!0),void 0!==A.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);for(var u=[],l=[],c=[],h=0,f=t.length;h<f;h++){var d=t[h];if(r){var g=void 0!==d.POSITION?n.getDependency("accessor",d.POSITION):e.attributes.position;u.push(g)}if(i){var p=void 0!==d.NORMAL?n.getDependency("accessor",d.NORMAL):e.attributes.normal;l.push(p)}if(a){var v=void 0!==d.COLOR_0?n.getDependency("accessor",d.COLOR_0):e.attributes.color;c.push(v)}}return Promise.all([Promise.all(u),Promise.all(l),Promise.all(c)]).then((function(t){var n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function jn(e,t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(t===k.z$h)for(var A=1;A<=o;A++)s.push(n.getX(0)),s.push(n.getX(A)),s.push(n.getX(A+1));else for(var u=0;u<o;u++)u%2==0?(s.push(n.getX(u)),s.push(n.getX(u+1)),s.push(n.getX(u+2))):(s.push(n.getX(u+2)),s.push(n.getX(u+1)),s.push(n.getX(u)));s.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var l=e.clone();return l.setIndex(s),l}var qn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;(0,p.Z)(this,e),this.pool=t,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}return(0,v.Z)(e,[{key:"_initWorker",value:function(e){if(!this.workers[e]){var t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}},{key:"_getIdleWorker",value:function(){for(var e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}},{key:"_onMessage",value:function(e,t){var n=this.workersResolve[e];if(n&&n(t),this.queue.length){var r=this.queue.shift(),i=r.resolve,a=r.msg,o=r.transfer;this.workersResolve[e]=i,this.workers[e].postMessage(a,o)}else this.workerStatus^=1<<e}},{key:"setWorkerCreator",value:function(e){this.workerCreator=e}},{key:"setWorkerLimit",value:function(e){this.pool=e}},{key:"postMessage",value:function(e,t){var n=this;return new Promise((function(r){var i=n._getIdleWorker();-1!==i?(n._initWorker(i),n.workerStatus|=1<<i,n.workersResolve[i]=r,n.workers[i].postMessage(e,t)):n.queue.push({resolve:r,msg:e,transfer:t})}))}},{key:"dispose",value:function(){this.workers.forEach((function(e){return e.terminate()})),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}]),e}();var Kn=(0,v.Z)((function e(){(0,p.Z)(this,e),this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null})),Jn=function(){function e(t,n,r,i){(0,p.Z)(this,e),this._dataView=new DataView(t.buffer,t.byteOffset+n,r),this._littleEndian=i,this._offset=0}return(0,v.Z)(e,[{key:"_nextUint8",value:function(){var e=this._dataView.getUint8(this._offset);return this._offset+=1,e}},{key:"_nextUint16",value:function(){var e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}},{key:"_nextUint32",value:function(){var e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}},{key:"_nextUint64",value:function(){var e=this._dataView.getUint32(this._offset,this._littleEndian)+Math.pow(2,32)*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}},{key:"_nextInt32",value:function(){var e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}},{key:"_skip",value:function(e){return this._offset+=e,this}},{key:"_scan",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._offset,r=0;this._dataView.getUint8(this._offset)!==t&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,r)}}]),e}(),Vn=(new Uint8Array([0]),[171,75,84,88,32,50,48,187,13,10,26,10]);function zn(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):Buffer.from(e).toString("utf8")}function Yn(e){var t=new Uint8Array(e.buffer,e.byteOffset,Vn.length);if(t[0]!==Vn[0]||t[1]!==Vn[1]||t[2]!==Vn[2]||t[3]!==Vn[3]||t[4]!==Vn[4]||t[5]!==Vn[5]||t[6]!==Vn[6]||t[7]!==Vn[7]||t[8]!==Vn[8]||t[9]!==Vn[9]||t[10]!==Vn[10]||t[11]!==Vn[11])throw new Error("Missing KTX 2.0 identifier.");var n=new Kn,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new Jn(e,Vn.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();var a=i._nextUint32();n.supercompressionScheme=i._nextUint32();for(var o=i._nextUint32(),s=i._nextUint32(),A=i._nextUint32(),u=i._nextUint32(),l=i._nextUint64(),c=i._nextUint64(),h=new Jn(e,Vn.length+r,3*a*8,!0),f=0;f<a;f++)n.levels.push({levelData:new Uint8Array(e.buffer,e.byteOffset+h._nextUint64(),h._nextUint64()),uncompressedByteLength:h._nextUint64()});for(var d=new Jn(e,o,s,!0),g={vendorId:d._skip(4)._nextUint16(),descriptorType:d._nextUint16(),versionNumber:d._nextUint16(),descriptorBlockSize:d._nextUint16(),colorModel:d._nextUint8(),colorPrimaries:d._nextUint8(),transferFunction:d._nextUint8(),flags:d._nextUint8(),texelBlockDimension:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],bytesPlane:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],samples:[]},p=(g.descriptorBlockSize/4-6)/4,v=0;v<p;v++){var m={bitOffset:d._nextUint16(),bitLength:d._nextUint8(),channelType:d._nextUint8(),samplePosition:[d._nextUint8(),d._nextUint8(),d._nextUint8(),d._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&m.channelType?(m.sampleLower=d._nextInt32(),m.sampleUpper=d._nextInt32()):(m.sampleLower=d._nextUint32(),m.sampleUpper=d._nextUint32()),g.samples[v]=m}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(g);for(var y=new Jn(e,A,u,!0);y._offset<u;){var I=y._nextUint32(),E=y._scan(I),C=zn(E),w=y._scan(I-E.byteLength);n.keyValue[C]=C.match(/^ktx/i)?zn(w):w,y._offset%4&&y._skip(4-y._offset%4)}if(c<=0)return n;for(var B=new Jn(e,l,c,!0),b=B._nextUint16(),Q=B._nextUint16(),x=B._nextUint32(),S=B._nextUint32(),k=B._nextUint32(),R=B._nextUint32(),M=[],D=0;D<a;D++)M.push({imageFlags:B._nextUint32(),rgbSliceByteOffset:B._nextUint32(),rgbSliceByteLength:B._nextUint32(),alphaSliceByteOffset:B._nextUint32(),alphaSliceByteLength:B._nextUint32()});var T=l+B._offset,L=T+x,F=L+S,_=F+k,U=new Uint8Array(e.buffer,e.byteOffset+T,x),O=new Uint8Array(e.buffer,e.byteOffset+L,S),P=new Uint8Array(e.buffer,e.byteOffset+F,k),G=new Uint8Array(e.buffer,e.byteOffset+_,R);return n.globalData={endpointCount:b,selectorCount:Q,imageDescs:M,endpointsData:U,selectorsData:O,tablesData:P,extendedData:G},n}var Wn,Xn,$n;var er,tr,nr,rr={env:{emscripten_notify_memory_growth:function(e){$n=new Uint8Array(Xn.exports.memory.buffer)}}},ir=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,[{key:"init",value:function(){return Wn||(Wn="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+ar).then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,rr)})).then(this._init):WebAssembly.instantiate(Buffer.from(ar,"base64"),rr).then(this._init),Wn)}},{key:"_init",value:function(e){Xn=e.instance,rr.env.emscripten_notify_memory_growth(0)}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Xn)throw new Error("ZSTDDecoder: Await .init() before decoding.");var n=e.byteLength,r=Xn.exports.malloc(n);$n.set(e,r),t=t||Number(Xn.exports.ZSTD_findDecompressedSize(r,n));var i=Xn.exports.malloc(t),a=Xn.exports.ZSTD_decompress(i,t,r,n),o=$n.slice(i,i+a);return Xn.exports.free(r),Xn.exports.free(i),o}}]),e}(),ar="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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";function or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var sr,Ar=new WeakMap,ur=0,lr=function(e){(0,y.Z)(n,e);var t=or(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,e)).transcoderPath="",r.transcoderBinary=null,r.transcoderPending=null,r.workerPool=new qn,r.workerSourceURL="",r.workerConfig=null,"undefined"!=typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.'),r}return(0,v.Z)(n,[{key:"setTranscoderPath",value:function(e){return this.transcoderPath=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerPool.setWorkerLimit(e),this}},{key:"detectSupport",value:function(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}},{key:"init",value:function(){var e=this;if(!this.transcoderPending){var t=new k.hH6(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);var r=t.loadAsync("basis_transcoder.js"),i=new k.hH6(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);var a=i.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([r,a]).then((function(t){var r=(0,te.Z)(t,2),i=r[0],a=r[1],o=n.BasisWorker.toString(),s=["/* constants */","let _EngineFormat = "+JSON.stringify(n.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(n.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(n.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([s])),e.transcoderBinary=a,e.workerPool.setWorkerCreator((function(){var t=new Worker(e.workerSourceURL),n=e.transcoderBinary.slice(0);return t.postMessage({type:"init",config:e.workerConfig,transcoderBinary:n},[n]),t}))})),ur>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),ur++}return this.transcoderPending}},{key:"load",value:function(e,t,n,r){var i=this;if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");var a=new k.hH6(this.manager);a.setResponseType("arraybuffer"),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){if(Ar.has(e))return Ar.get(e).promise.then(t).catch(r);i._createTexture(e).then((function(e){return t?t(e):null})).catch(r)}),n,r)}},{key:"_createTextureFrom",value:function(e){var t=e.mipmaps,n=e.width,r=e.height,i=e.format,a=e.type,o=e.error,s=e.dfdTransferFn,A=e.dfdFlags;if("error"===a)return Promise.reject(o);var u=new k.EB7(t,n,r,i,k.ywz);return u.minFilter=1===t.length?k.wem:k.D1R,u.magFilter=k.wem,u.generateMipmaps=!1,u.needsUpdate=!0,u.encoding=2===s?k.knz:k.rnI,u.premultiplyAlpha=!!(1&A),u}},{key:"_createTexture",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Yn(new Uint8Array(e));if(0!==r.vkFormat)return pr(r);var i=n,a=this.init().then((function(){return t.workerPool.postMessage({type:"transcode",buffer:e,taskConfig:i},[e])})).then((function(e){return t._createTextureFrom(e.data)}));return Ar.set(e,{promise:a}),a}},{key:"dispose",value:function(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),ur--,this}}]),n}(k.aNw);lr.BasisFormat={ETC1S:0,UASTC_4x4:1},lr.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},lr.EngineFormat={RGBAFormat:k.wk1,RGBA_ASTC_4x4_Format:k.ptH,RGBA_BPTC_Format:k.bsb,RGBA_ETC2_EAC_Format:k.ekQ,RGBA_PVRTC_4BPPV1_Format:k.eaV,RGBA_S3TC_DXT5_Format:k.ILR,RGB_ETC1_Format:k.fto,RGB_ETC2_Format:k.l0P,RGB_PVRTC_4BPPV1_Format:k._AM,RGB_S3TC_DXT1_Format:k.wuA},lr.BasisWorker=function(){var e,t,n,r=_EngineFormat,i=_TranscoderFormat,a=_BasisFormat;self.addEventListener("message",(function(o){var l,c=o.data;switch(c.type){case"init":e=c.config,l=c.transcoderBinary,t=new Promise((function(e){n={wasmBinary:l,onRuntimeInitialized:e},BASIS(n)})).then((function(){n.initializeBasis(),void 0===n.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")}));break;case"transcode":t.then((function(){try{for(var t=function(t){var o=new n.KTX2File(new Uint8Array(t));function l(){o.close(),o.delete()}if(!o.isValid())throw l(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");var c=o.isUASTC()?a.UASTC_4x4:a.ETC1S,h=o.getWidth(),f=o.getHeight(),d=o.getLevels(),g=o.getHasAlpha(),p=o.getDFDTransferFunc(),v=o.getDFDFlags(),m=function(t,n,o,l){for(var c,h,f=t===a.ETC1S?s:A,d=0;d<f.length;d++){var g=f[d];if(e[g.if]&&(g.basisFormat.includes(t)&&!(l&&g.transcoderFormat.length<2)&&(!g.needsPowerOfTwo||u(n)&&u(o))))return{transcoderFormat:c=g.transcoderFormat[l?1:0],engineFormat:h=g.engineFormat[l?1:0]}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),c=i.RGBA32,h=r.RGBAFormat,{transcoderFormat:c,engineFormat:h}}(c,h,f,g),y=m.transcoderFormat,I=m.engineFormat;if(!h||!f||!d)throw l(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!o.startTranscoding())throw l(),new Error("THREE.KTX2Loader: .startTranscoding failed");for(var E=[],C=0;C<d;C++){var w=o.getImageLevelInfo(C,0,0),B=w.origWidth,b=w.origHeight,Q=new Uint8Array(o.getImageTranscodedSizeInBytes(C,0,0,y));if(!o.transcodeImage(Q,C,0,0,y,0,-1,-1))throw l(),new Error("THREE.KTX2Loader: .transcodeImage failed.");E.push({data:Q,width:B,height:b})}return l(),{width:h,height:f,hasAlpha:g,mipmaps:E,format:I,dfdTransferFn:p,dfdFlags:v}}(c.buffer),o=t.width,l=t.height,h=t.hasAlpha,f=t.mipmaps,d=t.format,g=t.dfdTransferFn,p=t.dfdFlags,v=[],m=0;m<f.length;++m)v.push(f[m].data.buffer);self.postMessage({type:"transcode",id:c.id,width:o,height:l,hasAlpha:h,mipmaps:f,format:d,dfdTransferFn:g,dfdFlags:p},v)}catch(y){console.error(y),self.postMessage({type:"error",id:c.id,error:y.message})}}))}}));var o=[{if:"astcSupported",basisFormat:[a.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],s=o.sort((function(e,t){return e.priorityETC1S-t.priorityETC1S})),A=o.sort((function(e,t){return e.priorityUASTC-t.priorityUASTC}));function u(e){return e<=2||0==(e&e-1)&&0!==e}};var cr,hr,fr=(er={},(0,C.Z)(er,109,k.wk1),(0,C.Z)(er,97,k.wk1),(0,C.Z)(er,37,k.wk1),(0,C.Z)(er,43,k.wk1),(0,C.Z)(er,103,k.av9),(0,C.Z)(er,83,k.av9),(0,C.Z)(er,16,k.av9),(0,C.Z)(er,22,k.av9),(0,C.Z)(er,100,k.hEm),(0,C.Z)(er,76,k.hEm),(0,C.Z)(er,15,k.hEm),(0,C.Z)(er,9,k.hEm),er),dr=(tr={},(0,C.Z)(tr,109,k.VzW),(0,C.Z)(tr,97,k.cLu),(0,C.Z)(tr,37,k.ywz),(0,C.Z)(tr,43,k.ywz),(0,C.Z)(tr,103,k.VzW),(0,C.Z)(tr,83,k.cLu),(0,C.Z)(tr,16,k.ywz),(0,C.Z)(tr,22,k.ywz),(0,C.Z)(tr,100,k.VzW),(0,C.Z)(tr,76,k.cLu),(0,C.Z)(tr,15,k.ywz),(0,C.Z)(tr,9,k.ywz),tr),gr=(nr={},(0,C.Z)(nr,43,k.knz),(0,C.Z)(nr,22,k.knz),(0,C.Z)(nr,15,k.knz),nr);function pr(e){return vr.apply(this,arguments)}function vr(){return vr=(0,R.Z)(S().mark((function e(t){var n,r,i,a,o,s,A,u;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.vkFormat,r=t.pixelWidth,i=t.pixelHeight,a=t.pixelDepth,void 0!==fr[n]){e.next=3;break}throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");case 3:if(o=t.levels[0],0!==t.supercompressionScheme){e.next=8;break}s=o.levelData,e.next=16;break;case 8:if(2!==t.supercompressionScheme){e.next=15;break}return sr||(sr=new Promise(function(){var e=(0,R.Z)(S().mark((function e(t){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ir,e.next=3,n.init();case 3:t(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=12,sr;case 12:s=e.sent.decode(o.levelData,o.uncompressedByteLength),e.next=16;break;case 15:throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");case 16:return A=dr[n]===k.VzW?new Float32Array(s.buffer,s.byteOffset,s.byteLength/Float32Array.BYTES_PER_ELEMENT):dr[n]===k.cLu?new Uint16Array(s.buffer,s.byteOffset,s.byteLength/Uint16Array.BYTES_PER_ELEMENT):s,(u=0===a?new k.IEO(A,r,i):new k.JUT(A,r,i,a)).type=dr[n],u.format=fr[n],u.encoding=gr[n]||k.rnI,u.needsUpdate=!0,e.abrupt("return",Promise.resolve(u));case 23:case"end":return e.stop()}}),e)}))),vr.apply(this,arguments)}var mr=Symbol("retainerCount"),yr=Symbol("recentlyUsed"),Ir=Symbol("evict"),Er=Symbol("evictionThreshold"),Cr=Symbol("cache"),wr=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;(0,p.Z)(this,t),this[cr]=new Map,this[hr]=[],this[Cr]=e,this[Er]=n}return(0,v.Z)(t,[{key:"evictionThreshold",get:function(){return this[Er]},set:function(e){this[Er]=e,this[Ir]()}},{key:"cache",get:function(){return this[Cr]}},{key:"retainerCount",value:function(e){return this[mr].get(e)||0}},{key:"reset",value:function(){this[mr].clear(),this[yr]=[]}},{key:"retain",value:function(e){this[mr].has(e)||this[mr].set(e,0),this[mr].set(e,this[mr].get(e)+1);var t=this[yr].indexOf(e);-1!==t&&this[yr].splice(t,1),this[yr].unshift(e),this[Ir]()}},{key:"release",value:function(e){this[mr].has(e)&&this[mr].set(e,Math.max(this[mr].get(e)-1,0)),this[Ir]()}},{key:e,value:function(){if(!(this[yr].length<this[Er]))for(var e=this[yr].length-1;e>=this[Er];--e){var t=this[yr][e];0===this[mr].get(t)&&(this[Cr].delete(t),this[yr].splice(e,1))}}}]),t}((cr=mr,hr=yr,Ir));function Br(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return br(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qr,xr,Sr=function(e){var t,n=new Map,r=Br(e.mappings);try{for(r.s();!(t=r.n()).done;){var i,a=t.value,o=Br(a.variants);try{for(o.s();!(i=o.n()).done;){var s=i.value;n.set(s,{material:null,gltfMaterialIndex:a.material})}}catch(A){o.e(A)}finally{o.f()}}}catch(A){r.e(A)}finally{r.f()}return n},kr=function(){function e(t){(0,p.Z)(this,e),this.parser=t,this.name="KHR_materials_variants"}return(0,v.Z)(e,[{key:"afterRoot",value:function(e){var t=this,n=this.parser,r=n.json;if(void 0===r.extensions||void 0===r.extensions[this.name])return null;var i,a=function(e){var t,n=[],r=new Set,i=Br(e);try{for(i.s();!(t=i.n()).done;){for(var a=t.value,o=a,s=0;r.has(o);)o=a+"."+ ++s;r.add(o),n.push(o)}}catch(A){i.e(A)}finally{i.f()}return n}((r.extensions[this.name].variants||[]).map((function(e){return e.name}))),o=Br(e.scenes);try{for(o.s();!(i=o.n()).done;){i.value.traverse((function(e){var i=e;if(i.isMesh){var a=n.associations.get(i);if(null!=a&&null!=a.meshes&&null!=a.primitives){var o=r.meshes[a.meshes].primitives[a.primitives].extensions;o&&o[t.name]&&(i.userData.variantMaterials=Sr(o[t.name]))}}}))}}catch(s){o.e(s)}finally{o.f()}return e.userData.variants=a,Promise.resolve()}}]),e}();function Rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var Mr,Dr,Tr,Lr,Fr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=function(e){var t=e.loaded/e.total;n(Math.max(0,Math.min(1,isFinite(t)?t:1)))};return new Promise((function(n,i){t.load(e,n,r,i)}))},_r=new Map,Ur=new Map,Or=new Ot,Pr=new lr,Gr=Symbol("loader"),Nr=Symbol("evictionPolicy"),Zr=Symbol("GLTFInstance"),Hr=function(e,t){(0,y.Z)(o,e);var n,r,i,a=Rr(o);function o(e){var t;return(0,p.Z)(this,o),(t=a.call(this))[xr]=(new Ht).register((function(e){return new kr(e)})),t[Zr]=e,t[Gr].setDRACOLoader(Or),t[Gr].setKTX2Loader(Pr),t}return(0,v.Z)(o,[{key:t,get:function(){return this.constructor[Nr]}},{key:"preload",value:(i=(0,R.Z)(S().mark((function e(t,n){var r,i,a,s,A=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A.length>2&&void 0!==A[2]?A[2]:function(){},this[Gr].setWithCredentials(o.withCredentials),this.dispatchEvent({type:"preload",element:n,src:t}),_r.has(t)){e.next=14;break}if(null==Lr){e.next=10;break}return e.t0=this[Gr],e.next=8,Lr;case 8:e.t1=e.sent,e.t0.setMeshoptDecoder.call(e.t0,e.t1);case 10:i=Fr(t,this[Gr],(function(e){r(.8*e)})),a=this[Zr],s=i.then((function(e){return a.prepare(e)})).then((function(e){return r(.9),new a(e)})).catch((function(e){return console.error(e),new a})),_r.set(t,s);case 14:return e.next=16,_r.get(t);case 16:Ur.set(t,!0),r&&r(1);case 18:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"load",value:(r=(0,R.Z)(S().mark((function e(t,n){var r,i,a,o=this,s=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:function(){},e.next=3,this.preload(t,n,r);case 3:return e.next=5,_r.get(t);case 5:return i=e.sent,e.next=8,i.clone();case 8:return a=e.sent,this[Nr].retain(t),a.dispose=function(){o[Nr].release(t)},e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}],[{key:"setDRACODecoderLocation",value:function(e){Mr=e,Or.setDecoderPath(e)}},{key:"getDRACODecoderLocation",value:function(){return Mr}},{key:"setKTX2TranscoderLocation",value:function(e){Dr=e,Pr.setTranscoderPath(e)}},{key:"getKTX2TranscoderLocation",value:function(){return Dr}},{key:"setMeshoptDecoderLocation",value:function(e){var t;Tr!==e&&(Tr=e,Lr=(t=e,new Promise((function(e,n){var r=document.createElement("script");document.body.appendChild(r),r.onload=e,r.onerror=n,r.async=!0,r.src=t}))).then((function(){return MeshoptDecoder.ready})).then((function(){return MeshoptDecoder})))}},{key:"getMeshoptDecoderLocation",value:function(){return Tr}},{key:"initializeKTX2Loader",value:function(e){Pr.detectSupport(e)}},{key:"cache",get:function(){return _r}},{key:"clearCache",value:function(){var e=this;_r.forEach((function(t,n){e.delete(n)})),this[Nr].reset()}},{key:"has",value:function(e){return _r.has(e)}},{key:"delete",value:(n=(0,R.Z)(S().mark((function e(t){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.has(t)){e.next=2;break}return e.abrupt("return");case 2:return n=_r.get(t),Ur.delete(t),_r.delete(t),e.next=7,n;case 7:e.sent.dispose();case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"hasFinishedLoading",value:function(e){return!!Ur.get(e)}}]),o}(k.pBf,(Qr=Nr,xr=Gr,Nr));function jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}Hr[Qr]=new wr(Hr);var qr,Kr,Jr,Vr,zr,Yr,Wr,Xr,$r,ei,ti=function(e){(0,y.Z)(n,e);var t=jr(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div");return(0,p.Z)(this,n),(e=t.call(this)).isCSS2DObject=!0,e.element=r,e.element.style.position="absolute",e.element.style.userSelect="none",e.element.setAttribute("draggable",!1),e.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))})),e}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,m.Z)((0,E.Z)(n.prototype),"copy",this).call(this,e,t),this.element=e.element.cloneNode(!0),this}}]),n}(k.Tme),ni=new k.Pa4,ri=new k.yGw,ii=new k.yGw,ai=new k.Pa4,oi=new k.Pa4,si=(0,v.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,p.Z)(this,e);var n,r,i,a,o=this,s={objects:new WeakMap},A=void 0!==t.element?t.element:document.createElement("div");function u(e,t,n){if(e.isCSS2DObject){ni.setFromMatrixPosition(e.matrixWorld),ni.applyMatrix4(ii);var r=!0===e.visible&&ni.z>=-1&&ni.z<=1&&!0===e.layers.test(n.layers);if(e.element.style.display=!0===r?"":"none",!0===r){e.onBeforeRender(o,t,n);var c=e.element;c.style.transform="translate(-50%,-50%) translate("+(ni.x*i+i)+"px,"+(-ni.y*a+a)+"px)",c.parentNode!==A&&A.appendChild(c),e.onAfterRender(o,t,n)}var h={distanceToCameraSquared:l(n,e)};s.objects.set(e,h)}for(var f=0,d=e.children.length;f<d;f++)u(e.children[f],t,n)}function l(e,t){return ai.setFromMatrixPosition(e.matrixWorld),oi.setFromMatrixPosition(t.matrixWorld),ai.distanceToSquared(oi)}function c(e){var t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}function h(e){for(var t=c(e).sort((function(e,t){return e.renderOrder!==t.renderOrder?t.renderOrder-e.renderOrder:s.objects.get(e).distanceToCameraSquared-s.objects.get(t).distanceToCameraSquared})),n=t.length,r=0,i=t.length;r<i;r++)t[r].element.style.zIndex=n-r}A.style.overflow="hidden",this.domElement=A,this.getSize=function(){return{width:n,height:r}},this.render=function(e,t){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),ri.copy(t.matrixWorldInverse),ii.multiplyMatrices(t.projectionMatrix,ri),u(e,e,t),h(e)},this.setSize=function(e,t){i=(n=e)/2,a=(r=t)/2,A.style.width=e+"px",A.style.height=t+"px"}})),Ai=function(e,t){return{type:"number",number:e,unit:t}},ui=function(){var e={};return function(t){var n=t;if(n in e)return e[n];for(var r=[],i=0;t;){if(++i>1e3){t="";break}var a=li(t),o=a.nodes[0];if(null==o||0===o.terms.length)break;r.push(o),t=a.remainingInput}return e[n]=r}}(),li=(qr=/^(\-\-|[a-z\u0240-\uffff])/i,Kr=/^([\*\+\/]|[\-]\s)/i,Jr=/^[\),]/,function(e){for(var t=[];e.length&&(e=e.trim(),!Jr.test(e));)if("("===e[0]){var n=di(e),r=n.nodes;e=n.remainingInput,t.push({type:"function",name:{type:"ident",value:"calc"},arguments:r})}else if(qr.test(e)){var i=ci(e),a=i.nodes[0];if("("===(e=i.remainingInput)[0]){var o=di(e),s=o.nodes,A=o.remainingInput;t.push({type:"function",name:a,arguments:s}),e=A}else t.push(a)}else if(Kr.test(e))t.push({type:"operator",value:e[0]}),e=e.slice(1);else{var u="#"===e[0]?fi(e):hi(e),l=u.nodes,c=u.remainingInput;if(0===l.length)break;t.push(l[0]),e=c}return{nodes:[{type:"expression",terms:t}],remainingInput:e}}),ci=(Vr=/[^a-z0-9_\-\u0240-\uffff]/i,function(e){var t=e.match(Vr);return{nodes:[{type:"ident",value:null==t?e:e.substr(0,t.index)}],remainingInput:null==t?"":e.substr(t.index)}}),hi=(zr=/[\+\-]?(\d+[\.]\d+|\d+|[\.]\d+)([eE][\+\-]?\d+)?/,Yr=/^[a-z%]+/i,Wr=/^(m|mm|cm|rad|deg|[%])$/,function(e){var t=e.match(zr),n=null==t?"0":t[0],r=(e=null==n?e:e.slice(n.length)).match(Yr),i=null!=r&&""!==r[0]?r[0]:null,a=null==r?e:e.slice(i.length);return null==i||Wr.test(i)||(i=null),{nodes:[{type:"number",number:parseFloat(n)||0,unit:i}],remainingInput:a}}),fi=(Xr=/^[a-f0-9]*/i,function(e){var t=(e=e.slice(1).trim()).match(Xr);return{nodes:null==t?[]:[{type:"hex",value:t[0]}],remainingInput:null==t?e:e.slice(t[0].length)}}),di=function(e){var t=[];for(e=e.slice(1).trim();e.length;){var n=li(e);if(t.push(n.nodes[0]),","===(e=n.remainingInput.trim())[0])e=e.slice(1).trim();else if(")"===e[0]){e=e.slice(1);break}}return{nodes:t,remainingInput:e}},gi=Symbol("visitedTypes"),pi=function(){function e(t){(0,p.Z)(this,e),this[gi]=t}return(0,v.Z)(e,[{key:"walk",value:function(e,t){for(var n=e.slice();n.length;){var r=n.shift();switch(this[gi].indexOf(r.type)>-1&&t(r),r.type){case"expression":n.unshift.apply(n,(0,D.Z)(r.terms));break;case"function":n.unshift.apply(n,[r.name].concat((0,D.Z)(r.arguments)))}}}}]),e}(),vi=Object.freeze({type:"number",number:0,unit:null}),mi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.number,r=e.unit;if(isFinite(n)){if("rad"===e.unit||null==e.unit)return e}else n=t,r="rad";var i="deg"===r&&null!=n,a=i?n:0,o=a*Math.PI/180;return{type:"number",number:o,unit:"rad"}},yi=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.number,i=e.unit;if(isFinite(r)){if("m"===e.unit)return e}else r=n,i="m";switch(i){default:t=1;break;case"cm":t=.01;break;case"mm":t=.001}var a=t*r;return{type:"number",number:a,unit:"m"}},Ii=(ei={rad:$r=function(e){return e},deg:mi,m:$r,mm:yi,cm:yi},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vi;isFinite(e.number)||(e.number=t.number,e.unit=t.unit);var n=e.unit;if(null==n)return e;var r=ei[n];return null==r?t:r(e)}),Ei=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;(0,p.Z)(this,e),this.velocity=0,this.naturalFrequency=0,this.setDecayTime(t)}return(0,v.Z)(e,[{key:"setDecayTime",value:function(e){this.naturalFrequency=1/Math.max(.001,e)}},{key:"update",value:function(e,t,n,r){var i=2e-4*this.naturalFrequency;if(null==e||0===r)return t;if(e===t&&0===this.velocity)return t;if(n<0)return e;var a=e-t,o=this.velocity+this.naturalFrequency*a,s=a+n*o,A=Math.exp(-this.naturalFrequency*n),u=(o-this.naturalFrequency*s)*A,l=-this.naturalFrequency*(u+o*A);return Math.abs(u)<i*Math.abs(r)&&l*a>=0?(this.velocity=0,t):(this.velocity=u,t+s*A)}}]),e}();function Ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var wi=function(e){(0,y.Z)(n,e);var t=Ci(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,document.createElement("div"))).normal=new k.Pa4(0,1,0),r.initialized=!1,r.referenceCount=1,r.pivot=document.createElement("div"),r.slot=document.createElement("slot"),r.element.classList.add("annotation-wrapper"),r.slot.name=e.name,r.element.appendChild(r.pivot),r.pivot.appendChild(r.slot),r.updatePosition(e.position),r.updateNormal(e.normal),r}return(0,v.Z)(n,[{key:"facingCamera",get:function(){return!this.element.classList.contains("hide")}},{key:"show",value:function(){this.facingCamera&&this.initialized||this.updateVisibility(!0)}},{key:"hide",value:function(){!this.facingCamera&&this.initialized||this.updateVisibility(!1)}},{key:"increment",value:function(){this.referenceCount++}},{key:"decrement",value:function(){return this.referenceCount>0&&--this.referenceCount,0===this.referenceCount}},{key:"updatePosition",value:function(e){if(null!=e){for(var t=ui(e)[0].terms,n=0;n<3;++n)this.position.setComponent(n,Ii(t[n]).number);this.updateMatrixWorld()}}},{key:"updateNormal",value:function(e){if(null!=e)for(var t=ui(e)[0].terms,n=0;n<3;++n)this.normal.setComponent(n,Ii(t[n]).number)}},{key:"orient",value:function(e){this.pivot.style.transform="rotate(".concat(e,"rad)")}},{key:"updateVisibility",value:function(e){e?this.element.classList.remove("hide"):this.element.classList.add("hide"),this.slot.assignedNodes().forEach((function(t){if(t.nodeType===Node.ELEMENT_NODE){var n=t,r=n.dataset.visibilityAttribute;if(null!=r){var i="data-".concat(r);e?n.setAttribute(i,""):n.removeAttribute(i)}n.dispatchEvent(new CustomEvent("hotspot-visibility",{detail:{visible:e}}))}})),this.initialized=!0}}]),n}(ti),Bi=function(e,t,n){var r=n,i=new k.Pa4;return e.traverseVisible((function(e){var n,a;e.updateWorldMatrix(!1,!1);var o=e.geometry;if(void 0!==o)if(o.isGeometry){var s=o.vertices;for(n=0,a=s.length;n<a;n++)i.copy(s[n]),e.isSkinnedMesh?e.boneTransform(n,i):i.applyMatrix4(e.matrixWorld),r=t(r,i)}else if(o.isBufferGeometry){var A=o.attributes.position;if(void 0!==A)for(n=0,a=A.count;n<a;n++)i.fromBufferAttribute(A,n),e.isSkinnedMesh?e.boneTransform(n,i):i.applyMatrix4(e.matrixWorld),r=t(r,i)}})),r},bi={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float h;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"},Qi={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float v;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"};Math.PI,Math.PI;function xi(e,t,n){return(1-n)*e+n*t}function Si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var ki=function(e){(0,y.Z)(n,e);var t=Si(n);function n(e,r,i){var a;(0,p.Z)(this,n),(a=t.call(this)).camera=new k.iKG,a.renderTarget=null,a.renderTargetBlur=null,a.depthMaterial=new k.lRF,a.horizontalBlurMaterial=new k.jyz(bi),a.verticalBlurMaterial=new k.jyz(Qi),a.intensity=0,a.softness=1,a.boundingBox=new k.ZzF,a.size=new k.Pa4,a.maxDimension=0,a.isAnimated=!1,a.needsUpdate=!1;var o=(0,M.Z)(a).camera;o.rotation.x=Math.PI/2,o.left=-.5,o.right=.5,o.bottom=-.5,o.top=.5,a.add(o);var s=new k._12,A=new k.vBJ({opacity:1,transparent:!0,side:k._Li});return a.floor=new k.Kj0(s,A),a.floor.userData.shadow=!0,o.add(a.floor),a.blurPlane=new k.Kj0(s),a.blurPlane.visible=!1,o.add(a.blurPlane),e.target.add((0,M.Z)(a)),a.depthMaterial.onBeforeCompile=function(e){e.fragmentShader=e.fragmentShader.replace("gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );","gl_FragColor = vec4( vec3( 0.0 ), ( 1.0 - fragCoordZ ) * opacity );")},a.horizontalBlurMaterial.depthTest=!1,a.verticalBlurMaterial.depthTest=!1,a.setScene(e,r,i),a}return(0,v.Z)(n,[{key:"setScene",value:function(e,t,n){var r=this.boundingBox,i=this.size,a=this.rotation,o=this.position;if(this.isAnimated=e.animationNames.length>0,this.boundingBox.copy(e.boundingBox),this.size.copy(e.size),this.maxDimension=Math.max(i.x,i.y,i.z)*(this.isAnimated?2:1),this.boundingBox.getCenter(o),"back"===n){var s=r.min,A=r.max,u=[s.z,s.y];s.y=u[0],s.z=u[1];var l=[A.z,A.y];A.y=l[0],A.z=l[1];var c=[i.z,i.y];i.y=c[0],i.z=c[1],a.x=Math.PI/2,a.y=Math.PI}else a.x=0,a.y=0;if(this.isAnimated){var h=r.min.y,f=r.max.y;i.y=this.maxDimension,r.expandByVector(i.subScalar(this.maxDimension).multiplyScalar(-.5)),r.min.y=h,r.max.y=f,i.set(this.maxDimension,f-h,this.maxDimension)}"bottom"===n?o.y=r.min.y:o.z=r.min.y,this.setSoftness(t)}},{key:"setSoftness",value:function(e){this.softness=e;var t=this.size,n=this.camera,r=this.isAnimated?2:1,i=r*Math.pow(2,9-3*e);this.setMapSize(i);var a=t.y/2,o=t.y*r;n.near=0,n.far=xi(o,a,e),this.depthMaterial.opacity=1/e,n.updateProjectionMatrix(),this.setIntensity(this.intensity),this.setOffset(0)}},{key:"setMapSize",value:function(e){var t=this.size;this.isAnimated&&(e*=2);var n=Math.floor(t.x>t.z?e:e*t.x/t.z),r=Math.floor(t.x>t.z?e*t.z/t.x:e),i=10+n,a=10+r;if(null==this.renderTarget||this.renderTarget.width===i&&this.renderTarget.height===a||(this.renderTarget.dispose(),this.renderTarget=null,this.renderTargetBlur.dispose(),this.renderTargetBlur=null),null==this.renderTarget){var o={format:k.wk1};this.renderTarget=new k.dd2(i,a,o),this.renderTargetBlur=new k.dd2(i,a,o),this.floor.material.map=this.renderTarget.texture}this.camera.scale.set(t.x*(1+10/n),t.z*(1+10/r),1),this.needsUpdate=!0}},{key:"setIntensity",value:function(e){this.intensity=e,e>0?(this.visible=!0,this.floor.visible=!0,this.floor.material.opacity=e*xi(.3,1,this.softness*this.softness)):(this.visible=!1,this.floor.visible=!1)}},{key:"getIntensity",value:function(){return this.intensity}},{key:"setOffset",value:function(e){this.floor.position.z=-e+.001*this.maxDimension}},{key:"render",value:function(e,t){t.overrideMaterial=this.depthMaterial;var n=e.getClearAlpha();e.setClearAlpha(0),this.floor.visible=!1;var r=e.xr.enabled;e.xr.enabled=!1;var i=e.getRenderTarget();e.setRenderTarget(this.renderTarget),e.render(t,this.camera),t.overrideMaterial=null,this.floor.visible=!0,this.blurShadow(e),e.xr.enabled=r,e.setRenderTarget(i),e.setClearAlpha(n)}},{key:"blurShadow",value:function(e){var t=this.camera,n=this.horizontalBlurMaterial,r=this.verticalBlurMaterial,i=this.renderTarget,a=this.renderTargetBlur,o=this.blurPlane;o.visible=!0,o.material=n,n.uniforms.h.value=1/this.renderTarget.width,n.uniforms.tDiffuse.value=this.renderTarget.texture,e.setRenderTarget(a),e.render(o,t),o.material=r,r.uniforms.v.value=1/this.renderTarget.height,r.uniforms.tDiffuse.value=this.renderTargetBlur.texture,e.setRenderTarget(i),e.render(o,t),o.visible=!1}}]),n}(k.Tme);function Ri(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Di(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var Ti=new k.Pa4,Li=new k.Pa4,Fi=new k.Pa4,_i=new k.iMs,Ui=new k.Pa4,Oi=new k.FM8,Pi=function(e){(0,y.Z)(o,e);var t,n,r,i,a=Di(o);function o(e){var t,n=e.canvas,r=e.element,i=e.width,s=e.height;(0,p.Z)(this,o),(t=a.call(this)).context=null,t.annotationRenderer=new si,t.schemaElement=document.createElement("script"),t.width=1,t.height=1,t.aspect=1,t.scaleStep=0,t.renderCount=0,t.externalRenderer=null,t.camera=new k.cPb(45,1,.1,100),t.xrCamera=null,t.url=null,t.target=new k.Tme,t.animationNames=[],t.boundingBox=new k.ZzF,t.boundingSphere=new k.aLr,t.size=new k.Pa4,t.idealAspect=0,t.framedFoVDeg=0,t.shadow=null,t.shadowIntensity=0,t.shadowSoftness=1,t.bakedShadows=new Set,t.exposure=1,t.canScale=!0,t.isDirty=!1,t.goalTarget=new k.Pa4,t.targetDamperX=new Ei,t.targetDamperY=new Ei,t.targetDamperZ=new Ei,t._currentGLTF=null,t._model=null,t.cancelPendingSourceChange=null,t.animationsByName=new Map,t.currentAnimationAction=null,t.name="ModelScene",t.element=r,t.canvas=n,t.camera=new k.cPb(45,1,.1,100),t.camera.name="MainCamera",t.add(t.target),t.setSize(i,s),t.target.name="Target",t.mixer=new k.Xcj(t.target);var A=t.annotationRenderer.domElement,u=A.style;return u.display="none",u.pointerEvents="none",u.position="absolute",u.top="0",t.element.shadowRoot.querySelector(".default").appendChild(A),t.schemaElement.setAttribute("type","application/ld+json"),t}return(0,v.Z)(o,[{key:"createContext",value:function(){this.context=this.canvas.getContext("2d")}},{key:"getCamera",value:function(){return null!=this.xrCamera?this.xrCamera:this.camera}},{key:"queueRender",value:function(){this.isDirty=!0}},{key:"shouldRender",value:function(){return this.isDirty}},{key:"hasRendered",value:function(){this.isDirty=!1}},{key:"forceRescale",value:function(){this.scaleStep=-1,this.queueRender()}},{key:"setObject",value:(i=(0,R.Z)(S().mark((function e(t){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.reset(),this._model=t,this.target.add(t),e.next=5,this.setupScene();case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"setSource",value:(r=(0,R.Z)(S().mark((function e(t){var n,r,i,a,o,s,A,u,l,c=this,h=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:function(){},t&&t!==this.url){e.next=4;break}return n(1),e.abrupt("return");case 4:if(this.reset(),this.url=t,null==this.externalRenderer){e.next=13;break}return e.next=9,this.externalRenderer.load(n);case 9:return r=e.sent,this.boundingSphere.radius=r.framedRadius,this.idealAspect=r.fieldOfViewAspect,e.abrupt("return");case 13:return null!=this.cancelPendingSourceChange&&(this.cancelPendingSourceChange(),this.cancelPendingSourceChange=null),e.prev=14,e.next=17,new Promise(function(){var e=(0,R.Z)(S().mark((function e(r,i){var a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.cancelPendingSourceChange=function(){return i()},e.prev=1,e.next=4,c.element[Yo].loader.load(t,c.element,n);case 4:a=e.sent,r(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}());case 17:i=e.sent,e.next=25;break;case 20:if(e.prev=20,e.t0=e.catch(14),null!=e.t0){e.next=24;break}return e.abrupt("return");case 24:throw e.t0;case 25:this.reset(),this.url=t,this._currentGLTF=i,null!=i&&(this._model=i.scene,this.target.add(i.scene)),a=i.animations,o=new Map,s=[],A=Ri(a);try{for(A.s();!(u=A.n()).done;)l=u.value,o.set(l.name,l),s.push(l.name)}catch(f){A.e(f)}finally{A.f()}return this.animations=a,this.animationsByName=o,this.animationNames=s,e.next=39,this.setupScene();case 39:case"end":return e.stop()}}),e,this,[[14,20]])}))),function(e){return r.apply(this,arguments)})},{key:"setupScene",value:(n=(0,R.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.applyTransform(),this.updateBoundingBox(),e.next=4,this.updateFraming();case 4:this.updateShadow(),this.setShadowIntensity(this.shadowIntensity);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"reset",value:function(){this.url=null,this.queueRender(),null!=this.shadow&&this.shadow.setIntensity(0),this.bakedShadows.clear();var e=this._model;null!=e&&(e.removeFromParent(),this._model=null);var t=this._currentGLTF;null!=t&&(t.dispose(),this._currentGLTF=null),null!=this.currentAnimationAction&&(this.currentAnimationAction.stop(),this.currentAnimationAction=null),this.mixer.stopAllAction(),this.mixer.uncacheRoot(this)}},{key:"currentGLTF",get:function(){return this._currentGLTF}},{key:"setSize",value:function(e,t){if(this.width!==e||this.height!==t){if(this.width=Math.max(e,1),this.height=Math.max(t,1),this.annotationRenderer.setSize(e,t),this.aspect=this.width/this.height,null!=this.externalRenderer){var n=vt();this.externalRenderer.resize(e*n,t*n)}this.queueRender()}}},{key:"markBakedShadow",value:function(e){e.userData.shadow=!0,this.bakedShadows.add(e)}},{key:"unmarkBakedShadow",value:function(e){e.userData.shadow=!1,e.visible=!0,this.bakedShadows.delete(e),this.boundingBox.expandByObject(e)}},{key:"findBakedShadows",value:function(e){var t=this,n=new k.ZzF;e.traverse((function(e){var r=e;if(r.isMesh&&r.material.transparent){n.setFromObject(r);var i=n.getSize(Ui),a=Math.min(i.x,i.y,i.z);Math.max(i.x,i.y,i.z)<100*a||t.markBakedShadow(r)}}))}},{key:"checkBakedShadows",value:function(){var e=this.boundingBox,t=e.min,n=e.max,r=new k.ZzF;this.boundingBox.getSize(this.size);var i,a=Ri(this.bakedShadows);try{for(a.s();!(i=a.n()).done;){var o=i.value;r.setFromObject(o),r.min.y<t.y+this.size.y/100&&r.min.x<=t.x&&r.max.x>=n.x&&r.min.z<=t.z&&r.max.z>=n.z||(r.min.z<t.z+this.size.z/100&&r.min.x<=t.x&&r.max.x>=n.x&&r.min.y<=t.y&&r.max.y>=n.y||this.unmarkBakedShadow(o))}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyTransform",value:function(){var e=this.model;if(null!=e){var t=ui(this.element.orientation)[0].terms,n=Ii(t[0]).number,r=Ii(t[1]).number,i=Ii(t[2]).number;e.quaternion.setFromEuler(new k.USm(r,i,n,"YXZ"));var a=ui(this.element.scale)[0].terms;e.scale.set(a[0].number,a[1].number,a[2].number)}}},{key:"updateBoundingBox",value:function(){var e=this,t=this.model;if(null!=t){this.target.remove(t),this.findBakedShadows(t);var n=function(e,t){return e.expandByPoint(t)};this.setBakedShadowVisibility(!1),this.boundingBox=Bi(t,n,new k.ZzF),this.boundingBox.isEmpty()&&(this.setBakedShadowVisibility(!0),this.bakedShadows.forEach((function(t){return e.unmarkBakedShadow(t)})),this.boundingBox=Bi(t,n,new k.ZzF)),this.checkBakedShadows(),this.setBakedShadowVisibility(),this.boundingBox.getSize(this.size),this.target.add(t)}}},{key:"updateFraming",value:(t=(0,R.Z)(S().mark((function e(){var t,n,r,i,a=this;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=this.model)){e.next=3;break}return e.abrupt("return");case 3:return this.target.remove(t),this.setBakedShadowVisibility(!1),n=this.boundingSphere.center,this.element.requestUpdate("cameraTarget"),e.next=9,this.element.updateComplete;case 9:n.copy(this.getTarget()),r=function(e,t){return Math.max(e,n.distanceToSquared(t))},this.boundingSphere.radius=Math.sqrt(Bi(t,r,0)),i=function(e,t){t.sub(n);var r=Math.sqrt(t.x*t.x+t.z*t.z);return Math.max(e,r/(a.idealCameraDistance()-Math.abs(t.y)))},this.idealAspect=Bi(t,i,0)/Math.tan(this.framedFoVDeg/2*Math.PI/180),this.setBakedShadowVisibility(),this.target.add(t);case 16:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setBakedShadowVisibility",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.shadowIntensity<=0,n=Ri(this.bakedShadows);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.visible=t}}catch(i){n.e(i)}finally{n.f()}}},{key:"idealCameraDistance",value:function(){var e=this.framedFoVDeg/2*Math.PI/180;return this.boundingSphere.radius/Math.sin(e)}},{key:"adjustedFoV",value:function(e){var t=Math.tan(e/2*Math.PI/180)*Math.max(1,this.idealAspect/this.aspect);return 2*Math.atan(t)*180/Math.PI}},{key:"getNDC",value:function(e,t){if(null!=this.xrCamera)Oi.set(e/window.screen.width,t/window.screen.height);else{var n=this.element.getBoundingClientRect();Oi.set((e-n.x)/this.width,(t-n.y)/this.height)}return Oi.multiplyScalar(2).subScalar(1),Oi.y*=-1,Oi}},{key:"getSize",value:function(){return{width:this.width,height:this.height}}},{key:"setEnvironmentAndSkybox",value:function(e,t){this.element[Yo].arRenderer.presentedScene!==this&&(this.environment=e,this.background=t,this.queueRender())}},{key:"setTarget",value:function(e,t,n){this.goalTarget.set(-e,-t,-n)}},{key:"setTargetDamperDecayTime",value:function(e){this.targetDamperX.setDecayTime(e),this.targetDamperY.setDecayTime(e),this.targetDamperZ.setDecayTime(e)}},{key:"getTarget",value:function(){return this.goalTarget.clone().multiplyScalar(-1)}},{key:"jumpToGoal",value:function(){this.updateTarget(1e4)}},{key:"updateTarget",value:function(e){var t=this.goalTarget,n=this.target.position;if(t.equals(n))return!1;var r=this.boundingSphere.radius/10,i=n.x,a=n.y,o=n.z;return i=this.targetDamperX.update(i,t.x,e,r),a=this.targetDamperY.update(a,t.y,e,r),o=this.targetDamperZ.update(o,t.z,e,r),this.target.position.set(i,a,o),this.target.updateMatrixWorld(),this.queueRender(),!0}},{key:"pointTowards",value:function(e,t){var n=this.position,r=n.x,i=n.z;this.yaw=Math.atan2(e-r,t-i)}},{key:"model",get:function(){return this._model}},{key:"yaw",get:function(){return this.rotation.y},set:function(e){this.rotation.y=e,this.queueRender()}},{key:"animationTime",get:function(){if(null!=this.currentAnimationAction){var e=Math.max(this.currentAnimationAction._loopCount,0);return this.currentAnimationAction.loop===k.uEv&&1==(1&e)?this.duration-this.currentAnimationAction.time:this.currentAnimationAction.time}return 0},set:function(e){this.mixer.setTime(e),this.queueShadowRender()}},{key:"animationTimeScale",get:function(){return this.mixer.timeScale},set:function(e){this.mixer.timeScale=e}},{key:"duration",get:function(){return null!=this.currentAnimationAction&&this.currentAnimationAction.getClip()?this.currentAnimationAction.getClip().duration:0}},{key:"hasActiveAnimation",get:function(){return null!=this.currentAnimationAction}},{key:"playAnimation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.YKA,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;if(null!=this._currentGLTF){var i=this.animations;if(null!=i&&0!==i.length){var a=null;if(null!=e&&null==(a=this.animationsByName.get(e))){var o=parseInt(e);!isNaN(o)&&o>=0&&o<i.length&&(a=i[o])}null==a&&(a=i[0]);try{var s=this.currentAnimationAction,A=this.mixer.clipAction(a,this);this.currentAnimationAction=A,this.element.paused?this.mixer.stopAllAction():(A.paused=!1,null!=s&&A!==s?A.crossFadeFrom(s,t,!1):this.animationTimeScale>0&&this.animationTime==this.duration&&(this.animationTime=0)),A.setLoop(n,r),A.enabled=!0,A.clampWhenFinished=!0,A.play()}catch(u){console.error(u)}}else console.warn("Cannot play animation (model does not have any animations)")}}},{key:"stopAnimation",value:function(){this.currentAnimationAction=null,this.mixer.stopAllAction()}},{key:"updateAnimation",value:function(e){this.mixer.update(e),this.queueShadowRender()}},{key:"subscribeMixerEvent",value:function(e,t){this.mixer.addEventListener(e,t)}},{key:"updateShadow",value:function(){var e=this.shadow;if(null!=e){var t="wall"===this.element.arPlacement?"back":"bottom";e.setScene(this,this.shadowSoftness,t),e.needsUpdate=!0}}},{key:"renderShadow",value:function(e){var t=this.shadow;null!=t&&1==t.needsUpdate&&(t.render(e,this),t.needsUpdate=!1)}},{key:"queueShadowRender",value:function(){null!=this.shadow&&(this.shadow.needsUpdate=!0)}},{key:"setShadowIntensity",value:function(e){if(this.shadowIntensity=e,null!=this._currentGLTF&&(this.setBakedShadowVisibility(),!(e<=0&&null==this.shadow))){if(null==this.shadow){var t="wall"===this.element.arPlacement?"back":"bottom";this.shadow=new ki(this,this.shadowSoftness,t)}this.shadow.setIntensity(e)}}},{key:"setShadowSoftness",value:function(e){this.shadowSoftness=e;var t=this.shadow;null!=t&&t.setSoftness(e)}},{key:"setShadowOffset",value:function(e){var t=this.shadow;null!=t&&t.setOffset(e)}},{key:"raycaster",get:function(){return _i}},{key:"positionAndNormalFromPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this.raycaster.setFromCamera(e,this.getCamera());var n=this.raycaster.intersectObject(t,!0),r=n.find((function(e){return e.object.visible&&!e.object.userData.shadow}));return null==r||null==r.face?null:null==r.uv?{position:r.point,normal:r.face.normal,uv:null}:(r.face.normal.applyNormalMatrix((new k.Vkp).getNormalMatrix(r.object.matrixWorld)),{position:r.point,normal:r.face.normal,uv:r.uv})}},{key:"addHotspot",value:function(e){this.target.add(e),this.annotationRenderer.domElement.appendChild(e.element)}},{key:"removeHotspot",value:function(e){this.target.remove(e)}},{key:"forHotspots",value:function(e){for(var t=this.target.children,n=0,r=t.length;n<r;n++){var i=t[n];i instanceof wi&&e(i)}}},{key:"updateHotspots",value:function(e){var t=this;this.forHotspots((function(n){Ti.copy(e),Li.setFromMatrixPosition(n.matrixWorld),Ti.sub(Li),Fi.copy(n.normal).transformDirection(t.target.matrixWorld),Ti.dot(Fi)<0?n.hide():n.show()}))}},{key:"orientHotspots",value:function(e){this.forHotspots((function(t){t.orient(e)}))}},{key:"setHotspotsVisibility",value:function(e){this.forHotspots((function(t){t.visible=e}))}},{key:"updateSchema",value:function(e){var t,n=this.schemaElement,r=this.element,i=r.alt,a=r.poster,o=r.iosSrc;if(null!=e){var s=[{"@type":"MediaObject",contentUrl:e,encodingFormat:"gltf"===(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase())?"model/gltf+json":"model/gltf-binary"}];o&&s.push({"@type":"MediaObject",contentUrl:o,encodingFormat:"model/vnd.usdz+zip"});var A={"@context":"http://schema.org/","@type":"3DModel",image:null!=a?a:void 0,name:null!=i?i:void 0,encoding:s};n.textContent=JSON.stringify(A),document.head.appendChild(n)}else null!=n.parentElement&&n.parentElement.removeChild(n)}}]),o}(k.xsS);function Gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var Ni=function(){function e(t,n,r,i,a){var o=this;(0,p.Z)(this,e),this.xrLight=t,this.renderer=n,this.lightProbe=r,this.xrWebGLBinding=null,this.estimationStartCallback=a,this.frameCallback=this.onXRFrame.bind(this);var s=n.xr.getSession();if(i&&"XRWebGLBinding"in window){var A=new k.oAp(16);t.environment=A.texture;var u=n.getContext();switch(s.preferredReflectionFormat){case"srgba8":u.getExtension("EXT_sRGB");break;case"rgba16f":u.getExtension("OES_texture_half_float")}this.xrWebGLBinding=new XRWebGLBinding(s,u),this.lightProbe.addEventListener("reflectionchange",(function(){o.updateReflection()}))}s.requestAnimationFrame(this.frameCallback)}return(0,v.Z)(e,[{key:"updateReflection",value:function(){var e=this.renderer.properties.get(this.xrLight.environment);if(e){var t=this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);t&&(e.__webglTexture=t,this.xrLight.environment.needsPMREMUpdate=!0)}}},{key:"onXRFrame",value:function(e,t){if(this.xrLight){t.session.requestAnimationFrame(this.frameCallback);var n=t.getLightEstimate(this.lightProbe);if(n){this.xrLight.lightProbe.sh.fromArray(n.sphericalHarmonicsCoefficients),this.xrLight.lightProbe.intensity=1;var r=Math.max(1,Math.max(n.primaryLightIntensity.x,Math.max(n.primaryLightIntensity.y,n.primaryLightIntensity.z)));this.xrLight.directionalLight.color.setRGB(n.primaryLightIntensity.x/r,n.primaryLightIntensity.y/r,n.primaryLightIntensity.z/r),this.xrLight.directionalLight.intensity=r,this.xrLight.directionalLight.position.copy(n.primaryLightDirection),this.estimationStartCallback&&(this.estimationStartCallback(),this.estimationStartCallback=null)}}}},{key:"dispose",value:function(){this.xrLight=null,this.renderer=null,this.lightProbe=null,this.xrWebGLBinding=null}}]),e}(),Zi=function(e){(0,y.Z)(n,e);var t=Gi(n);function n(e){var r,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,p.Z)(this,n),(r=t.call(this)).lightProbe=new k.lk7,r.lightProbe.intensity=0,r.add(r.lightProbe),r.directionalLight=new k.Ox3,r.directionalLight.intensity=0,r.add(r.directionalLight),r.environment=null;var a=null,o=!1;return e.xr.addEventListener("sessionstart",(function(){var t=e.xr.getSession();"requestLightProbe"in t&&t.requestLightProbe({reflectionFormat:t.preferredReflectionFormat}).then((function(t){a=new Ni((0,M.Z)(r),e,t,i,(function(){o=!0,r.dispatchEvent({type:"estimationstart"})}))}))})),e.xr.addEventListener("sessionend",(function(){a&&(a.dispose(),a=null),o&&r.dispatchEvent({type:"estimationend"})})),r.dispose=function(){a&&(a.dispose(),a=null),r.remove(r.lightProbe),r.lightProbe=null,r.remove(r.directionalLight),r.directionalLight=null,r.environment=null},r}return(0,v.Z)(n)}(k.ZAu);function Hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var ji=.2,qi=Math.PI/24,Ki=new k.FM8,Ji=function(e,t,n){for(var r=t>0?n>0?0:-Math.PI/2:n>0?Math.PI/2:Math.PI,i=0;i<=12;++i)e.push(t+.17*Math.cos(r),n+.17*Math.sin(r),0,t+ji*Math.cos(r),n+ji*Math.sin(r),0),r+=qi},Vi=function(e){(0,y.Z)(n,e);var t=Hi(n);function n(e,r){var i;(0,p.Z)(this,n);var a=new k.u9r,o=[],s=[],A=e.size,u=e.boundingBox,l=A.x/2,c=("back"===r?A.y:A.z)/2;Ji(s,l,c),Ji(s,-l,c),Ji(s,-l,-c),Ji(s,l,-c);for(var h=s.length/3,f=0;f<h-2;f+=2)o.push(f,f+1,f+3,f,f+3,f+2);var d=h-2;o.push(d,d+1,1,d,1,0),a.setAttribute("position",new k.a$l(s,3)),a.setIndex(o),(i=t.call(this,a)).side=r;var g=i.material;switch(g.side=k.ehD,g.transparent=!0,g.opacity=0,i.goalOpacity=0,i.opacityDamper=new Ei,i.hitPlane=new k.Kj0(new k._12(2*(l+ji),2*(c+ji))),i.hitPlane.visible=!1,i.hitPlane.material.side=k.ehD,i.add(i.hitPlane),u.getCenter(i.position),r){case"bottom":i.rotateX(-Math.PI/2),i.shadowHeight=u.min.y,i.position.y=i.shadowHeight;break;case"back":i.shadowHeight=u.min.z,i.position.z=i.shadowHeight}return e.target.add((0,M.Z)(i)),i.offsetHeight=0,i}return(0,v.Z)(n,[{key:"getHit",value:function(e,t,n){Ki.set(t,-n),this.hitPlane.visible=!0;var r=e.positionAndNormalFromPoint(Ki,this.hitPlane);return this.hitPlane.visible=!1,null==r?null:r.position}},{key:"getExpandedHit",value:function(e,t,n){this.hitPlane.scale.set(1e3,1e3,1e3),this.hitPlane.updateMatrixWorld();var r=this.getHit(e,t,n);return this.hitPlane.scale.set(1,1,1),r}},{key:"offsetHeight",get:function(){return"back"===this.side?this.position.z-this.shadowHeight:this.position.y-this.shadowHeight},set:function(e){e-=.001,"back"===this.side?this.position.z=this.shadowHeight+e:this.position.y=this.shadowHeight+e}},{key:"show",set:function(e){this.goalOpacity=e?.75:0}},{key:"updateOpacity",value:function(e){var t=this.material;t.opacity=this.opacityDamper.update(t.opacity,this.goalOpacity,e,1),this.visible=t.opacity>0}},{key:"dispose",value:function(){var e,t=this.hitPlane,n=t.geometry,r=t.material;n.dispose(),r.dispose(),this.geometry.dispose(),this.material.dispose(),null===(e=this.parent)||void 0===e||e.remove(this)}}]),n}(k.Kj0);function zi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var Xi="not-presenting",$i="session-started",ea="object-placed",ta="failed",na="tracking",ra="not-tracking",ia=new k.Pa4,aa=new k.yGw,oa=new k.Pa4,sa=new k.cPb(45,1,.1,100),Aa=function(e){(0,y.Z)(o,e);var t,n,r,i,a=Wi(o);function o(e){var t;return(0,p.Z)(this,o),(t=a.call(this)).renderer=e,t.currentSession=null,t.placeOnWall=!1,t.placementBox=null,t.lastTick=null,t.turntableRotation=null,t.oldShadowIntensity=null,t.frame=null,t.initialHitSource=null,t.transientHitTestSource=null,t.inputSource=null,t._presentedScene=null,t.resolveCleanup=null,t.exitWebXRButtonContainer=null,t.overlay=null,t.xrLight=null,t.tracking=!0,t.frames=0,t.initialized=!1,t.oldTarget=new k.Pa4,t.placementComplete=!1,t.isTranslating=!1,t.isRotating=!1,t.isTwoFingering=!1,t.lastDragPosition=new k.Pa4,t.firstRatio=0,t.lastAngle=0,t.goalPosition=new k.Pa4,t.goalYaw=0,t.goalScale=1,t.xDamper=new Ei,t.yDamper=new Ei,t.zDamper=new Ei,t.yawDamper=new Ei,t.scaleDamper=new Ei,t.onExitWebXRButtonContainerClick=function(){return t.stopPresenting()},t.onUpdateScene=function(){null!=t.placementBox&&t.isPresenting&&(t.placementBox.dispose(),t.placementBox=new Vi(t.presentedScene,t.placeOnWall?"back":"bottom"))},t.onSelectStart=function(e){var n=t.transientHitTestSource;if(null!=n){var r=t.frame.getHitTestResultsForTransientInput(n),i=t.presentedScene,a=t.placementBox;if(1===r.length){t.inputSource=e.inputSource;var o=t.inputSource.gamepad.axes,s=a.getHit(t.presentedScene,o[0],o[1]);a.show=!0,null!=s?(t.isTranslating=!0,t.lastDragPosition.copy(s)):!1===t.placeOnWall&&(t.isRotating=!0,t.lastAngle=1.5*o[0])}else if(2===r.length){a.show=!0,t.isTwoFingering=!0;var A=t.fingerPolar(r).separation;t.firstRatio=A/i.scale.x}}},t.onSelectEnd=function(){t.isTranslating=!1,t.isRotating=!1,t.isTwoFingering=!1,t.inputSource=null,t.goalPosition.y+=t.placementBox.offsetHeight*t.presentedScene.scale.x,t.placementBox.show=!1},t.threeRenderer=e.threeRenderer,t.threeRenderer.xr.enabled=!0,t}return(0,v.Z)(o,[{key:"resolveARSession",value:(i=(0,R.Z)(S().mark((function e(){var t;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ht(),e.next=3,navigator.xr.requestSession("immersive-ar",{requiredFeatures:["hit-test"],optionalFeatures:["dom-overlay","light-estimation"],domOverlay:this.overlay?{root:this.overlay}:void 0});case 3:return t=e.sent,this.threeRenderer.xr.setReferenceSpaceType("local"),e.next=7,this.threeRenderer.xr.setSession(t);case 7:return this.threeRenderer.xr.cameraAutoUpdate=!1,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"presentedScene",get:function(){return this._presentedScene}},{key:"supportsPresentation",value:(r=(0,R.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ht(),e.next=4,navigator.xr.isSessionSupported("immersive-ar");case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),console.warn("Request to present in WebXR denied:"),console.warn(e.t0),console.warn("Falling back to next ar-mode"),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return r.apply(this,arguments)})},{key:"present",value:(n=(0,R.Z)(S().mark((function e(t){var n,r,i,a,o,s,A,u=this,l=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]&&l[1],this.isPresenting&&console.warn("Cannot present while a model is already presenting"),r=new Promise((function(e,t){requestAnimationFrame((function(){return e()}))})),t.setHotspotsVisibility(!1),t.queueRender(),e.next=7,r;case 7:return this._presentedScene=t,this.overlay=t.element.shadowRoot.querySelector("div.default"),!0===n&&(this.xrLight=new Zi(this.threeRenderer),this.xrLight.addEventListener("estimationstart",(function(){if(u.isPresenting&&null!=u.xrLight){var e=u.presentedScene;e.add(u.xrLight),e.environment=u.xrLight.environment}}))),e.next=12,this.resolveARSession();case 12:return(i=e.sent).addEventListener("end",(function(){u.postSessionCleanup()}),{once:!0}),(a=t.element.shadowRoot.querySelector(".slot.exit-webxr-ar-button")).classList.add("enabled"),a.addEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=a,e.next=20,i.requestReferenceSpace("viewer");case 20:o=e.sent,this.tracking=!0,this.frames=0,this.initialized=!1,this.turntableRotation=t.yaw,this.goalYaw=t.yaw,this.goalScale=1,t.background=null,this.oldShadowIntensity=t.shadowIntensity,t.setShadowIntensity(.01),this.oldTarget.copy(t.getTarget()),t.element.addEventListener("load",this.onUpdateScene),s=20*Math.PI/180,A=!0===this.placeOnWall?void 0:new XRRay(new DOMPoint(0,0,0),{x:0,y:-Math.sin(s),z:-Math.cos(s)}),i.requestHitTestSource({space:o,offsetRay:A}).then((function(e){u.initialHitSource=e})),this.currentSession=i,this.placementBox=new Vi(t,this.placeOnWall?"back":"bottom"),this.placementComplete=!1,this.lastTick=performance.now(),this.dispatchEvent({type:"status",status:$i});case 40:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"stopPresenting",value:(t=(0,R.Z)(S().mark((function e(){var t,n=this;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isPresenting){e.next=2;break}return e.abrupt("return");case 2:return t=new Promise((function(e){n.resolveCleanup=e})),e.prev=3,e.next=6,this.currentSession.end();case 6:return e.next=8,t;case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),console.warn("Error while trying to end WebXR AR session"),console.warn(e.t0),this.postSessionCleanup();case 15:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return t.apply(this,arguments)})},{key:"isPresenting",get:function(){return null!=this.presentedScene}},{key:"target",get:function(){return this.oldTarget}},{key:"updateTarget",value:function(){var e=this.presentedScene;if(null!=e){var t=e.getTarget();this.oldTarget.copy(t),this.placeOnWall?t.z=e.boundingBox.min.z:t.y=e.boundingBox.min.y,e.setTarget(t.x,t.y,t.z)}}},{key:"postSessionCleanup",value:function(){var e=this.currentSession;null!=e&&(e.removeEventListener("selectstart",this.onSelectStart),e.removeEventListener("selectend",this.onSelectEnd),this.currentSession=null);var t=this.presentedScene;if(this._presentedScene=null,null!=t){var n=t.element;null!=this.xrLight&&(t.remove(this.xrLight),this.xrLight.dispose(),this.xrLight=null),t.position.set(0,0,0),t.scale.set(1,1,1),t.setShadowOffset(0);var r=this.turntableRotation;null!=r&&(t.yaw=r);var i=this.oldShadowIntensity;null!=i&&t.setShadowIntensity(i),t.setEnvironmentAndSkybox(n[Bt],n[bt]);var a=this.oldTarget;t.setTarget(a.x,a.y,a.z),t.xrCamera=null,t.element.removeEventListener("load",this.onUpdateScene),t.orientHotspots(0),n.requestUpdate("cameraTarget"),n.requestUpdate("maxCameraOrbit"),n[zo](n.getBoundingClientRect())}this.renderer.height=0;var o=this.exitWebXRButtonContainer;null!=o&&(o.classList.remove("enabled"),o.removeEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=null);var s=this.transientHitTestSource;null!=s&&(s.cancel(),this.transientHitTestSource=null);var A=this.initialHitSource;null!=A&&(A.cancel(),this.initialHitSource=null),null!=this.placementBox&&(this.placementBox.dispose(),this.placementBox=null),this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.frame=null,this.inputSource=null,this.overlay=null,null!=this.resolveCleanup&&this.resolveCleanup(),this.dispatchEvent({type:"status",status:Xi})}},{key:"updateView",value:function(e){var t=this.presentedScene,n=this.threeRenderer.xr;n.updateCamera(sa),t.xrCamera=n.getCamera();var r=t.getCamera().matrixWorld.elements;if(t.orientHotspots(Math.atan2(r[1],r[5])),this.initialized||(this.placeInitially(),this.initialized=!0),e.requestViewportScale&&e.recommendedViewportScale){var i=e.recommendedViewportScale;e.requestViewportScale(Math.max(i,.25))}var a=this.currentSession.renderState.baseLayer.getViewport(e);this.threeRenderer.setViewport(a.x,a.y,a.width,a.height)}},{key:"placeInitially",value:function(){var e=this,t=this.presentedScene,n=t.position,r=t.element,i=t.getCamera(),a=this.overlay.getBoundingClientRect(),o=a.width,s=a.height;t.setSize(o,s),i.projectionMatrixInverse.copy(i.projectionMatrix).invert();var A=r.getCameraOrbit(),u=A.theta,l=A.radius,c=i.getWorldDirection(ia);t.yaw=Math.atan2(-c.x,-c.z)-u,this.goalYaw=t.yaw,n.copy(i.position).add(c.multiplyScalar(l)),this.updateTarget();var h=t.getTarget();n.add(h).sub(this.oldTarget),this.goalPosition.copy(n),t.setHotspotsVisibility(!0);var f=this.frame.session;f.addEventListener("selectstart",this.onSelectStart),f.addEventListener("selectend",this.onSelectEnd),f.requestHitTestSourceForTransientInput({profile:"generic-touchscreen"}).then((function(t){e.transientHitTestSource=t}))}},{key:"getTouchLocation",value:function(){var e=this.inputSource.gamepad.axes,t=this.placementBox.getExpandedHit(this.presentedScene,e[0],e[1]);return null!=t&&(ia.copy(t).sub(this.presentedScene.getCamera().position),ia.length()>10)?null:t}},{key:"getHitPoint",value:function(e){var t=this.threeRenderer.xr.getReferenceSpace(),n=e.getPose(t);if(null==n)return null;var r=aa.fromArray(n.transform.matrix);return!0===this.placeOnWall&&(this.goalYaw=Math.atan2(r.elements[4],r.elements[6])),r.elements[5]>.75!==this.placeOnWall?oa.setFromMatrixPosition(r):null}},{key:"moveToFloor",value:function(e){var t=this.initialHitSource;if(null!=t){var n=e.getHitTestResults(t);if(0!=n.length){var r=n[0],i=this.getHitPoint(r);null!=i&&(this.placementBox.show=!0,this.isTranslating||(this.placeOnWall?this.goalPosition.copy(i):this.goalPosition.y=i.y),t.cancel(),this.initialHitSource=null,this.dispatchEvent({type:"status",status:ea}))}}}},{key:"fingerPolar",value:function(e){var t=e[0].inputSource.gamepad.axes,n=e[1].inputSource.gamepad.axes,r=n[0]-t[0],i=n[1]-t[1],a=Math.atan2(i,r),o=this.lastAngle-a;return o>Math.PI?o-=2*Math.PI:o<-Math.PI&&(o+=2*Math.PI),this.lastAngle=a,{separation:Math.sqrt(r*r+i*i),deltaYaw:o}}},{key:"processInput",value:function(e){var t=this,n=this.transientHitTestSource;if(null!=n&&(this.isTranslating||this.isTwoFingering||this.isRotating)){var r=e.getHitTestResultsForTransientInput(n),i=this.presentedScene,a=i.scale.x;if(this.isTwoFingering)if(r.length<2)this.isTwoFingering=!1;else{var o=this.fingerPolar(r),s=o.separation,A=o.deltaYaw;if(!1===this.placeOnWall&&(this.goalYaw+=A),i.canScale){var u=s/this.firstRatio;this.goalScale=u<1.3&&u>.7692307692307692?1:u}}else if(2!==r.length)if(this.isRotating){var l=1.5*this.inputSource.gamepad.axes[0];this.goalYaw+=l-this.lastAngle,this.lastAngle=l}else this.isTranslating&&r.forEach((function(e){if(e.inputSource===t.inputSource){var n=null;if(e.results.length>0&&(n=t.getHitPoint(e.results[0])),null==n&&(n=t.getTouchLocation()),null!=n){if(t.goalPosition.sub(t.lastDragPosition),!1===t.placeOnWall){var r=n.y-t.lastDragPosition.y;if(r<0){t.placementBox.offsetHeight=r/a,t.presentedScene.setShadowOffset(r);var o=ia.copy(i.getCamera().position),s=-r/(o.y-n.y);o.multiplyScalar(s),n.multiplyScalar(1-s).add(o)}}t.goalPosition.add(n),t.lastDragPosition.copy(n)}}}));else{this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!0;var c=this.fingerPolar(r).separation;this.firstRatio=c/a}}}},{key:"moveScene",value:function(e){var t=this.presentedScene,n=t.position,r=t.yaw,i=t.boundingSphere.radius,a=this.goalPosition,o=t.scale.x,s=this.placementBox;if(!a.equals(n)||this.goalScale!==o){var A=n.x,u=n.y,l=n.z;A=this.xDamper.update(A,a.x,e,i),u=this.yDamper.update(u,a.y,e,i),l=this.zDamper.update(l,a.z,e,i),n.set(A,u,l);var c=this.scaleDamper.update(o,this.goalScale,e,1);if(t.scale.set(c,c,c),!this.isTranslating){var h=a.y-u;this.placementComplete&&!1===this.placeOnWall?(s.offsetHeight=h/c,t.setShadowOffset(h)):0===h&&(this.placementComplete=!0,s.show=!1,t.setShadowIntensity(.8))}}s.updateOpacity(e),t.updateTarget(e),t.yaw=this.yawDamper.update(r,this.goalYaw,e,Math.PI)}},{key:"onWebXRFrame",value:function(e,t){this.frame=t,++this.frames;var n=this.threeRenderer.xr.getReferenceSpace(),r=t.getViewerPose(n);null==r&&!0===this.tracking&&this.frames>30&&(this.tracking=!1,this.dispatchEvent({type:"tracking",status:ra}));var i=this.presentedScene;if(null!=r&&null!=i&&i.element.loaded){!1===this.tracking&&(this.tracking=!0,this.dispatchEvent({type:"tracking",status:na}));var a,o=!0,s=zi(r.views);try{for(s.s();!(a=s.n()).done;){var A=a.value;if(this.updateView(A),o){this.moveToFloor(t),this.processInput(t);var u=e-this.lastTick;this.moveScene(u),this.renderer.preRender(i,e,u),this.lastTick=e,i.renderShadow(this.threeRenderer)}this.threeRenderer.render(i,i.getCamera()),o=!1}}catch(l){s.e(l)}finally{s.f()}}else this.threeRenderer.clear()}}]),o}(k.pBf),ua=function(){function e(t){(0,p.Z)(this,e),t.threeRenderer.debug={checkShaderErrors:!0},Promise.resolve().then((function(){self.dispatchEvent(new CustomEvent("model-viewer-renderer-debug",{detail:{renderer:t,THREE:{ShaderMaterial:k.jyz,Texture:k.xEZ,Mesh:k.Kj0,Scene:k.xsS,PlaneGeometry:k._12,OrthographicCamera:k.iKG,WebGLRenderTarget:k.dd2}}}))}))}return(0,v.Z)(e,[{key:"addScene",value:function(e){self.dispatchEvent(new CustomEvent("model-viewer-scene-added-debug",{detail:{scene:e}}))}},{key:"removeScene",value:function(e){self.dispatchEvent(new CustomEvent("model-viewer-scene-removed-debug",{detail:{scene:e}}))}}]),e}();function la(e){var t=new Map,n=new Map,r=e.clone();return ca(e,r,(function(e,r){t.set(r,e),n.set(e,r)})),r.traverse((function(e){if(e.isSkinnedMesh){var r=e,i=t.get(e),a=i.skeleton.bones;r.skeleton=i.skeleton.clone(),r.bindMatrix.copy(i.bindMatrix),r.skeleton.bones=a.map((function(e){return n.get(e)})),r.bind(r.skeleton,r.bindMatrix)}})),r}function ca(e,t,n){n(e,t);for(var r=0;r<e.children.length;r++)ca(e.children[r],t.children[r],n)}var ha=Symbol("prepared"),fa=Symbol("prepare"),da=Symbol("preparedGLTF"),ga=Symbol("clone"),pa=function(){function e(t){(0,p.Z)(this,e),this[da]=t}return(0,v.Z)(e,[{key:"parser",get:function(){return this[da].parser}},{key:"animations",get:function(){return this[da].animations}},{key:"scene",get:function(){return this[da].scene}},{key:"scenes",get:function(){return this[da].scenes}},{key:"cameras",get:function(){return this[da].cameras}},{key:"asset",get:function(){return this[da].asset}},{key:"userData",get:function(){return this[da].userData}},{key:"clone",value:function(){return new(0,this.constructor)(this[ga]())}},{key:"dispose",value:function(){this.scenes.forEach((function(e){e.traverse((function(e){if(e.isMesh){var t=e;(Array.isArray(t.material)?t.material:[t.material]).forEach((function(e){for(var t in e){var n=e[t];if(n instanceof k.xEZ){var r=n.source.data;null!=r.close&&r.close(),n.dispose()}}e.dispose()})),t.geometry.dispose()}}))}))}},{key:ga,value:function(){var e=this[da],t=la(this.scene);va(t,this.scene);var n=[t],r=e.userData?Object.assign({},e.userData):{};return Object.assign(Object.assign({},e),{scene:t,scenes:n,userData:r})}}],[{key:"prepare",value:function(e){if(null==e.scene)throw new Error("Model does not have a scene");if(e[ha])return e;var t=this[fa](e);return t[ha]=!0,t}},{key:fa,value:function(e){var t=e.scene,n=[t];return Object.assign(Object.assign({},e),{scene:t,scenes:n})}}]),e}(),va=function(e,t){ma(e,t,(function(e,t){void 0!==t.userData.variantMaterials&&(e.userData.variantMaterials=new Map(t.userData.variantMaterials)),void 0!==t.userData.variantData&&(e.userData.variantData=t.userData.variantData),void 0!==t.userData.originalMaterial&&(e.userData.originalMaterial=t.userData.originalMaterial)}))},ma=function e(t,n,r){r(t,n);for(var i=0;i<t.children.length;i++)e(t.children[i],n.children[i],r)};function ya(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ia(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ea=Symbol("threeGLTF"),Ca=Symbol("gltf"),wa=Symbol("gltfElementMap"),Ba=Symbol("threeObjectMap"),ba=Symbol("parallelTraverseThreeScene"),Qa=Symbol("correlateOriginalThreeGLTF"),xa=Symbol("correlateCloneThreeGLTF"),Sa=function(){function e(t,n,r,i){(0,p.Z)(this,e),this[Ea]=t,this[Ca]=n,this[wa]=i,this[Ba]=r}return(0,v.Z)(e,[{key:"threeGLTF",get:function(){return this[Ea]}},{key:"gltf",get:function(){return this[Ca]}},{key:"gltfElementMap",get:function(){return this[wa]}},{key:"threeObjectMap",get:function(){return this[Ba]}}],[{key:"from",value:function(e,t){return null!=t?this[xa](e,t):this[Qa](e)}},{key:Qa,value:function(t){var n,r=t.parser.json,i=t.parser.associations,a=new Map,o={name:"Default"},s={type:"materials",index:-1},A=ya(i.keys());try{for(A.s();!(n=A.n()).done;){var u=n.value;u instanceof k.F5T&&null==i.get(u)&&(s.index<0&&(null==r.materials&&(r.materials=[]),s.index=r.materials.length,r.materials.push(o)),u.name=o.name,i.set(u,{materials:s.index}))}}catch(I){A.e(I)}finally{A.f()}var l,c=ya(i);try{for(c.s();!(l=c.n()).done;){var h=(0,te.Z)(l.value,2),f=h[0],d=h[1];if(d){var g=f;g.userData=g.userData||{},g.userData.associations=d}for(var p in d)if(null!=p&&"primitives"!==p){var v=p,m=(r[v]||[])[d[v]];if(null==m)continue;var y=a.get(m);null==y&&(y=new Set,a.set(m,y)),y.add(f)}}}catch(I){c.e(I)}finally{c.f()}return new e(t,r,i,a)}},{key:xa,value:function(t,n){for(var r=n.threeGLTF,i=n.gltf,a=JSON.parse(JSON.stringify(i)),o=new Map,s=new Map,A=0;A<r.scenes.length;A++)this[ba](r.scenes[A],t.scenes[A],(function(e,t){var r=n.threeObjectMap.get(e);if(null!=r)for(var i in r)if(null!=i&&"primitives"!==i){var A=i,u=r[A],l=a[A][u],c=o.get(t)||{};c[A]=u,o.set(t,c);var h=s.get(l)||new Set;h.add(t),s.set(l,h)}}));return new e(t,a,o,s)}},{key:ba,value:function(e,t,n){!function e(t,r){if(n(t,r),t.isObject3D){if(t.isMesh)if(Array.isArray(t.material))for(var i=0;i<t.material.length;++i)e(t.material[i],r.material[i]);else e(t.material,r.material);for(var a=0;a<t.children.length;++a)e(t.children[a],r.children[a])}}(e,t)}}]),e}();function ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var Ra=Symbol("correlatedSceneGraph"),Ma=function(e){(0,y.Z)(n,e);var t=ka(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n,[{key:"correlatedSceneGraph",get:function(){return this[da][Ra]}},{key:ga,value:function(){var e=(0,m.Z)((0,E.Z)(n.prototype),ga,this).call(this),t=new Map;return e.scene.traverse((function(e){if(e.isMesh){var n=e,r=n.material;if(null!=r){if(t.has(r.uuid))return void(n.material=t.get(r.uuid));n.material=r.clone(),t.set(r.uuid,n.material)}}})),e[Ra]=Sa.from(e,this.correlatedSceneGraph),e}}],[{key:fa,value:function(e){var t=(0,m.Z)((0,E.Z)(n),fa,this).call(this,e);null==t[Ra]&&(t[Ra]=Sa.from(t));var r=t.scene,i=new k.aLr(void 0,1/0);return r.traverse((function(e){e.renderOrder=1e3,e.frustumCulled=!1,e.name||(e.name=e.uuid);var n=e;if(n.isMesh){var r=n.geometry;n.castShadow=!0,n.isSkinnedMesh&&(r.boundingSphere=i,r.boundingBox=null);var a=n.material;if(!0===a.isMeshBasicMaterial&&(a.toneMapped=!1),a.shadowSide=k.Wl3,a.aoMap){var o=t[Ra],s=o.gltf,A=o.threeObjectMap.get(a);if(null!=s.materials&&null!=A&&null!=A.materials){var u=s.materials[A.materials];u.occlusionTexture&&0===u.occlusionTexture.texCoord&&null!=r.attributes.uv&&r.setAttribute("uv2",r.attributes.uv)}}}})),t}}]),n}(pa);function Da(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var Ta=function(e){(0,y.Z)(n,e);var t=Da(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,e)).type=k.cLu,r}return(0,v.Z)(n,[{key:"parse",value:function(e){var t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},n=function(e,t,n){t=t||1024;for(var r=e.pos,i=-1,a=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));0>(i=s.indexOf("\n"))&&a<t&&r<e.byteLength;)o+=s,a+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<i&&(!1!==n&&(e.pos+=a+i+1),o+s.slice(0,i))},r=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=e[t+0]*a,n[r+1]=e[t+1]*a,n[r+2]=e[t+2]*a,n[r+3]=1},i=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=k.A5E.toHalfFloat(Math.min(e[t+0]*a,65504)),n[r+1]=k.A5E.toHalfFloat(Math.min(e[t+1]*a,65504)),n[r+2]=k.A5E.toHalfFloat(Math.min(e[t+2]*a,65504)),n[r+3]=k.A5E.toHalfFloat(1)},a=new Uint8Array(e);a.pos=0;var o=function(e){var r,i,a=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,A=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,u={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(r=n(e)))return t(1,"no header found");if(!(i=r.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(u.valid|=1,u.programtype=i[1],u.string+=r+"\n";!1!==(r=n(e));)if(u.string+=r+"\n","#"!==r.charAt(0)){if((i=r.match(a))&&(u.gamma=parseFloat(i[1])),(i=r.match(o))&&(u.exposure=parseFloat(i[1])),(i=r.match(s))&&(u.valid|=2,u.format=i[1]),(i=r.match(A))&&(u.valid|=4,u.height=parseInt(i[1],10),u.width=parseInt(i[2],10)),2&u.valid&&4&u.valid)break}else u.comments+=r+"\n";return 2&u.valid?4&u.valid?u:t(3,"missing image size specifier"):t(3,"missing format specifier")}(a);if(-1!==o){var s=o.width,A=o.height,u=function(e,n,r){var i=n;if(i<8||i>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(i!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");var a=new Uint8Array(4*n*r);if(!a.length)return t(4,"unable to allocate buffer space");for(var o=0,s=0,A=4*i,u=new Uint8Array(4),l=new Uint8Array(A),c=r;c>0&&s<e.byteLength;){if(s+4>e.byteLength)return t(1);if(u[0]=e[s++],u[1]=e[s++],u[2]=e[s++],u[3]=e[s++],2!=u[0]||2!=u[1]||(u[2]<<8|u[3])!=i)return t(3,"bad rgbe scanline format");for(var h=0,f=void 0;h<A&&s<e.byteLength;){var d=(f=e[s++])>128;if(d&&(f-=128),0===f||h+f>A)return t(3,"bad scanline data");if(d)for(var g=e[s++],p=0;p<f;p++)l[h++]=g;else l.set(e.subarray(s,s+f),h),h+=f,s+=f}for(var v=i,m=0;m<v;m++){var y=0;a[o]=l[m+y],y+=i,a[o+1]=l[m+y],y+=i,a[o+2]=l[m+y],y+=i,a[o+3]=l[m+y],o+=4}c--}return a}(a.subarray(a.pos),s,A);if(-1!==u){var l,c,h;switch(this.type){case k.VzW:h=u.length/4;for(var f=new Float32Array(4*h),d=0;d<h;d++)r(u,4*d,f,4*d);l=f,c=k.VzW;break;case k.cLu:h=u.length/4;for(var g=new Uint16Array(4*h),p=0;p<h;p++)i(u,4*p,g,4*p);l=g,c=k.cLu;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:s,height:A,data:l,header:o.string,gamma:o.gamma,exposure:o.exposure,type:c}}}return null}},{key:"setDataType",value:function(e){return this.type=e,this}},{key:"load",value:function(e,t,r,i){return(0,m.Z)((0,E.Z)(n.prototype),"load",this).call(this,e,(function(e,n){switch(e.type){case k.VzW:case k.cLu:e.encoding=k.rnI,e.minFilter=k.wem,e.magFilter=k.wem,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),r,i)}}]),n}(k.yxD);function La(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var Fa=function(e){(0,y.Z)(n,e);var t=La(n);function n(){var e;(0,p.Z)(this,n),(e=t.call(this)).position.y=-3.5;var r=new k.DvJ;r.deleteAttribute("uv");var i=new k.Wid({metalness:0,side:k._Li}),a=new k.Wid({metalness:0}),o=new k.cek(16777215,500,28,2);o.position.set(.418,16.199,.3),e.add(o);var s=new k.Kj0(r,i);s.position.set(-.757,13.219,.717),s.scale.set(31.713,28.305,28.591),e.add(s);var A=new k.Kj0(r,a);A.position.set(-10.906,2.009,1.846),A.rotation.set(0,-.195,0),A.scale.set(2.328,7.905,4.651),e.add(A);var u=new k.Kj0(r,a);u.position.set(-5.607,-.754,-.758),u.rotation.set(0,.994,0),u.scale.set(1.97,1.534,3.955),e.add(u);var l=new k.Kj0(r,a);l.position.set(6.167,.857,7.803),l.rotation.set(0,.561,0),l.scale.set(3.927,6.285,3.687),e.add(l);var c=new k.Kj0(r,a);c.position.set(-2.017,.018,6.124),c.rotation.set(0,.333,0),c.scale.set(2.002,4.566,2.064),e.add(c);var h=new k.Kj0(r,a);h.position.set(2.291,-.756,-2.621),h.rotation.set(0,-.286,0),h.scale.set(1.546,1.552,1.496),e.add(h);var f=new k.Kj0(r,a);f.position.set(-2.193,-.369,-5.547),f.rotation.set(0,.516,0),f.scale.set(3.875,3.487,2.986),e.add(f);var d=new k.Kj0(r,e.createAreaLightMaterial(50));d.position.set(-16.116,14.37,8.208),d.scale.set(.1,2.428,2.739),e.add(d);var g=new k.Kj0(r,e.createAreaLightMaterial(50));g.position.set(-16.109,18.021,-8.207),g.scale.set(.1,2.425,2.751),e.add(g);var v=new k.Kj0(r,e.createAreaLightMaterial(17));v.position.set(14.904,12.198,-1.832),v.scale.set(.15,4.265,6.331),e.add(v);var m=new k.Kj0(r,e.createAreaLightMaterial(43));m.position.set(-.462,8.89,14.52),m.scale.set(4.38,5.441,.088),e.add(m);var y=new k.Kj0(r,e.createAreaLightMaterial(20));y.position.set(3.235,11.486,-12.541),y.scale.set(2.5,2,.1),e.add(y);var I=new k.Kj0(r,e.createAreaLightMaterial(100));return I.position.set(0,20,0),I.scale.set(1,.1,1),e.add(I),e}return(0,v.Z)(n,[{key:"createAreaLightMaterial",value:function(e){var t=new k.vBJ;return t.color.setScalar(e),t}}]),n}(k.xsS);function _a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var Ua=function(e){(0,y.Z)(n,e);var t=_a(n);function n(){var e;(0,p.Z)(this,n),(e=t.call(this)).position.y=-3.5;var r=new k.DvJ;r.deleteAttribute("uv");var i=new k.Wid({metalness:0,side:k._Li}),a=new k.Wid({metalness:0}),o=new k.cek(16777215,400,28,2);o.position.set(.5,14,.5),e.add(o);var s=new k.Kj0(r,i);s.position.set(0,13.2,0),s.scale.set(31.5,28.5,31.5),e.add(s);var A=new k.Kj0(r,a);A.position.set(-10.906,-1,1.846),A.rotation.set(0,-.195,0),A.scale.set(2.328,7.905,4.651),e.add(A);var u=new k.Kj0(r,a);u.position.set(-5.607,-.754,-.758),u.rotation.set(0,.994,0),u.scale.set(1.97,1.534,3.955),e.add(u);var l=new k.Kj0(r,a);l.position.set(6.167,-.16,7.803),l.rotation.set(0,.561,0),l.scale.set(3.927,6.285,3.687),e.add(l);var c=new k.Kj0(r,a);c.position.set(-2.017,.018,6.124),c.rotation.set(0,.333,0),c.scale.set(2.002,4.566,2.064),e.add(c);var h=new k.Kj0(r,a);h.position.set(2.291,-.756,-2.621),h.rotation.set(0,-.286,0),h.scale.set(1.546,1.552,1.496),e.add(h);var f=new k.Kj0(r,a);f.position.set(-2.193,-.369,-5.547),f.rotation.set(0,.516,0),f.scale.set(3.875,3.487,2.986),e.add(f);var d=new k.Kj0(r,e.createAreaLightMaterial(80));d.position.set(-14,10,8),d.scale.set(.1,2.5,2.5),e.add(d);var g=new k.Kj0(r,e.createAreaLightMaterial(80));g.position.set(-14,14,-4),g.scale.set(.1,2.5,2.5),e.add(g);var v=new k.Kj0(r,e.createAreaLightMaterial(23));v.position.set(14,12,0),v.scale.set(.1,5,5),e.add(v);var m=new k.Kj0(r,e.createAreaLightMaterial(16));m.position.set(0,9,14),m.scale.set(5,5,.1),e.add(m);var y=new k.Kj0(r,e.createAreaLightMaterial(80));y.position.set(7,8,-14),y.scale.set(2.5,2.5,.1),e.add(y);var I=new k.Kj0(r,e.createAreaLightMaterial(80));I.position.set(-7,16,-14),I.scale.set(2.5,2.5,.1),e.add(I);var E=new k.Kj0(r,e.createAreaLightMaterial(1));return E.position.set(0,20,0),E.scale.set(.1,.1,.1),e.add(E),e}return(0,v.Z)(n,[{key:"createAreaLightMaterial",value:function(e){var t=new k.vBJ;return t.color.setScalar(e),t}}]),n}(k.xsS);function Oa(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pa(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ga(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var Na=20,Za=/\.hdr(\.js)?$/,Ha=new k.dpR,ja=new Ta;ja.setDataType(k.cLu);var qa=function(e){(0,y.Z)(u,e);var t,n,r,i,a,o,s,A=Ga(u);function u(e){var t;return(0,p.Z)(this,u),(t=A.call(this)).threeRenderer=e,t.generatedEnvironmentMap=null,t.generatedEnvironmentMapAlt=null,t.skyboxCache=new Map,t.blurMaterial=null,t.blurScene=null,t}return(0,v.Z)(u,[{key:"load",value:(s=(0,R.Z)(S().mark((function e(t){var n,r,i,a,o=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:function(){},e.prev=1,r=Za.test(t),i=r?ja:Ha,e.next=6,new Promise((function(e,r){return i.load(t,e,(function(e){n(e.loaded/e.total*.9)}),r)}));case 6:return a=e.sent,n(1),a.name=t,a.mapping=k.dSO,r||(a.encoding=k.knz),e.abrupt("return",a);case 12:return e.prev=12,n&&n(1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,,12,15]])}))),function(e){return s.apply(this,arguments)})},{key:"generateEnvironmentMapAndSkybox",value:(o=(0,R.Z)(S().mark((function e(){var t,n,r,i,a,o,s,A,u,l,c=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:null,n=c.length>1&&void 0!==c[1]?c[1]:null,r=c.length>2&&void 0!==c[2]?c[2]:function(){},i="legacy"!==n,"legacy"!==n&&"neutral"!==n||(n=null),n=ct(n),a=Promise.resolve(null),t&&(a=this.loadEquirectFromUrl(t,r)),o=n?this.loadEquirectFromUrl(n,r):t?this.loadEquirectFromUrl(t,r):i?this.loadGeneratedEnvironmentMapAlt():this.loadGeneratedEnvironmentMap(),e.next=11,Promise.all([o,a]);case 11:if(s=e.sent,A=(0,te.Z)(s,2),u=A[0],l=A[1],null!=u){e.next=17;break}throw new Error("Failed to load environment map.");case 17:return e.abrupt("return",{environmentMap:u,skybox:l});case 18:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"loadEquirectFromUrl",value:(a=(0,R.Z)(S().mark((function e(t,n){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.skyboxCache.has(t)||(r=this.load(t,n),this.skyboxCache.set(t,r)),e.abrupt("return",this.skyboxCache.get(t));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"GenerateEnvironmentMap",value:(i=(0,R.Z)(S().mark((function e(t,n){var r,i,a,o,s,A;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt();case 2:return r=this.threeRenderer,i=new k.oAp(256,{generateMipmaps:!1,type:k.cLu,format:k.wk1,encoding:k.rnI,depthBuffer:!0}),a=new k._am(.1,100,i),(o=a.renderTarget.texture).name=n,s=r.outputEncoding,A=r.toneMapping,r.toneMapping=k.uL9,r.outputEncoding=k.rnI,a.update(r,t),this.blurCubemap(i,.04),r.toneMapping=A,r.outputEncoding=s,e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"loadGeneratedEnvironmentMap",value:(r=(0,R.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.generatedEnvironmentMap&&(this.generatedEnvironmentMap=this.GenerateEnvironmentMap(new Fa,"legacy")),e.abrupt("return",this.generatedEnvironmentMap);case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"loadGeneratedEnvironmentMapAlt",value:(n=(0,R.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.generatedEnvironmentMapAlt&&(this.generatedEnvironmentMapAlt=this.GenerateEnvironmentMap(new Ua,"neutral")),e.abrupt("return",this.generatedEnvironmentMapAlt);case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"blurCubemap",value:function(e,t){if(null==this.blurMaterial){this.blurMaterial=this.getBlurShader(Na);var n=new k.DvJ,r=new k.Kj0(n,this.blurMaterial);this.blurScene=new k.xsS,this.blurScene.add(r)}var i=e.clone();this.halfblur(e,i,t,"latitudinal"),this.halfblur(i,e,t,"longitudinal")}},{key:"halfblur",value:function(e,t,n,r){var i=e.width,a=isFinite(n)?Math.PI/(2*i):2*Math.PI/39,o=n/a,s=isFinite(n)?1+Math.floor(3*o):Na;s>Na&&console.warn("sigmaRadians, ".concat(n,", is too large and will clip, as it requested ").concat(s," samples when the maximum is set to ").concat(Na));for(var A=[],u=0,l=0;l<Na;++l){var c=l/o,h=Math.exp(-c*c/2);A.push(h),0==l?u+=h:l<s&&(u+=2*h)}for(var f=0;f<A.length;f++)A[f]=A[f]/u;var d=this.blurMaterial.uniforms;d.envMap.value=e.texture,d.samples.value=s,d.weights.value=A,d.latitudinal.value="latitudinal"===r,d.dTheta.value=a,new k._am(.1,100,t).update(this.threeRenderer,this.blurScene)}},{key:"getBlurShader",value:function(e){var t=new Float32Array(e),n=new k.Pa4(0,1,0);return new k.jyz({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},poleAxis:{value:n}},vertexShader:"\n      \n      varying vec3 vOutputDirection;\n  \n      void main() {\n  \n        vOutputDirection = vec3( position );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  \n      }\n    ",fragmentShader:"\n        varying vec3 vOutputDirection;\n  \n        uniform samplerCube envMap;\n        uniform int samples;\n        uniform float weights[ n ];\n        uniform bool latitudinal;\n        uniform float dTheta;\n        uniform vec3 poleAxis;\n  \n        vec3 getSample( float theta, vec3 axis ) {\n  \n          float cosTheta = cos( theta );\n          // Rodrigues' axis-angle rotation\n          vec3 sampleDirection = vOutputDirection * cosTheta\n            + cross( axis, vOutputDirection ) * sin( theta )\n            + axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n  \n          return vec3( textureCube( envMap, sampleDirection ) );\n  \n        }\n  \n        void main() {\n  \n          vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n  \n          if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n  \n            axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n  \n          }\n  \n          axis = normalize( axis );\n  \n          gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n          gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n  \n          for ( int i = 1; i < n; i++ ) {\n  \n            if ( i >= samples ) {\n  \n              break;\n  \n            }\n  \n            float theta = dTheta * float( i );\n            gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n            gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n  \n          }\n        }\n      ",blending:k.jFi,depthTest:!1,depthWrite:!1,side:k._Li})}},{key:"dispose",value:(t=(0,R.Z)(S().mark((function e(){var t,n,r,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Oa(this.skyboxCache),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}return r=(0,te.Z)(n.value,2),i=r[1],e.next=7,i;case 7:e.sent.dispose();case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:if(null==this.generatedEnvironmentMap){e.next=24;break}return e.next=22,this.generatedEnvironmentMap;case 22:e.sent.dispose(),this.generatedEnvironmentMap=null;case 24:if(null==this.generatedEnvironmentMapAlt){e.next=29;break}return e.next=27,this.generatedEnvironmentMapAlt;case 27:e.sent.dispose(),this.generatedEnvironmentMapAlt=null;case 29:null!=this.blurMaterial&&this.blurMaterial.dispose();case 30:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))),function(){return t.apply(this,arguments)})}]),u}(k.pBf);function Ka(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ja(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var za=[1,.79,.62,.5,.4,.31,.25],Ya="high-performance",Wa=function(e){(0,y.Z)(n,e);var t=Va(n);function n(e){var r;(0,p.Z)(this,n),(r=t.call(this)).loader=new Hr(Ma),r.width=0,r.height=0,r.dpr=1,r.debugger=null,r.scenes=new Set,r.multipleScenesVisible=!1,r.lastTick=performance.now(),r.renderedLastFrame=!1,r.scaleStep=0,r.lastStep=3,r.avgFrameDuration=50,r.onWebGLContextLost=function(e){r.dispatchEvent({type:"contextlost",sourceEvent:e})},r.onWebGLContextRestored=function(){var e;null===(e=r.textureUtils)||void 0===e||e.dispose(),r.textureUtils=new qa(r.threeRenderer);var t,n=Ka(r.scenes);try{for(n.s();!(t=n.n()).done;){t.value.element[Qt]()}}catch(i){n.e(i)}finally{n.f()}},r.dpr=vt(),r.canvas3D=document.createElement("canvas"),r.canvas3D.id="webgl-canvas",r.canvas3D.classList.add("show");try{r.threeRenderer=new k.CP7({canvas:r.canvas3D,alpha:!0,antialias:!0,powerPreference:e.powerPreference,preserveDrawingBuffer:!0}),r.threeRenderer.autoClear=!0,r.threeRenderer.outputEncoding=k.knz,r.threeRenderer.physicallyCorrectLights=!0,r.threeRenderer.setPixelRatio(1),r.debugger=e.debug?new ua((0,M.Z)(r)):null,r.threeRenderer.debug={checkShaderErrors:!!r.debugger},r.threeRenderer.toneMapping=k.LY2}catch(i){console.warn(i)}return r.arRenderer=new Aa((0,M.Z)(r)),r.textureUtils=r.canRender?new qa(r.threeRenderer):null,Hr.initializeKTX2Loader(r.threeRenderer),r.canvas3D.addEventListener("webglcontextlost",r.onWebGLContextLost),r.canvas3D.addEventListener("webglcontextrestored",r.onWebGLContextRestored),r.updateRendererSize(),r}return(0,v.Z)(n,[{key:"canRender",get:function(){return null!=this.threeRenderer}},{key:"scaleFactor",get:function(){return za[this.scaleStep]}},{key:"minScale",set:function(e){for(var t=1;t<za.length&&!(za[t]<e);)++t;this.lastStep=t-1}},{key:"registerScene",value:function(e){var t=this;this.scenes.add(e),e.forceRescale();var n=new k.FM8;this.threeRenderer.getSize(n),e.canvas.width=n.x,e.canvas.height=n.y,this.canRender&&this.scenes.size>0&&this.threeRenderer.setAnimationLoop((function(e,n){return t.render(e,n)})),null!=this.debugger&&this.debugger.addScene(e)}},{key:"unregisterScene",value:function(e){this.scenes.delete(e),this.canvas3D.parentElement===e.canvas.parentElement&&e.canvas.parentElement.removeChild(this.canvas3D),this.canRender&&0===this.scenes.size&&this.threeRenderer.setAnimationLoop(null),null!=this.debugger&&this.debugger.removeScene(e)}},{key:"displayCanvas",value:function(e){return this.multipleScenesVisible?e.element[jo]:this.canvas3D}},{key:"countVisibleScenes",value:function(){var e,t=this.canvas3D,n=0,r=null,i=Ka(this.scenes);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.element.modelIsVisible&&null==a.externalRenderer&&++n,t.parentElement===a.canvas.parentElement&&(r=a)}}catch(h){i.e(h)}finally{i.f()}var o=n>1;if(null!=r){var s=o&&!this.multipleScenesVisible,A=!r.element.modelIsVisible;if(s||A){var u=this.sceneSize(r),l=u.width,c=u.height;this.copyPixels(r,l,c),t.parentElement.removeChild(t)}}this.multipleScenesVisible=o}},{key:"updateRendererSize",value:function(){var e=vt();if(e!==this.dpr){var t,n=Ka(this.scenes);try{for(n.s();!(t=n.n()).done;){var r=t.value.element;r[Mo](r.getBoundingClientRect())}}catch(f){n.e(f)}finally{n.f()}}var i,a=0,o=0,s=Ka(this.scenes);try{for(s.s();!(i=s.n()).done;){var A=i.value;a=Math.max(a,A.width),o=Math.max(o,A.height)}}catch(f){s.e(f)}finally{s.f()}if(a!==this.width||o!==this.height||e!==this.dpr){this.width=a,this.height=o,this.dpr=e,a=Math.ceil(a*e),o=Math.ceil(o*e),this.canRender&&this.threeRenderer.setSize(a,o,!1);var u,l=Ka(this.scenes);try{for(l.s();!(u=l.n()).done;){var c=u.value,h=c.canvas;h.width=a,h.height=o,c.forceRescale()}}catch(f){l.e(f)}finally{l.f()}}}},{key:"updateRendererScale",value:function(e){var t=this.scaleStep;this.avgFrameDuration+=pt(.2*(e-this.avgFrameDuration),-5,5),this.avgFrameDuration>60?++this.scaleStep:this.avgFrameDuration<40&&this.scaleStep>0&&--this.scaleStep,this.scaleStep=Math.min(this.scaleStep,this.lastStep),t!==this.scaleStep&&(this.avgFrameDuration=50)}},{key:"shouldRender",value:function(e){if(e.shouldRender())e.scaleStep!=this.scaleStep&&(e.scaleStep=this.scaleStep,this.rescaleCanvas(e));else{if(0==e.scaleStep)return!1;e.scaleStep=0,this.rescaleCanvas(e)}return!0}},{key:"rescaleCanvas",value:function(e){var t=za[e.scaleStep],n=Math.ceil(this.width/t),r=Math.ceil(this.height/t),i=e.canvas.style;i.width="".concat(n,"px"),i.height="".concat(r,"px"),this.canvas3D.style.width="".concat(n,"px"),this.canvas3D.style.height="".concat(r,"px");var a=this.dpr*t,o=t<1?"GPU throttling":this.dpr!==window.devicePixelRatio?"No meta viewport tag":"";e.element.dispatchEvent(new CustomEvent("render-scale",{detail:{reportedDpr:window.devicePixelRatio,renderedDpr:a,minimumDpr:this.dpr*za[this.lastStep],pixelWidth:Math.ceil(e.width*a),pixelHeight:Math.ceil(e.height*a),reason:o}}))}},{key:"sceneSize",value:function(e){var t=this.dpr,n=za[e.scaleStep];return{width:Math.min(Math.ceil(e.width*n*t),this.canvas3D.width),height:Math.min(Math.ceil(e.height*n*t),this.canvas3D.height)}}},{key:"copyPixels",value:function(e,t,n){null==e.context&&e.createContext();var r=e.context;r.clearRect(0,0,t,n),r.drawImage(this.canvas3D,0,0,t,n,0,0,t,n),e.canvas.classList.add("show")}},{key:"orderedScenes",value:function(){for(var e=[],t=0,n=[!1,!0];t<n.length;t++){var r,i=n[t],a=Ka(this.scenes);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.element.modelIsVisible===i&&e.push(o)}}catch(s){a.e(s)}finally{a.f()}}return e}},{key:"isPresenting",get:function(){return this.arRenderer.isPresenting}},{key:"preRender",value:function(e,t,n){var r=e.element,i=e.exposure;r[Jo](t,n);var a="number"==typeof i&&!Number.isNaN(i);this.threeRenderer.toneMappingExposure=a?i:1}},{key:"render",value:function(e,t){if(null==t){var n=e-this.lastTick;if(this.lastTick=e,this.canRender&&!this.isPresenting){this.countVisibleScenes(),this.updateRendererSize(),this.renderedLastFrame&&(this.updateRendererScale(n),this.renderedLastFrame=!1);var r,i=this.canvas3D,a=Ka(this.orderedScenes());try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.element;if(!(!s.loaded||!s.modelIsVisible&&o.renderCount>0)&&(this.preRender(o,e,n),this.shouldRender(o)))if(null==o.externalRenderer){if(!s.modelIsVisible&&!this.multipleScenesVisible){var A,u=Ka(this.scenes);try{for(u.s();!(A=u.n()).done;){var l=A.value;l.element.modelIsVisible&&l.queueRender()}}catch(y){u.e(y)}finally{u.f()}}var c=this.sceneSize(o),h=c.width,f=c.height;o.renderShadow(this.threeRenderer),this.threeRenderer.setRenderTarget(null),this.threeRenderer.setViewport(0,Math.ceil(this.height*this.dpr)-f,h,f),this.threeRenderer.render(o,o.camera),this.multipleScenesVisible||0===o.renderCount?this.copyPixels(o,h,f):(o.canvas.parentElement.appendChild(i),o.canvas.classList.remove("show")),o.hasRendered(),++o.renderCount,this.renderedLastFrame=!0}else{var d=o.getCamera();d.updateMatrix();var g=d.matrix,p=d.projectionMatrix,v=g.elements.slice(),m=o.getTarget();v[12]+=m.x,v[13]+=m.y,v[14]+=m.z,o.externalRenderer.render({viewMatrix:v,projectionMatrix:p.elements})}}}catch(y){a.e(y)}finally{a.f()}}}else this.arRenderer.onWebXRFrame(e,t)}},{key:"dispose",value:function(){null!=this.textureUtils&&this.textureUtils.dispose(),null!=this.threeRenderer&&this.threeRenderer.dispose(),this.textureUtils=null,this.threeRenderer=null;var e,t=[],n=Ka(this.scenes);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.element)}}catch(i){n.e(i)}finally{n.f()}return this.canvas3D.removeEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.removeEventListener("webglcontextrestored",this.onWebGLContextRestored),t}}],[{key:"singleton",get:function(){return this._singleton}},{key:"resetSingleton",value:function(){var e,t=this._singleton.dispose(),r=Ka(t);try{for(r.s();!(e=r.n()).done;){e.value.disconnectedCallback()}}catch(o){r.e(o)}finally{r.f()}this._singleton=new n({powerPreference:(self.ModelViewerElement||{}).powerPreference||Ya,debug:mt()});var i,a=Ka(t);try{for(a.s();!(i=a.n()).done;){i.value.connectedCallback()}}catch(o){a.e(o)}finally{a.f()}}}]),n}(k.pBf);Wa._singleton=new Wa({powerPreference:(self.ModelViewerElement||{}).powerPreference||Ya,debug:mt()});var Xa=function(){var e=(0,R.Z)(S().mark((function e(t){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.match(/data:(.*);/);if(!r)return n(new Error("".concat(t," is not a valid data Url")));for(var i=r[1],a=t.replace(/data:image\/\w+;base64,/,""),o=atob(a),s=[],A=0;A<o.length;A+=512){for(var u=o.slice(A,A+512),l=new Array(u.length),c=0;c<u.length;c++)l[c]=u.charCodeAt(c);var h=new Uint8Array(l);s.push(h)}e(new Blob(s,{type:i}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function $a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eo(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function to(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var no=function(e){(0,y.Z)(n,e);var t=to(n);function n(){var e;return(0,p.Z)(this,n),(e=t.apply(this,arguments)).ongoingActivities=new Set,e.totalProgress=0,e}return(0,v.Z)(n,[{key:"ongoingActivityCount",get:function(){return this.ongoingActivities.size}},{key:"beginActivity",value:function(){var e=this,t={progress:0,completed:!1};return this.ongoingActivities.add(t),1===this.ongoingActivityCount&&this.announceTotalProgress(t,0),function(n){var r;return(r=Math.max(pt(n,0,1),t.progress))!==t.progress&&e.announceTotalProgress(t,r),t.progress}}},{key:"announceTotalProgress",value:function(e,t){var n=0,r=0;1==t&&(e.completed=!0);var i,a=$a(this.ongoingActivities);try{for(a.s();!(i=a.n()).done;){var o=i.value;n+=1-o.progress,!0===o.completed&&r++}}catch(u){a.e(u)}finally{a.f()}var s=e.progress;e.progress=t,this.totalProgress+=(t-s)*(1-this.totalProgress)/n;var A=r===this.ongoingActivityCount?1:this.totalProgress;this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:A}})),r===this.ongoingActivityCount&&(this.totalProgress=0,this.ongoingActivities.clear())}}]),n}((0,T.Z)(EventTarget));function ro(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return io(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var oo,so,Ao,uo,lo,co,ho,fo,go,po,vo,mo,yo,Io=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Eo=document.createElement("canvas"),Co=Symbol("fallbackResizeHandler"),wo=Symbol("defaultAriaLabel"),Bo=Symbol("resizeObserver"),bo=Symbol("clearModelTimeout"),Qo=Symbol("onContextLost"),xo=Symbol("loaded"),So=Symbol("status"),ko=Symbol("onFocus"),Ro=Symbol("onBlur"),Mo=Symbol("updateSize"),Do=Symbol("intersectionObserver"),To=Symbol("isElementInViewport"),Lo=Symbol("announceModelVisibility"),Fo=Symbol("ariaLabel"),_o=Symbol("altDefaulted"),Uo=Symbol("statusElement"),Oo=Symbol("updateStatus"),Po=Symbol("loadedTime"),Go=Symbol("updateSource"),No=Symbol("markLoaded"),Zo=Symbol("container"),Ho=Symbol("input"),jo=Symbol("canvas"),qo=Symbol("scene"),Ko=Symbol("needsRender"),Jo=Symbol("tick"),Vo=Symbol("onModelLoad"),zo=Symbol("onResize"),Yo=Symbol("renderer"),Wo=Symbol("progressTracker"),Xo=Symbol("getLoaded"),$o=Symbol("getModelIsVisible"),es=Symbol("shouldAttemptPreload"),ts=function(e){return{x:e.x,y:e.y,z:e.z,toString:function(){return"".concat(this.x,"m ").concat(this.y,"m ").concat(this.z,"m")}}},ns=function(e,t,n,r){(0,y.Z)(s,e);var i,a,o=ao(s);function s(){var e;(0,p.Z)(this,s),(e=o.call(this)).alt=null,e.src=null,e.withCredentials=!1,e.generateSchema=!1,e[oo]=!1,e[so]=!1,e[Ao]=0,e[uo]="",e[lo]=null,e[co]=gt((function(){var t=e.getBoundingClientRect();e[Mo](t)}),50),e[ho]=gt((function(t){var n=e.modelIsVisible;n!==t&&e.dispatchEvent(new CustomEvent("model-visibility",{detail:{visible:n}}))}),0),e[fo]=null,e[go]=null,e[po]=new no,e[vo]=function(){e[Uo].textContent=e[So]},e[mo]=function(){e[Uo].textContent=""},e[yo]=function(t){e.dispatchEvent(new CustomEvent("error",{detail:{type:"webglcontextlost",sourceError:t.sourceEvent}}))},e.attachShadow({mode:"open"});var t,n,r=e.shadowRoot;if(function(e){He(Ft,e)}(r),e[Zo]=r.querySelector(".container"),e[Ho]=r.querySelector(".userInput"),e[jo]=r.querySelector("canvas"),e[Uo]=r.querySelector("#status"),e[wo]=e[Ho].getAttribute("aria-label"),e.isConnected){var i=e.getBoundingClientRect();t=i.width,n=i.height}else t=300,n=150;return e[qo]=new Pi({canvas:e[jo],element:(0,M.Z)(e),width:t,height:n}),Promise.resolve().then((function(){e[Mo](e.getBoundingClientRect())})),We&&(e[Bo]=new ResizeObserver((function(t){if(!e[Yo].isPresenting){var n,r=ro(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.target===(0,M.Z)(e)&&e[Mo](i.contentRect)}}catch(a){r.e(a)}finally{r.f()}}}))),Xe?e[Do]=new IntersectionObserver((function(t){var n,r=ro(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.target===(0,M.Z)(e)){var a=e.modelIsVisible;e[To]=i.isIntersecting,e[Lo](a),e[To]&&!e.loaded&&e[Go]()}}}catch(o){r.e(o)}finally{r.f()}}),{root:null,rootMargin:"0px",threshold:1e-5}):e[To]=!0,e}return(0,v.Z)(s,[{key:"loaded",get:function(){return this[Xo]()}},{key:t,get:function(){return Wa.singleton}},{key:"modelIsVisible",get:function(){return this[$o]()}},{key:"connectedCallback",value:function(){(0,m.Z)((0,E.Z)(s.prototype),"connectedCallback",this)&&(0,m.Z)((0,E.Z)(s.prototype),"connectedCallback",this).call(this),We?this[Bo].observe(this):self.addEventListener("resize",this[Co]),Xe&&this[Do].observe(this),this.addEventListener("focus",this[ko]),this.addEventListener("blur",this[Ro]);var e=this[Yo];e.addEventListener("contextlost",this[Qo]),e.registerScene(this[qo]),null!=this[bo]&&(self.clearTimeout(this[bo]),this[bo]=null,this.requestUpdate("src",null))}},{key:"disconnectedCallback",value:function(){var e=this;(0,m.Z)((0,E.Z)(s.prototype),"disconnectedCallback",this)&&(0,m.Z)((0,E.Z)(s.prototype),"disconnectedCallback",this).call(this),We?this[Bo].unobserve(this):self.removeEventListener("resize",this[Co]),Xe&&this[Do].unobserve(this),this.removeEventListener("focus",this[ko]),this.removeEventListener("blur",this[Ro]);var t=this[Yo];t.removeEventListener("contextlost",this[Qo]),t.unregisterScene(this[qo]),this[bo]=self.setTimeout((function(){e[qo].reset()}),1e3)}},{key:"updated",value:function(e){(0,m.Z)((0,E.Z)(s.prototype),"updated",this).call(this,e),e.has("src")&&(null==this.src?(this[xo]=!1,this[Po]=0,this[qo].reset()):this.src!==this[qo].url&&(this[xo]=!1,this[Po]=0,this[Go]())),e.has("alt")&&this[Ho].setAttribute("aria-label",this[Fo]),e.has("withCredentials")&&(Hr.withCredentials=this.withCredentials),e.has("generateSchema")&&(this.generateSchema?this[qo].updateSchema(this.src):this[qo].updateSchema(null))}},{key:"toDataURL",value:function(e,t){return this[Yo].displayCanvas(this[qo]).toDataURL(e,t)}},{key:"toBlob",value:(a=(0,R.Z)(S().mark((function e(t){var n,r,i,a,o,s,A,u,l,c,h,f,d,g,p,v,m,y=this;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?t.mimeType:void 0,r=t?t.qualityArgument:void 0,i=t?t.idealAspect:void 0,a=this[qo],o=a.width,s=a.height,A=a.idealAspect,u=a.aspect,l=this[Yo],c=l.dpr,h=l.scaleFactor,f=o*h*c,d=s*h*c,g=0,p=0,!0===i&&(A>u?(v=d,d=Math.round(f/A),p=(v-d)/2):(m=f,f=Math.round(d*A),g=(m-f)/2)),Eo.width=f,Eo.height=d,e.prev=12,e.abrupt("return",new Promise(function(){var e=(0,R.Z)(S().mark((function e(t,i){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Eo.getContext("2d").drawImage(y[Yo].displayCanvas(y[qo]),g,p,f,d,0,0,f,d),!Eo.msToBlob){e.next=4;break}if(n&&"image/png"!==n){e.next=4;break}return e.abrupt("return",t(Eo.msToBlob()));case 4:if(Eo.toBlob){e.next=10;break}return e.t0=t,e.next=8,Xa(Eo.toDataURL(n,r));case 8:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 10:Eo.toBlob((function(e){if(!e)return i(new Error("Unable to retrieve canvas blob"));t(e)}),n,r);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 14:return e.prev=14,this[Mo]({width:o,height:s}),e.finish(14);case 17:case 18:case"end":return e.stop()}}),e,this,[[12,,14,17]])}))),function(e){return a.apply(this,arguments)})},{key:"registerRenderer",value:function(e){this[qo].externalRenderer=e}},{key:"unregisterRenderer",value:function(){this[qo].externalRenderer=null}},{key:Fo,get:function(){return this[_o]}},{key:_o,get:function(){return null==this.alt||"null"===this.alt?this[wo]:this.alt}},{key:Xo,value:function(){return this[xo]}},{key:$o,value:function(){return this.loaded&&this[To]}},{key:es,value:function(){return!!this.src&&this[To]}},{key:Mo,value:function(e){var t=e.width,n=e.height;this[Zo].style.width="".concat(t,"px"),this[Zo].style.height="".concat(n,"px"),this[zo]({width:parseFloat(t),height:parseFloat(n)})}},{key:Jo,value:function(e,t){}},{key:No,value:function(){this[xo]||(this[xo]=!0,this[Po]=performance.now())}},{key:Ko,value:function(){this[qo].queueRender()}},{key:Vo,value:function(){}},{key:Oo,value:function(e){this[So]=e;var t=this.getRootNode();null!=t&&t.activeElement===this&&this[Uo].textContent!=e&&(this[Uo].textContent=e)}},{key:n,value:function(e){this[qo].setSize(e.width,e.height)}},{key:r,value:(i=(0,R.Z)(S().mark((function e(){var t,n,r,i,a,o=this;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this[qo],!this.loaded&&this[es]()&&this.src!==t.url){e.next=3;break}return e.abrupt("return");case 3:return this.generateSchema&&t.updateSchema(this.src),this[Oo]("Loading"),t.stopAnimation(),n=this[Wo].beginActivity(),r=this.src,e.prev=8,i=t.setSource(r,(function(e){return n(.95*pt(e,0,1))})),a=this[Qt](),e.next=13,Promise.all([i,a]);case 13:return this[No](),this[Vo](),e.next=17,new Promise((function(e){requestAnimationFrame((function(){requestAnimationFrame((function(){o.dispatchEvent(new CustomEvent("load",{detail:{url:r}})),e()}))}))}));case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),this.dispatchEvent(new CustomEvent("error",{detail:{type:"loadfailure",sourceError:e.t0}}));case 22:return e.prev=22,n(1),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[8,19,22,25]])}))),function(){return i.apply(this,arguments)})}],[{key:"is",get:function(){return"model-viewer"}},{key:"modelCacheSize",get:function(){return Hr[Nr].evictionThreshold},set:function(e){Hr[Nr].evictionThreshold=e}},{key:"minimumRenderScale",get:function(){return Wa.singleton.minScale},set:function(e){e>1&&console.warn("<model-viewer> minimumRenderScale has been clamped to a maximum value of 1."),e<=0&&console.warn("<model-viewer> minimumRenderScale has been clamped to a minimum value of 0.25."),Wa.singleton.minScale=e}}]),s}($,(oo=To,so=xo,Ao=Po,uo=So,lo=bo,co=Co,ho=Lo,fo=Bo,go=Do,po=Wo,Yo),(vo=ko,mo=Ro,zo),(yo=Qo,Go));function rs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}Io([b({type:String})],ns.prototype,"alt",void 0),Io([b({type:String})],ns.prototype,"src",void 0),Io([b({type:Boolean,attribute:"with-credentials"})],ns.prototype,"withCredentials",void 0),Io([b({type:Boolean,attribute:"generate-schema"})],ns.prototype,"generateSchema",void 0);var is=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},as=1e3,os=Symbol("changeAnimation"),ss=Symbol("paused"),As={repetitions:1/0,pingpong:!1};function us(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var ls=Symbol("hotspotMap"),cs=Symbol("mutationCallback"),hs=Symbol("observer"),fs=Symbol("addHotspot"),ds=Symbol("removeHotspot"),gs=new k.yGw,ps=new k.Vkp,vs=function(e){return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};try{URL.revokeObjectURL(vs(""))}catch(rp){vs=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)},function(e){return new Worker(e,{type:"module"})}}var ms=Uint8Array,ys=Uint16Array,Is=Uint32Array,Es=new ms([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Cs=new ms([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ws=new ms([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bs=function(e,t){for(var n=new ys(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Is(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},bs=Bs(Es,2),Qs=bs[0],xs=bs[1];Qs[28]=258,xs[258]=28;for(var Ss=Bs(Cs,0),ks=(Ss[0],Ss[1]),Rs=new ys(32768),Ms=0;Ms<32768;++Ms){var Ds=(43690&Ms)>>>1|(21845&Ms)<<1;Ds=(61680&(Ds=(52428&Ds)>>>2|(13107&Ds)<<2))>>>4|(3855&Ds)<<4,Rs[Ms]=((65280&Ds)>>>8|(255&Ds)<<8)>>>1}var Ts=function(e,t,n){for(var r=e.length,i=0,a=new ys(t);i<r;++i)++a[e[i]-1];var o,s=new ys(t);for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(n){o=new ys(1<<t);var A=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],l=t-e[i],c=s[e[i]-1]++<<l,h=c|(1<<l)-1;c<=h;++c)o[Rs[c]>>>A]=u}else for(o=new ys(r),i=0;i<r;++i)e[i]&&(o[i]=Rs[s[e[i]-1]++]>>>15-e[i]);return o},Ls=new ms(288);for(Ms=0;Ms<144;++Ms)Ls[Ms]=8;for(Ms=144;Ms<256;++Ms)Ls[Ms]=9;for(Ms=256;Ms<280;++Ms)Ls[Ms]=7;for(Ms=280;Ms<288;++Ms)Ls[Ms]=8;var Fs=new ms(32);for(Ms=0;Ms<32;++Ms)Fs[Ms]=5;var _s=Ts(Ls,9,0),Us=Ts(Fs,5,0),Os=function(e){return(e/8|0)+(7&e&&1)},Ps=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof ys?ys:e instanceof Is?Is:ms)(n-t);return r.set(e.subarray(t,n)),r},Gs=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},Ns=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Zs=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return[zs,0];if(1==i){var o=new ms(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var s=n[0],A=n[1],u=0,l=1,c=2;for(n[0]={s:-1,f:s.f+A.f,l:s,r:A};l!=i-1;)s=n[n[u].f<n[c].f?u++:c++],A=n[u!=l&&n[u].f<n[c].f?u++:c++],n[l++]={s:-1,f:s.f+A.f,l:s,r:A};var h=a[0].s;for(r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var f=new ys(h+1),d=Hs(n[l-1],f,0);if(d>t){r=0;var g=0,p=d-t,v=1<<p;for(a.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));r<i;++r){var m=a[r].s;if(!(f[m]>t))break;g+=v-(1<<d-f[m]),f[m]=t}for(g>>>=p;g>0;){var y=a[r].s;f[y]<t?g-=1<<t-f[y]++-1:++r}for(;r>=0&&g;--r){var I=a[r].s;f[I]==t&&(--f[I],++g)}d=t}return[new ms(f),d]},Hs=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},js=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ys(++t),r=0,i=e[0],a=1,o=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return[n.subarray(0,r),t]},qs=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Ks=function(e,t,n){var r=n.length,i=Os(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<r;++a)e[i+a+4]=n[a];return 8*(i+4+r)},Js=function(e,t,n,r,i,a,o,s,A,u,l){Gs(t,l++,n),++i[256];for(var c=Zs(i,15),h=c[0],f=c[1],d=Zs(a,15),g=d[0],p=d[1],v=js(h),m=v[0],y=v[1],I=js(g),E=I[0],C=I[1],w=new ys(19),B=0;B<m.length;++B)w[31&m[B]]++;for(B=0;B<E.length;++B)w[31&E[B]]++;for(var b=Zs(w,7),Q=b[0],x=b[1],S=19;S>4&&!Q[ws[S-1]];--S);var k,R,M,D,T=u+5<<3,L=qs(i,Ls)+qs(a,Fs)+o,F=qs(i,h)+qs(a,g)+o+14+3*S+qs(w,Q)+(2*w[16]+3*w[17]+7*w[18]);if(T<=L&&T<=F)return Ks(t,l,e.subarray(A,A+u));if(Gs(t,l,1+(F<L)),l+=2,F<L){k=Ts(h,f,0),R=h,M=Ts(g,p,0),D=g;var _=Ts(Q,x,0);Gs(t,l,y-257),Gs(t,l+5,C-1),Gs(t,l+10,S-4),l+=14;for(B=0;B<S;++B)Gs(t,l+3*B,Q[ws[B]]);l+=3*S;for(var U=[m,E],O=0;O<2;++O){var P=U[O];for(B=0;B<P.length;++B){var G=31&P[B];Gs(t,l,_[G]),l+=Q[G],G>15&&(Gs(t,l,P[B]>>>5&127),l+=P[B]>>>12)}}}else k=_s,R=Ls,M=Us,D=Fs;for(B=0;B<s;++B)if(r[B]>255){G=r[B]>>>18&31;Ns(t,l,k[G+257]),l+=R[G+257],G>7&&(Gs(t,l,r[B]>>>23&31),l+=Es[G]);var N=31&r[B];Ns(t,l,M[N]),l+=D[N],N>3&&(Ns(t,l,r[B]>>>5&8191),l+=Cs[N])}else Ns(t,l,k[r[B]]),l+=R[r[B]];return Ns(t,l,k[256]),l+R[256]},Vs=new Is([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zs=new ms(0),Ys=function(e,t,n,r,i,a){var o=e.length,s=new ms(r+o+5*(1+Math.ceil(o/7e3))+i),A=s.subarray(r,s.length-i),u=0;if(!t||o<8)for(var l=0;l<=o;l+=65535){var c=l+65535;c<o?u=Ks(A,u,e.subarray(l,c)):(A[l]=a,u=Ks(A,u,e.subarray(l,o)))}else{for(var h=Vs[t-1],f=h>>>13,d=8191&h,g=(1<<n)-1,p=new ys(32768),v=new ys(g+1),m=Math.ceil(n/3),y=2*m,I=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&g},E=new Is(25e3),C=new ys(288),w=new ys(32),B=0,b=0,Q=(l=0,0),x=0,S=0;l<o;++l){var k=I(l),R=32767&l,M=v[k];if(p[R]=M,v[k]=R,x<=l){var D=o-l;if((B>7e3||Q>24576)&&D>423){u=Js(e,A,0,E,C,w,b,Q,S,l-S,u),Q=B=b=0,S=l;for(var T=0;T<286;++T)C[T]=0;for(T=0;T<30;++T)w[T]=0}var L=2,F=0,_=d,U=R-M&32767;if(D>2&&k==I(l-U))for(var O=Math.min(f,D)-1,P=Math.min(32767,l),G=Math.min(258,D);U<=P&&--_&&R!=M;){if(e[l+L]==e[l+L-U]){for(var N=0;N<G&&e[l+N]==e[l+N-U];++N);if(N>L){if(L=N,F=U,N>O)break;var Z=Math.min(U,N-2),H=0;for(T=0;T<Z;++T){var j=l-U+T+32768&32767,q=j-p[j]+32768&32767;q>H&&(H=q,M=j)}}}U+=(R=M)-(M=p[R])+32768&32767}if(F){E[Q++]=268435456|xs[L]<<18|ks[F];var K=31&xs[L],J=31&ks[F];b+=Es[K]+Cs[J],++C[257+K],++w[J],x=l+L,++B}else E[Q++]=e[l],++C[e[l]]}}u=Js(e,A,a,E,C,w,b,Q,S,l-S,u),!a&&7&u&&(u=Ks(A,u+1,zs))}return Ps(s,0,r+Os(u)+i)},Ws=function(){for(var e=new Is(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),Xs=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=Ws[255&n^t[r]]^n>>>8;e=n},d:function(){return~e}}},$s=function(e,t,n,r,i){return Ys(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},eA=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},tA=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function nA(e,t){return $s(e,t||{},0,0)}var rA=function e(t,n,r,i){for(var a in t){var o=t[a],s=n+a;o instanceof ms?r[s]=[o,i]:Array.isArray(o)?r[s]=[o[0],eA(i,o[1])]:e(o,s+"/",r,i)}},iA="undefined"!=typeof TextEncoder&&new TextEncoder,aA="undefined"!=typeof TextDecoder&&new TextDecoder;try{aA.decode(zs,{stream:!0}),1}catch(rp){}function oA(e,t){if(t){for(var n=new ms(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}if(iA)return iA.encode(e);var i=e.length,a=new ms(e.length+(e.length>>1)),o=0,s=function(e){a[o++]=e};for(r=0;r<i;++r){if(o+5>a.length){var A=new ms(o+8+(i-r<<1));A.set(a),a=A}var u=e.charCodeAt(r);u<128||t?s(u):u<2048?(s(192|u>>6),s(128|63&u)):u>55295&&u<57344?(s(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++r))>>18),s(128|u>>12&63),s(128|u>>6&63),s(128|63&u)):(s(224|u>>12),s(128|u>>6&63),s(128|63&u))}return Ps(a,0,o)}var sA=function(e){var t=0;if(e)for(var n in e){var r=e[n].length;if(r>65535)throw"extra field too long";t+=r+4}return t},AA=function(e,t,n,r,i,a,o,s){var A=r.length,u=n.extra,l=s&&s.length,c=sA(u);tA(e,t,null!=o?33639248:67324752),t+=4,null!=o&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(null==a&&8),e[t++]=i&&8,e[t++]=255&n.compression,e[t++]=n.compression>>8;var h=new Date(null==n.mtime?Date.now():n.mtime),f=h.getFullYear()-1980;if(f<0||f>119)throw"date not in range 1980-2099";if(tA(e,t,f<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>>1),t+=4,null!=a&&(tA(e,t,n.crc),tA(e,t+4,a),tA(e,t+8,n.size)),tA(e,t+12,A),tA(e,t+14,c),t+=16,null!=o&&(tA(e,t,l),tA(e,t+6,n.attrs),tA(e,t+10,o),t+=14),e.set(r,t),t+=A,c)for(var d in u){var g=u[d],p=g.length;tA(e,t,+d),tA(e,t+2,p),e.set(g,t+4),t+=4+p}return l&&(e.set(s,t),t+=l),t},uA=function(e,t,n,r,i){tA(e,t,101010256),tA(e,t+8,n),tA(e,t+10,n),tA(e,t+12,r),tA(e,t+16,i)};function lA(e,t){t||(t={});var n={},r=[];rA(e,"",n,t);var i=0,a=0;for(var o in n){var s=n[o],A=s[0],u=s[1],l=0==u.level?0:8,c=(w=oA(o)).length,h=u.comment,f=h&&oA(h),d=f&&f.length,g=sA(u.extra);if(c>65535)throw"filename too long";var p=l?nA(A,u):A,v=p.length,m=Xs();m.p(A),r.push(eA(u,{size:A.length,crc:m.d(),c:p,f:w,m:f,u:c!=o.length||f&&h.length!=d,o:i,compression:l})),i+=30+c+g+v,a+=76+2*(c+g)+(d||0)+v}for(var y=new ms(a+22),I=i,E=a-i,C=0;C<r.length;++C){var w=r[C];AA(y,w.o,w,w.f,w.u,w.c.length);var B=30+w.f.length+sA(w.extra);y.set(w.c,w.o+B),AA(y,i,w,w.f,w.u,w.c.length,w.o,w.m),i+=16+B+(w.m?w.m.length:0)}return uA(y,i,r.length,E,I),y}var cA=function(){function e(){(0,p.Z)(this,e)}var t;return(0,v.Z)(e,[{key:"parse",value:(t=(0,R.Z)(S().mark((function e(t){var n,r,i,a,o,s,A,u,l,c,h,f;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n={})["model.usda"]=null,r='#usda 1.0\n(\n    customLayerData = {\n        string creator = "Three.js USDZExporter"\n    }\n    metersPerUnit = 1\n    upAxis = "Y"\n)\n\n',i={},a={},t.traverseVisible((function(e){if(e.isMesh){var t=e.geometry,a=e.material;if(a.isMeshStandardMaterial){var o="geometries/Geometry_"+t.id+".usd";if(!(o in n)){var s=pA(t);n[o]=fA(s)}a.uuid in i||(i[a.uuid]=a),r+=dA(e,t,a)}else console.warn("THREE.USDZExporter: Unsupported material type (USDZ only supports MeshStandardMaterial)",e)}})),r+=mA(i,a),n["model.usda"]=oA(r),r=null,o=S().mark((function e(t){var r,i,o,s,A;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a[t],i=t.split("_")[1],o=1023===r.format,s=hA(r.image,i),e.next=6,new Promise((function(e){return s.toBlob(e,o?"image/png":"image/jpeg",1)}));case 6:return A=e.sent,e.t0=Uint8Array,e.next=10,A.arrayBuffer();case 10:e.t1=e.sent,n["textures/Texture_".concat(t,".").concat(o?"png":"jpg")]=new e.t0(e.t1);case 12:case"end":return e.stop()}}),e)})),e.t0=S().keys(a);case 12:if((e.t1=e.t0()).done){e.next=17;break}return s=e.t1.value,e.delegateYield(o(s),"t2",15);case 15:e.next=12;break;case 17:for(u in A=0,n)l=n[u],c=34+u.length,4!=(h=63&(A+=c))&&(f=new Uint8Array(64-h),n[u]=[l,{extra:{12345:f}}]),A=l.length;return e.abrupt("return",lA(n,{level:0}));case 20:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}();function hA(e,t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var n=1024/Math.max(e.width,e.height),r=document.createElement("canvas");r.width=e.width*Math.min(1,n),r.height=e.height*Math.min(1,n);var i=r.getContext("2d");if(i.drawImage(e,0,0,r.width,r.height),void 0!==t){for(var a=parseInt(t,16),o=(a>>16&255)/255,s=(a>>8&255)/255,A=(255&a)/255,u=i.getImageData(0,0,r.width,r.height),l=u.data,c=0;c<l.length;c+=4)l[c+0]=l[c+0]*o,l[c+1]=l[c+1]*s,l[c+2]=l[c+2]*A;i.putImageData(u,0,0)}return r}}function fA(e){var t='#usda 1.0\n(\n    customLayerData = {\n        string creator = "Three.js USDZExporter"\n    }\n    metersPerUnit = 1\n    upAxis = "Y"\n)\n\n';return oA(t+=e)}function dA(e,t,n){var r,i,a="Object_"+e.id,o=(r=e.matrixWorld,i=r.elements,"( ".concat(gA(i,0),", ").concat(gA(i,4),", ").concat(gA(i,8),", ").concat(gA(i,12)," )"));return e.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",e),'def Xform "'.concat(a,'" (\n    prepend references = @./geometries/Geometry_').concat(t.id,".usd@</Geometry>\n)\n{\n    matrix4d xformOp:transform = ").concat(o,'\n    uniform token[] xformOpOrder = ["xformOp:transform"]\n\n    rel material:binding = </Materials/Material_').concat(n.id,">\n}\n\n")}function gA(e,t){return"(".concat(e[t+0],", ").concat(e[t+1],", ").concat(e[t+2],", ").concat(e[t+3],")")}function pA(e){var t=function(e){var t="Geometry",n=e.attributes,r=n.position.count;return'\n    def Mesh "'.concat(t,'"\n    {\n        int[] faceVertexCounts = [').concat(function(e){var t=null!==e.index?e.index.count:e.attributes.position.count;return Array(t/3).fill(3).join(", ")}(e),"]\n        int[] faceVertexIndices = [").concat(function(e){var t=e.index,n=[];if(null!==t)for(var r=0;r<t.count;r++)n.push(t.getX(r));else for(var i=e.attributes.position.count,a=0;a<i;a++)n.push(a);return n.join(", ")}(e),"]\n        normal3f[] normals = [").concat(vA(n.normal,r),'] (\n            interpolation = "vertex"\n        )\n        point3f[] points = [').concat(vA(n.position,r),"]\n        float2[] primvars:st = [").concat(function(e,t){if(void 0===e)return console.warn("USDZExporter: UVs missing."),Array(t).fill("(0, 0)").join(", ");for(var n=[],r=0;r<e.count;r++){var i=e.getX(r),a=e.getY(r);n.push("(".concat(i.toPrecision(7),", ").concat(1-a.toPrecision(7),")"))}return n.join(", ")}(n.uv,r),'] (\n            interpolation = "vertex"\n        )\n        uniform token subdivisionScheme = "none"\n    }\n')}(e);return'\ndef "Geometry"\n{\n  '.concat(t,"\n}\n")}function vA(e,t){if(void 0===e)return console.warn("USDZExporter: Normals missing."),Array(t).fill("(0, 0, 0)").join(", ");for(var n=[],r=0;r<e.count;r++){var i=e.getX(r),a=e.getY(r),o=e.getZ(r);n.push("(".concat(i.toPrecision(7),", ").concat(a.toPrecision(7),", ").concat(o.toPrecision(7),")"))}return n.join(", ")}function mA(e,t){var n=[];for(var r in e){var i=e[r];n.push(yA(i,t))}return'def "Materials"\n{\n'.concat(n.join(""),"\n}\n\n")}function yA(e,t){var n="            ",r=[],i=[];function a(n,r,i){var a=n.id+(i?"_"+i.getHexString():""),o=1023===n.format;return t[a]=n,'\n        def Shader "Transform2d_'.concat(r,'" (\n            sdrMetadata = {\n                string role = "math"\n            }\n        )\n        {\n            uniform token info:id = "UsdTransform2d"\n            float2 inputs:in.connect = </Materials/Material_').concat(e.id,"/uvReader_st.outputs:result>\n            float2 inputs:scale = ").concat(EA(n.repeat),"\n            float2 inputs:translation = ").concat(EA(n.offset),'\n            float2 outputs:result\n        }\n\n        def Shader "Texture_').concat(n.id,"_").concat(r,'"\n        {\n            uniform token info:id = "UsdUVTexture"\n            asset inputs:file = @textures/Texture_').concat(a,".").concat(o?"png":"jpg","@\n            float2 inputs:st.connect = </Materials/Material_").concat(e.id,"/Transform2d_").concat(r,'.outputs:result>\n            token inputs:wrapS = "repeat"\n            token inputs:wrapT = "repeat"\n            float outputs:r\n            float outputs:g\n            float outputs:b\n            float3 outputs:rgb\n            ').concat(e.transparent||e.alphaTest>0?"float outputs:a":"","\n        }")}return e.side===k.ehD&&console.warn("THREE.USDZExporter: USDZ does not support double sided materials",e),null!==e.map?(r.push("".concat(n,"color3f inputs:diffuseColor.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.map.id,"_diffuse.outputs:rgb>")),e.transparent?r.push("".concat(n,"float inputs:opacity.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.map.id,"_diffuse.outputs:a>")):e.alphaTest>0&&(r.push("".concat(n,"float inputs:opacity.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.map.id,"_diffuse.outputs:a>")),r.push("".concat(n,"float inputs:opacityThreshold = ").concat(e.alphaTest))),i.push(a(e.map,"diffuse",e.color))):r.push("".concat(n,"color3f inputs:diffuseColor = ").concat(IA(e.color))),null!==e.emissiveMap?(r.push("".concat(n,"color3f inputs:emissiveColor.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.emissiveMap.id,"_emissive.outputs:rgb>")),i.push(a(e.emissiveMap,"emissive"))):e.emissive.getHex()>0&&r.push("".concat(n,"color3f inputs:emissiveColor = ").concat(IA(e.emissive))),null!==e.normalMap&&(r.push("".concat(n,"normal3f inputs:normal.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.normalMap.id,"_normal.outputs:rgb>")),i.push(a(e.normalMap,"normal"))),null!==e.aoMap&&(r.push("".concat(n,"float inputs:occlusion.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.aoMap.id,"_occlusion.outputs:r>")),i.push(a(e.aoMap,"occlusion"))),null!==e.roughnessMap&&1===e.roughness?(r.push("".concat(n,"float inputs:roughness.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.roughnessMap.id,"_roughness.outputs:g>")),i.push(a(e.roughnessMap,"roughness"))):r.push("".concat(n,"float inputs:roughness = ").concat(e.roughness)),null!==e.metalnessMap&&1===e.metalness?(r.push("".concat(n,"float inputs:metallic.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.metalnessMap.id,"_metallic.outputs:b>")),i.push(a(e.metalnessMap,"metallic"))):r.push("".concat(n,"float inputs:metallic = ").concat(e.metalness)),null!==e.alphaMap?(r.push("".concat(n,"float inputs:opacity.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.alphaMap.id,"_opacity.outputs:r>")),r.push("".concat(n,"float inputs:opacityThreshold = 0.0001")),i.push(a(e.alphaMap,"opacity"))):r.push("".concat(n,"float inputs:opacity = ").concat(e.opacity)),e.isMeshPhysicalMaterial&&(r.push("".concat(n,"float inputs:clearcoat = ").concat(e.clearcoat)),r.push("".concat(n,"float inputs:clearcoatRoughness = ").concat(e.clearcoatRoughness)),r.push("".concat(n,"float inputs:ior = ").concat(e.ior))),'\n    def Material "Material_'.concat(e.id,'"\n    {\n        def Shader "PreviewSurface"\n        {\n            uniform token info:id = "UsdPreviewSurface"\n').concat(r.join("\n"),"\n            int inputs:useSpecularWorkflow = 0\n            token outputs:surface\n        }\n\n        token outputs:surface.connect = </Materials/Material_").concat(e.id,'/PreviewSurface.outputs:surface>\n        token inputs:frame:stPrimvarName = "st"\n\n        def Shader "uvReader_st"\n        {\n            uniform token info:id = "UsdPrimvarReader_float2"\n            token inputs:varname.connect = </Materials/Material_').concat(e.id,".inputs:frame:stPrimvarName>\n            float2 inputs:fallback = (0.0, 0.0)\n            float2 outputs:result\n        }\n\n").concat(i.join("\n"),"\n\n    }\n")}function IA(e){return"(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")}function EA(e){return"(".concat(e.x,", ").concat(e.y,")")}function CA(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return wA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wA(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function wA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BA(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return bA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bA(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function bA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var xA,SA,kA,RA,MA=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},DA=!1,TA=!1,LA="#model-viewer-no-ar-fallback",FA=(xA=["quick-look","scene-viewer","webxr","none"],function(e){try{var t,n=ui(e),r=(n.length?n[0].terms:[]).filter((function(e){return e&&"ident"===e.type})).map((function(e){return e.value})).filter((function(e){return xA.indexOf(e)>-1})),i=new Set,a=CA(r);try{for(a.s();!(t=a.n()).done;){var o=t.value;i.add(o)}}catch(s){a.e(s)}finally{a.f()}return i}catch(A){}return new Set}),_A="webxr scene-viewer quick-look",UA="quick-look",OA="scene-viewer",PA="webxr",GA="none",NA=Symbol("arButtonContainer"),ZA=Symbol("enterARWithWebXR"),HA=Symbol("openSceneViewer"),jA=Symbol("openIOSARQuickLook"),qA=Symbol("canActivateAR"),KA=Symbol("arMode"),JA=Symbol("arModes"),VA=Symbol("arAnchor"),zA=Symbol("preload"),YA=Symbol("onARButtonContainerClick"),WA=Symbol("onARStatus"),XA=Symbol("onARTracking"),$A=Symbol("onARTap"),eu=Symbol("selectARMode"),tu=Symbol("triggerLoad");function nu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ru(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var au=Symbol("evaluate"),ou=Symbol("lastValue"),su=function(){function e(){(0,p.Z)(this,e),this[SA]=null}return(0,v.Z)(e,[{key:"isConstant",get:function(){return!1}},{key:"evaluate",value:function(){return this.isConstant&&null!=this[ou]||(this[ou]=this[au]()),this[ou]}}],[{key:"evaluatableFor",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vi;if(t instanceof e)return t;if("number"===t.type)return"%"===t.unit?new du(t,n):t;switch(t.name.value){case"calc":return new yu(t,n);case"env":return new pu(t)}return vi}},{key:"evaluate",value:function(t){return t instanceof e?t.evaluate():t}},{key:"isConstant",value:function(t){return!(t instanceof e)||t.isConstant}},{key:"applyIntrinsics",value:function(e,t){var n=t.basis,r=t.keywords,i=r.auto;return n.map((function(t,n){var a=null==i[n]?t:i[n],o=e[n]?e[n]:a;if("ident"===o.type){var s=o.value;s in r&&(o=r[s][n])}return null!=o&&"ident"!==o.type||(o=a),"%"===o.unit?Ai(o.number/100*t.number,t.unit):(o=Ii(o,t)).unit!==t.unit?t:o}))}}]),e}();SA=ou;var Au,uu,lu,cu,hu=Symbol("percentage"),fu=Symbol("basis"),du=function(e){(0,y.Z)(n,e);var t=iu(n);function n(e,r){var i;return(0,p.Z)(this,n),(i=t.call(this))[hu]=e,i[fu]=r,i}return(0,v.Z)(n,[{key:"isConstant",get:function(){return!0}},{key:au,value:function(){return Ai(this[hu].number/100*this[fu].number,this[fu].unit)}}]),n}(su),gu=Symbol("identNode"),pu=function(e,t){(0,y.Z)(r,e);var n=iu(r);function r(e){var t;(0,p.Z)(this,r),(t=n.call(this))[kA]=null;var i=e.arguments.length?e.arguments[0].terms[0]:null;return null!=i&&"ident"===i.type&&(t[gu]=i),t}return(0,v.Z)(r,[{key:"isConstant",get:function(){return!1}},{key:t,value:function(){if(null!=this[gu]&&"window-scroll-y"===this[gu].value)return{type:"number",number:window.pageYOffset/(Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-window.innerHeight)||0,unit:null};return vi}}]),r}(su,(kA=gu,au)),vu=/[\*\/]/,mu=Symbol("evaluator"),yu=function(e,t){(0,y.Z)(r,e);var n=iu(r);function r(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vi;if((0,p.Z)(this,r),(t=n.call(this))[RA]=null,1!==e.arguments.length)return(0,I.Z)(t);for(var a=e.arguments[0].terms.slice(),o=[];a.length;){var s=a.shift();if(o.length>0){var A=o[o.length-1];if("operator"===A.type&&vu.test(A.value)){var u=o.pop(),l=o.pop();if(null==l)return(0,I.Z)(t);o.push(new wu(u,su.evaluatableFor(l,i),su.evaluatableFor(s,i)));continue}}o.push("operator"===s.type?s:su.evaluatableFor(s,i))}for(;o.length>2;){var c=o.splice(0,3),h=(0,te.Z)(c,3),f=h[0],d=h[1],g=h[2];if("operator"!==d.type)return(0,I.Z)(t);o.unshift(new wu(d,su.evaluatableFor(f,i),su.evaluatableFor(g,i)))}return 1===o.length&&(t[mu]=o[0]),t}return(0,v.Z)(r,[{key:"isConstant",get:function(){return null==this[mu]||su.isConstant(this[mu])}},{key:t,value:function(){return null!=this[mu]?su.evaluate(this[mu]):vi}}]),r}(su,(RA=mu,au)),Iu=Symbol("operator"),Eu=Symbol("left"),Cu=Symbol("right"),wu=function(e){(0,y.Z)(n,e);var t=iu(n);function n(e,r,i){var a;return(0,p.Z)(this,n),(a=t.call(this))[Iu]=e,a[Eu]=r,a[Cu]=i,a}return(0,v.Z)(n,[{key:"isConstant",get:function(){return su.isConstant(this[Eu])&&su.isConstant(this[Cu])}},{key:au,value:function(){var e=Ii(su.evaluate(this[Eu])),t=Ii(su.evaluate(this[Cu])),n=e.number,r=e.unit,i=t.number,a=t.unit;if(null!=a&&null!=r&&a!=r)return vi;var o,s=r||a;switch(this[Iu].value){case"+":o=n+i;break;case"-":o=n-i;break;case"/":o=n/i;break;case"*":o=n*i;break;default:return vi}return{type:"number",number:o,unit:s}}}]),n}(su),Bu=Symbol("evaluatables"),bu=Symbol("intrinsics"),Qu=function(e){(0,y.Z)(n,e);var t=iu(n);function n(e,r){var i;(0,p.Z)(this,n),(i=t.call(this))[bu]=r;var a=e[0],o=null!=a?a.terms:[];return i[Bu]=r.basis.map((function(e,t){var n=o[t];return null==n?{type:"ident",value:"auto"}:"ident"===n.type?n:su.evaluatableFor(n,e)})),i}return(0,v.Z)(n,[{key:"isConstant",get:function(){var e,t=nu(this[Bu]);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!su.isConstant(n))return!1}}catch(r){t.e(r)}finally{t.f()}return!0}},{key:au,value:function(){var e=this[Bu].map((function(e){return su.evaluate(e)}));return su.applyIntrinsics(e,this[bu]).map((function(e){return e.number}))}}]),n}(su);function xu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Su(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Su(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Su(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ku=Symbol("instances"),Ru=Symbol("activateListener"),Mu=Symbol("deactivateListener"),Du=Symbol("notifyInstances"),Tu=Symbol("notify"),Lu=Symbol("callback"),Fu=function(e){function t(e){(0,p.Z)(this,t),this[Lu]=e}return(0,v.Z)(t,[{key:"observe",value:function(){0===t[ku].size&&t[Ru](),t[ku].add(this)}},{key:"disconnect",value:function(){t[ku].delete(this),0===t[ku].size&&t[Mu]()}},{key:Tu,value:function(){this[Lu]()}}],[{key:Du,value:function(){var e,n=xu(t[ku]);try{for(n.s();!(e=n.n()).done;){e.value[Tu]()}}catch(r){n.e(r)}finally{n.f()}}},{key:e,value:function(){window.addEventListener("scroll",this[Du],{passive:!0})}},{key:Mu,value:function(){window.removeEventListener("scroll",this[Du])}}]),t}((Au=ku,Ru));Fu[Au]=new Set;var _u=Symbol("computeStyleCallback"),Uu=Symbol("astWalker"),Ou=Symbol("dependencies"),Pu=Symbol("onScroll"),Gu=function(){function e(t){var n=this;(0,p.Z)(this,e),this[uu]={},this[lu]=new pi(["function"]),this[cu]=function(){n[_u]({relatedState:"window-scroll"})},this[_u]=t}return(0,v.Z)(e,[{key:"observeEffectsFor",value:function(e){var t=this,n={},r=this[Ou];for(var i in this[Uu].walk(e,(function(e){var i=e.name,a=e.arguments[0].terms[0];if("env"===i.value&&null!=a&&"ident"===a.type&&"window-scroll-y"===a.value)if(null==n["window-scroll"]){var o="window-scroll"in r?r["window-scroll"]:new Fu(t[Pu]);o.observe(),delete r["window-scroll"],n["window-scroll"]=o}})),r){r[i].disconnect()}this[Ou]=n}},{key:"dispose",value:function(){for(var e in this[Ou]){this[Ou][e].disconnect()}}}]),e}();uu=Ou,lu=Uu,cu=Pu;var Nu=function(e){var t=e.observeEffects||!1,n=e.intrinsics instanceof Function?e.intrinsics:function(){return e.intrinsics};return function(r,i){var a,o=r.updated,s=r.connectedCallback,A=r.disconnectedCallback,u=Symbol("".concat(i,"StyleEffector")),l=Symbol("".concat(i,"StyleEvaluator")),c=Symbol("".concat(i,"UpdateEvaluator")),h=Symbol("".concat(i,"EvaluateAndSync"));Object.defineProperties(r,(a={},(0,C.Z)(a,u,{value:null,writable:!0}),(0,C.Z)(a,l,{value:null,writable:!0}),(0,C.Z)(a,c,{value:function(){var e=this,r=ui(this[i]);this[l]=new Qu(r,n(this)),null==this[u]&&t&&(this[u]=new Gu((function(){return e[h]()}))),null!=this[u]&&this[u].observeEffectsFor(r)}}),(0,C.Z)(a,h,{value:function(){if(null!=this[l]){var t=this[l].evaluate();this[e.updateHandler](t)}}}),(0,C.Z)(a,"updated",{value:function(e){e.has(i)&&(this[c](),this[h]()),o.call(this,e)}}),(0,C.Z)(a,"connectedCallback",{value:function(){s.call(this),this.requestUpdate(i,this[i])}}),(0,C.Z)(a,"disconnectedCallback",{value:function(){A.call(this),null!=this[u]&&(this[u].dispose(),this[u]=null)}}),a))}};function Zu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Hu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Hu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ju(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var qu=new k.FM8,Ku=new k.Pa4,Ju=Object.freeze({minimumRadius:0,maximumRadius:1/0,minimumPolarAngle:Math.PI/8,maximumPolarAngle:Math.PI-Math.PI/8,minimumAzimuthalAngle:-1/0,maximumAzimuthalAngle:1/0,minimumFieldOfView:10,maximumFieldOfView:45,touchAction:"none"}),Vu=Math.PI/8,zu=.04,Yu="user-interaction",Wu="none",Xu="automatic",$u=function(e){(0,y.Z)(n,e);var t=ju(n);function n(e,r,i){var a;return(0,p.Z)(this,n),(a=t.call(this)).camera=e,a.element=r,a.scene=i,a.orbitSensitivity=1,a.inputSensitivity=1,a.changeSource=Wu,a._interactionEnabled=!1,a._disableZoom=!1,a.isUserPointing=!1,a.enablePan=!0,a.enableTap=!0,a.panProjection=new k.Vkp,a.panPerPixel=0,a.spherical=new k.$V,a.goalSpherical=new k.$V,a.thetaDamper=new Ei,a.phiDamper=new Ei,a.radiusDamper=new Ei,a.logFov=Math.log(Ju.maximumFieldOfView),a.goalLogFov=a.logFov,a.fovDamper=new Ei,a.touchMode=null,a.pointers=[],a.startTime=0,a.startPointerPosition={clientX:0,clientY:0},a.lastSeparation=0,a.touchDecided=!1,a.onContext=function(e){if(a.enablePan)e.preventDefault();else{var t,n=Zu(a.pointers);try{for(n.s();!(t=n.n()).done;){var r=t.value;a.onPointerUp(new PointerEvent("pointercancel",Object.assign(Object.assign({},a.startPointerPosition),{pointerId:r.id})))}}catch(i){n.e(i)}finally{n.f()}}},a.touchModeZoom=function(e,t){if(!a._disableZoom){var n=a.twoTouchDistance(a.pointers[0],a.pointers[1]),r=zu*(a.lastSeparation-n)*50/a.scene.height;a.lastSeparation=n,a.userAdjustOrbit(0,0,r)}a.panPerPixel>0&&a.movePan(e,t)},a.disableScroll=function(e){e.preventDefault()},a.touchModeRotate=function(e,t){var n=a._options.touchAction;if(!a.touchDecided&&"none"!==n){a.touchDecided=!0;var r=Math.abs(e),i=Math.abs(t);if(a.changeSource===Yu&&("pan-y"===n&&i>r||"pan-x"===n&&r>i))return void(a.touchMode=null);a.element.addEventListener("touchmove",a.disableScroll,{passive:!1})}a.handleSinglePointerMove(e,t)},a.onPointerDown=function(e){if(!(a.pointers.length>2)){var t=(0,M.Z)(a).element;0===a.pointers.length&&(t.addEventListener("pointermove",a.onPointerMove),t.addEventListener("pointerup",a.onPointerUp),a.touchMode=null,a.touchDecided=!1,a.startPointerPosition.clientX=e.clientX,a.startPointerPosition.clientY=e.clientY,a.startTime=performance.now());try{t.setPointerCapture(e.pointerId)}catch(cr){}a.pointers.push({clientX:e.clientX,clientY:e.clientY,id:e.pointerId}),a.isUserPointing=!1,"touch"===e.pointerType?(a.changeSource=e.altKey?Xu:Yu,a.onTouchChange(e)):(a.changeSource=Yu,a.onMouseDown(e))}},a.onPointerMove=function(e){var t=a.pointers.find((function(t){return t.id===e.pointerId}));if(null!=t){var n=a.pointers.length,r=(e.clientX-t.clientX)/n,i=(e.clientY-t.clientY)/n;0===r&&0===i||(t.clientX=e.clientX,t.clientY=e.clientY,"touch"===e.pointerType?(a.changeSource=e.altKey?Xu:Yu,null!==a.touchMode&&a.touchMode(r,i)):(a.changeSource=Yu,a.panPerPixel>0?a.movePan(r,i):a.handleSinglePointerMove(r,i)))}},a.onPointerUp=function(e){var t=(0,M.Z)(a).element,n=a.pointers.findIndex((function(t){return t.id===e.pointerId}));-1!==n&&a.pointers.splice(n,1),a.panPerPixel>0&&!e.altKey&&a.resetRadius(),0===a.pointers.length?(t.removeEventListener("pointermove",a.onPointerMove),t.removeEventListener("pointerup",a.onPointerUp),t.removeEventListener("touchmove",a.disableScroll),a.enablePan&&a.enableTap&&a.recenter(e)):null!==a.touchMode&&a.onTouchChange(e),a.scene.element[Rl].style.opacity=0,t.style.cursor="grab",a.panPerPixel=0,a.isUserPointing&&a.dispatchEvent({type:"pointer-change-end"})},a.onWheel=function(e){a.changeSource=Yu;var t=e.deltaY*(1==e.deltaMode?18:1)*zu/30;a.userAdjustOrbit(0,0,t),e.preventDefault()},a.onKeyDown=function(e){var t=(0,M.Z)(a).changeSource;a.changeSource=Yu,(e.shiftKey&&a.enablePan?a.panKeyCodeHandler(e):a.orbitZoomKeyCodeHandler(e))?e.preventDefault():a.changeSource=t},a._options=Object.assign({},Ju),a.setOrbit(0,Math.PI/2,1),a.setFieldOfView(100),a.jumpToGoal(),a}return(0,v.Z)(n,[{key:"interactionEnabled",get:function(){return this._interactionEnabled}},{key:"enableInteraction",value:function(){if(!1===this._interactionEnabled){var e=this.element;e.addEventListener("pointerdown",this.onPointerDown),e.addEventListener("pointercancel",this.onPointerUp),this._disableZoom||e.addEventListener("wheel",this.onWheel),e.addEventListener("keydown",this.onKeyDown),e.addEventListener("touchmove",(function(){}),{passive:!1}),e.addEventListener("contextmenu",this.onContext),this.element.style.cursor="grab",this._interactionEnabled=!0,this.updateTouchActionStyle()}}},{key:"disableInteraction",value:function(){if(!0===this._interactionEnabled){var e=this.element;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),e.removeEventListener("pointercancel",this.onPointerUp),e.removeEventListener("wheel",this.onWheel),e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("contextmenu",this.onContext),e.style.cursor="",this.touchMode=null,this._interactionEnabled=!1,this.updateTouchActionStyle()}}},{key:"options",get:function(){return this._options}},{key:"disableZoom",set:function(e){this._disableZoom!=e&&(this._disableZoom=e,!0===e?this.element.removeEventListener("wheel",this.onWheel):this.element.addEventListener("wheel",this.onWheel),this.updateTouchActionStyle())}},{key:"getCameraSpherical",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new k.$V;return e.copy(this.spherical)}},{key:"getFieldOfView",value:function(){return this.camera.fov}},{key:"applyOptions",value:function(e){Object.assign(this._options,e),this.setOrbit(),this.setFieldOfView(Math.exp(this.goalLogFov))}},{key:"updateNearFar",value:function(e,t){this.camera.near=Math.max(e,t/1e3),this.camera.far=t,this.camera.updateProjectionMatrix()}},{key:"updateAspect",value:function(e){this.camera.aspect=e,this.camera.updateProjectionMatrix()}},{key:"setOrbit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.goalSpherical.theta,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.goalSpherical.phi,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.goalSpherical.radius,r=this._options,i=r.minimumAzimuthalAngle,a=r.maximumAzimuthalAngle,o=r.minimumPolarAngle,s=r.maximumPolarAngle,A=r.minimumRadius,u=r.maximumRadius,l=this.goalSpherical,c=l.theta,h=l.phi,f=l.radius,d=pt(e,i,a);isFinite(i)||isFinite(a)||(this.spherical.theta=this.wrapAngle(this.spherical.theta-d)+d);var g=pt(t,o,s),p=pt(n,A,u);return(d!==c||g!==h||p!==f)&&(this.goalSpherical.theta=d,this.goalSpherical.phi=g,this.goalSpherical.radius=p,this.goalSpherical.makeSafe(),!0)}},{key:"setRadius",value:function(e){this.goalSpherical.radius=e,this.setOrbit()}},{key:"setFieldOfView",value:function(e){var t=this._options,n=t.minimumFieldOfView,r=t.maximumFieldOfView;e=pt(e,n,r),this.goalLogFov=Math.log(e)}},{key:"setDamperDecayTime",value:function(e){this.thetaDamper.setDecayTime(e),this.phiDamper.setDecayTime(e),this.radiusDamper.setDecayTime(e),this.fovDamper.setDecayTime(e)}},{key:"adjustOrbit",value:function(e,t,n){var r=this.goalSpherical,i=r.theta,a=r.phi,o=r.radius,s=this._options,A=s.minimumRadius,u=s.maximumRadius,l=s.minimumFieldOfView,c=s.maximumFieldOfView,h=this.spherical.theta-i,f=Math.PI-.001,d=i-pt(e,-f-h,f-h),g=a-t,p=0===n?0:((n>0?u:A)-o)/(Math.log(n>0?c:l)-this.goalLogFov),v=o+n*(isFinite(p)?p:2*(u-A));if(this.setOrbit(d,g,v),0!==n){var m=this.goalLogFov+n;this.setFieldOfView(Math.exp(m))}}},{key:"jumpToGoal",value:function(){this.update(0,1e4)}},{key:"update",value:function(e,t){if(!this.isStationary()){var n=this._options,r=n.maximumPolarAngle,i=n.maximumRadius,a=this.spherical.theta-this.goalSpherical.theta;Math.abs(a)>Math.PI&&!isFinite(this._options.minimumAzimuthalAngle)&&!isFinite(this._options.maximumAzimuthalAngle)&&(this.spherical.theta-=2*Math.sign(a)*Math.PI),this.spherical.theta=this.thetaDamper.update(this.spherical.theta,this.goalSpherical.theta,t,Math.PI),this.spherical.phi=this.phiDamper.update(this.spherical.phi,this.goalSpherical.phi,t,r),this.spherical.radius=this.radiusDamper.update(this.spherical.radius,this.goalSpherical.radius,t,i),this.logFov=this.fovDamper.update(this.logFov,this.goalLogFov,t,1),this.moveCamera()}}},{key:"updateTouchActionStyle",value:function(){var e=this.element.style;if(this._interactionEnabled){var t=this._options.touchAction;this._disableZoom&&"none"!==t?e.touchAction="manipulation":e.touchAction=t}else e.touchAction=""}},{key:"isStationary",value:function(){return this.goalSpherical.theta===this.spherical.theta&&this.goalSpherical.phi===this.spherical.phi&&this.goalSpherical.radius===this.spherical.radius&&this.goalLogFov===this.logFov}},{key:"dispatchChange",value:function(){this.dispatchEvent({type:"change",source:this.changeSource})}},{key:"moveCamera",value:function(){this.spherical.makeSafe(),this.camera.position.setFromSpherical(this.spherical),this.camera.setRotationFromEuler(new k.USm(this.spherical.phi-Math.PI/2,this.spherical.theta,0,"YXZ")),this.camera.fov!==Math.exp(this.logFov)&&(this.camera.fov=Math.exp(this.logFov),this.camera.updateProjectionMatrix()),this.dispatchChange()}},{key:"userAdjustOrbit",value:function(e,t,n){this.adjustOrbit(e*this.orbitSensitivity*this.inputSensitivity,t*this.orbitSensitivity*this.inputSensitivity,n*this.inputSensitivity),this.dispatchChange()}},{key:"wrapAngle",value:function(e){var t=(e+Math.PI)/(2*Math.PI);return 2*(t-Math.floor(t))*Math.PI-Math.PI}},{key:"pixelLengthToSphericalAngle",value:function(e){return 2*Math.PI*e/this.element.clientHeight}},{key:"twoTouchDistance",value:function(e,t){var n=e.clientX,r=e.clientY,i=t.clientX-n,a=t.clientY-r;return Math.sqrt(i*i+a*a)}},{key:"handleSinglePointerMove",value:function(e,t){var n=this.pixelLengthToSphericalAngle(e),r=this.pixelLengthToSphericalAngle(t);!1===this.isUserPointing&&(this.isUserPointing=!0,this.dispatchEvent({type:"pointer-change-start"})),this.userAdjustOrbit(n,r,0)}},{key:"initializePan",value:function(){var e=this.spherical,t=e.theta,n=e.phi,r=t-this.scene.yaw;this.panPerPixel=.018/this.scene.height,this.panProjection.set(-Math.cos(r),-Math.cos(n)*Math.sin(r),0,0,Math.sin(n),0,Math.sin(r),-Math.cos(n)*Math.cos(r),0)}},{key:"movePan",value:function(e,t){var n=this.scene,r=Ku.set(e,t,0).multiplyScalar(this.inputSensitivity),i=this.spherical.radius*Math.exp(this.logFov)*this.panPerPixel;r.multiplyScalar(i);var a=n.getTarget();a.add(r.applyMatrix3(this.panProjection)),n.boundingSphere.clampPoint(a,a),n.setTarget(a.x,a.y,a.z),this.dispatchChange()}},{key:"recenter",value:function(e){if(!(performance.now()>this.startTime+300||Math.abs(e.clientX-this.startPointerPosition.clientX)>2||Math.abs(e.clientY-this.startPointerPosition.clientY)>2)){var t=this.scene,n=t.positionAndNormalFromPoint(t.getNDC(e.clientX,e.clientY));if(null==n){var r=t.element.cameraTarget;t.element.cameraTarget="",t.element.cameraTarget=r,this.userAdjustOrbit(0,0,1)}else t.target.worldToLocal(n.position),t.setTarget(n.position.x,n.position.y,n.position.z)}}},{key:"resetRadius",value:function(){var e=this.scene,t=e.positionAndNormalFromPoint(qu.set(0,0));if(null!=t){e.target.worldToLocal(t.position);var n=e.getTarget(),r=this.spherical,i=r.theta,a=r.phi,o=i-e.yaw,s=Ku.set(Math.sin(a)*Math.sin(o),Math.cos(a),Math.sin(a)*Math.cos(o)),A=s.dot(t.position.sub(n));n.add(s.multiplyScalar(A)),e.setTarget(n.x,n.y,n.z),this.setOrbit(void 0,void 0,this.goalSpherical.radius-A)}}},{key:"onTouchChange",value:function(e){if(1===this.pointers.length)this.touchMode=this.touchModeRotate;else{if(this._disableZoom)return this.touchMode=null,void this.element.removeEventListener("touchmove",this.disableScroll);this.touchMode=this.touchDecided&&null===this.touchMode?null:this.touchModeZoom,this.touchDecided=!0,this.element.addEventListener("touchmove",this.disableScroll,{passive:!1}),this.lastSeparation=this.twoTouchDistance(this.pointers[0],this.pointers[1]),this.enablePan&&null!=this.touchMode&&(this.initializePan(),e.altKey||(this.scene.element[Rl].style.opacity=1))}}},{key:"onMouseDown",value:function(e){this.panPerPixel=0,this.enablePan&&(2===e.button||e.ctrlKey||e.metaKey||e.shiftKey)&&(this.initializePan(),this.scene.element[Rl].style.opacity=1),this.element.style.cursor="grabbing"}},{key:"orbitZoomKeyCodeHandler",value:function(e){var t=!0;switch(e.key){case"PageUp":this.userAdjustOrbit(0,0,zu);break;case"PageDown":this.userAdjustOrbit(0,0,-.04);break;case"ArrowUp":this.userAdjustOrbit(0,-Vu,0);break;case"ArrowDown":this.userAdjustOrbit(0,Vu,0);break;case"ArrowLeft":this.userAdjustOrbit(-Vu,0,0);break;case"ArrowRight":this.userAdjustOrbit(Vu,0,0);break;default:t=!1}return t}},{key:"panKeyCodeHandler",value:function(e){this.initializePan();var t=!0;switch(e.key){case"ArrowUp":this.movePan(0,-10);break;case"ArrowDown":this.movePan(0,10);break;case"ArrowLeft":this.movePan(-10,0);break;case"ArrowRight":this.movePan(10,0);break;default:t=!1}return t}}]),n}(k.pBf),el=function(e){return e<.5?2*e*e:(4-2*e)*e-1},tl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:el;return function(r){return e+(t-e)*n(r)}},nl=function(e){for(var t=[],n=[],r=e.initialValue,i=0;i<e.keyframes.length;++i){var a=e.keyframes[i],o=a.value,s=a.frames,A=a.ease||el,u=tl(r,o,A);t.push(u),n.push(s),r=o}return function(e,t){var n,r=t.map((n=0,function(e){return n+=e}));return function(t){t=pt(t,0,1),t*=r[r.length-1];var n=r.findIndex((function(e){return e>=t})),i=n<1?0:r[n-1],a=r[n];return e[n]((t-i)/(a-i))}}(t,n)};function rl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return il(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function il(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function al(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var ol,sl,Al,ul=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},ll=nl({initialValue:0,keyframes:[{frames:5,value:-1},{frames:1,value:-1},{frames:8,value:1},{frames:1,value:1},{frames:5,value:0},{frames:18,value:0}]}),cl=nl({initialValue:0,keyframes:[{frames:1,value:1},{frames:5,value:1},{frames:1,value:0},{frames:6,value:0}]}),hl="0deg 75deg 105%",fl="auto auto auto",dl="auto",gl=["front","right","back","left"],pl=["upper-","","lower-"],vl="auto",ml="none",yl=function(){return{basis:[mi(Ai(30,"deg"))],keywords:{auto:[null]}}},Il=function(){return{basis:[mi(Ai(12,"deg"))],keywords:{auto:[null]}}},El=(ol=ui(hl)[0].terms,sl=Ii(ol[0]),Al=Ii(ol[1]),function(e){var t=e[qo].idealCameraDistance();return{basis:[sl,Al,Ai(t,"m")],keywords:{auto:[null,null,Ai(105,"%")]}}}),Cl=function(e){var t=2.2*e[qo].boundingSphere.radius;return{basis:[Ai(-1/0,"rad"),Ai(Math.PI/8,"rad"),Ai(t,"m")],keywords:{auto:[null,null,null]}}},wl=function(e){var t=El(e),n=new Qu([],t).evaluate()[2];return{basis:[Ai(1/0,"rad"),Ai(Math.PI-Math.PI/8,"rad"),Ai(n,"m")],keywords:{auto:[null,null,null]}}},Bl=function(e){var t=e[qo].boundingBox.getCenter(new k.Pa4);return{basis:[Ai(t.x,"m"),Ai(t.y,"m"),Ai(t.z,"m")],keywords:{auto:[null,null,null]}}},bl=Math.PI/2,Ql=Math.PI/3,xl=bl/2,Sl=2*Math.PI,kl=Symbol("controls"),Rl=Symbol("panElement"),Ml=Symbol("promptElement"),Dl=Symbol("promptAnimatedContainer"),Tl=Symbol("fingerAnimatedContainers"),Ll=Symbol("deferInteractionPrompt"),Fl=Symbol("updateAria"),_l=Symbol("updateCameraForRadius"),Ul=Symbol("onChange"),Ol=Symbol("onPointerChange"),Pl=Symbol("waitingToPromptUser"),Gl=Symbol("userHasInteracted"),Nl=Symbol("promptElementVisibleTime"),Zl=Symbol("lastPromptOffset"),Hl=Symbol("lastSpherical"),jl=Symbol("jumpCamera"),ql=Symbol("initialized"),Kl=Symbol("maintainThetaPhi"),Jl=Symbol("syncCameraOrbit"),Vl=Symbol("syncFieldOfView"),zl=Symbol("syncCameraTarget"),Yl=Symbol("syncMinCameraOrbit"),Wl=Symbol("syncMaxCameraOrbit"),Xl=Symbol("syncMinFieldOfView"),$l=Symbol("syncMaxFieldOfView");function ec(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var tc=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},nc="https://www.gstatic.com/draco/versioned/decoders/1.4.1/",rc="https://www.gstatic.com/basis-universal/versioned/2021-04-15-ba1c3e4/",ic="auto",ac="auto",oc="eager",sc=Symbol("defaultProgressBarElement"),Ac=Symbol("posterContainerElement"),uc=Symbol("defaultPosterElement"),lc=Symbol("shouldDismissPoster"),cc=Symbol("hidePoster"),hc=Symbol("modelIsRevealed"),fc=Symbol("updateProgressBar"),dc=Symbol("ariaLabelCallToAction"),gc=Symbol("onProgress"),pc=function(){function e(){(0,p.Z)(this,e),this.pluginCallbacks=[],this.register((function(e){return new qc(e)})),this.register((function(e){return new Kc(e)})),this.register((function(e){return new Jc(e)})),this.register((function(e){return new Yc(e)})),this.register((function(e){return new Wc(e)})),this.register((function(e){return new Vc(e)})),this.register((function(e){return new zc(e)}))}return(0,v.Z)(e,[{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){for(var i=new jc,a=[],o=0,s=this.pluginCallbacks.length;o<s;o++)a.push(this.pluginCallbacks[o](i));i.setPlugins(a),i.write(e,t,r).catch(n)}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,r,i,t)}))}}]),e}(),vc=0,mc=1,yc=2,Ic=3,Ec=4,Cc=5121,wc=5123,Bc=5126,bc=5125,Qc=34962,xc=34963,Sc=9728,kc=9729,Rc=9984,Mc=9985,Dc=9986,Tc=9987,Lc=33071,Fc=33648,_c=10497,Uc={};Uc[k.TyD]=Sc,Uc[k.YLQ]=Rc,Uc[k.aH4]=Dc,Uc[k.wem]=kc,Uc[k.qyh]=Mc,Uc[k.D1R]=Tc,Uc[k.uWy]=Lc,Uc[k.rpg]=_c,Uc[k.OoA]=Fc;var Oc={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"};function Pc(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}function Gc(e){return 4*Math.ceil(e/4)}function Nc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Gc(e.byteLength);if(n!==e.byteLength){var r=new Uint8Array(n);if(r.set(new Uint8Array(e)),0!==t)for(var i=e.byteLength;i<n;i++)r[i]=t;return r.buffer}return e}function Zc(){return"undefined"==typeof document&&"undefined"!=typeof OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas")}function Hc(e,t){return void 0!==e.toBlob?new Promise((function(n){return e.toBlob(n,t)})):("image/jpeg"===t?n=.92:"image/webp"===t&&(n=.8),e.convertToBlob({type:t,quality:n}));var n}var jc=function(){function e(){(0,p.Z)(this,e),this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}var t;return(0,v.Z)(e,[{key:"setPlugins",value:function(e){this.plugins=e}},{key:"write",value:(t=(0,R.Z)(S().mark((function e(t,n,r){var i,a,o,s,A,u,l,c;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},r),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(t),e.next=5,Promise.all(this.pending);case 5:a=(i=this).buffers,o=i.json,r=i.options,s=i.extensionsUsed,A=new Blob(a,{type:"application/octet-stream"}),(u=Object.keys(s)).length>0&&(o.extensionsUsed=u),o.buffers&&o.buffers.length>0&&(o.buffers[0].byteLength=A.size),!0===r.binary?((l=new FileReader).readAsArrayBuffer(A),l.onloadend=function(){var e=Nc(l.result),t=new DataView(new ArrayBuffer(8));t.setUint32(0,e.byteLength,!0),t.setUint32(4,5130562,!0);var r,i=Nc((r=JSON.stringify(o),(new TextEncoder).encode(r).buffer),32),a=new DataView(new ArrayBuffer(8));a.setUint32(0,i.byteLength,!0),a.setUint32(4,1313821514,!0);var s=new ArrayBuffer(12),A=new DataView(s);A.setUint32(0,1179937895,!0),A.setUint32(4,2,!0);var u=12+a.byteLength+i.byteLength+t.byteLength+e.byteLength;A.setUint32(8,u,!0);var c=new Blob([s,a,i,t,e],{type:"application/octet-stream"}),h=new FileReader;h.readAsArrayBuffer(c),h.onloadend=function(){n(h.result)}}):o.buffers&&o.buffers.length>0?((c=new FileReader).readAsDataURL(A),c.onloadend=function(){var e=c.result;o.buffers[0].uri=e,n(o)}):n(o);case 15:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"serializeUserData",value:function(e,t){if(0!==Object.keys(e.userData).length){var n=this.options,r=this.extensionsUsed;try{var i=JSON.parse(JSON.stringify(e.userData));if(n.includeCustomExtensions&&i.gltfExtensions){for(var a in void 0===t.extensions&&(t.extensions={}),i.gltfExtensions)t.extensions[a]=i.gltfExtensions[a],r[a]=!0;delete i.gltfExtensions}Object.keys(i).length>0&&(t.extras=i)}catch(o){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+o.message)}}}},{key:"getUID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!1===this.uids.has(e)){var n=new Map;n.set(!0,this.uid++),n.set(!1,this.uid++),this.uids.set(e,n)}var r=this.uids.get(e);return r.get(t)}},{key:"isNormalizedNormalAttribute",value:function(e){if(this.cache.attributesNormalized.has(e))return!1;for(var t=new k.Pa4,n=0,r=e.count;n<r;n++)if(Math.abs(t.fromBufferAttribute(e,n).length()-1)>5e-4)return!1;return!0}},{key:"createNormalizedNormalAttribute",value:function(e){var t=this.cache;if(t.attributesNormalized.has(e))return t.attributesNormalized.get(e);for(var n=e.clone(),r=new k.Pa4,i=0,a=n.count;i<a;i++)r.fromBufferAttribute(n,i),0===r.x&&0===r.y&&0===r.z?r.setX(1):r.normalize(),n.setXYZ(i,r.x,r.y,r.z);return t.attributesNormalized.set(e,n),n}},{key:"applyTextureTransform",value:function(e,t){var n=!1,r={};0===t.offset.x&&0===t.offset.y||(r.offset=t.offset.toArray(),n=!0),0!==t.rotation&&(r.rotation=t.rotation,n=!0),1===t.repeat.x&&1===t.repeat.y||(r.scale=t.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}},{key:"buildMetalRoughTexture",value:function(e,t){if(e===t)return e;function n(e){return e.encoding===k.knz?function(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}:function(e){return e}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.");var r=null==e?void 0:e.image,i=null==t?void 0:t.image,a=Math.max((null==r?void 0:r.width)||0,(null==i?void 0:i.width)||0),o=Math.max((null==r?void 0:r.height)||0,(null==i?void 0:i.height)||0),s=Zc();s.width=a,s.height=o;var A=s.getContext("2d");A.fillStyle="#00ffff",A.fillRect(0,0,a,o);var u=A.getImageData(0,0,a,o);if(r){A.drawImage(r,0,0,a,o);for(var l=n(e),c=A.getImageData(0,0,a,o).data,h=2;h<c.length;h+=4)u.data[h]=256*l(c[h]/256)}if(i){A.drawImage(i,0,0,a,o);for(var f=n(t),d=A.getImageData(0,0,a,o).data,g=1;g<d.length;g+=4)u.data[g]=256*f(d[g]/256)}A.putImageData(u,0,0);var p=(e||t).clone();return p.source=new k.Hw6(s),p.encoding=k.rnI,p}},{key:"processBuffer",value:function(e){var t=this.json,n=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),n.push(e),0}},{key:"processBufferView",value:function(e,t,n,r,i){var a,o=this.json;o.bufferViews||(o.bufferViews=[]),a=t===Cc?1:t===wc?2:4;for(var s=Gc(r*e.itemSize*a),A=new DataView(new ArrayBuffer(s)),u=0,l=n;l<n+r;l++)for(var c=0;c<e.itemSize;c++){var h=void 0;e.itemSize>4?h=e.array[l*e.itemSize+c]:0===c?h=e.getX(l):1===c?h=e.getY(l):2===c?h=e.getZ(l):3===c&&(h=e.getW(l)),t===Bc?A.setFloat32(u,h,!0):t===bc?A.setUint32(u,h,!0):t===wc?A.setUint16(u,h,!0):t===Cc&&A.setUint8(u,h),u+=a}var f={buffer:this.processBuffer(A.buffer),byteOffset:this.byteOffset,byteLength:s};return void 0!==i&&(f.target=i),i===Qc&&(f.byteStride=e.itemSize*a),this.byteOffset+=s,o.bufferViews.push(f),{id:o.bufferViews.length-1,byteLength:0}}},{key:"processBufferViewImage",value:function(e){var t=this,n=t.json;return n.bufferViews||(n.bufferViews=[]),new Promise((function(r){var i=new FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){var e=Nc(i.result),a={buffer:t.processBuffer(e),byteOffset:t.byteOffset,byteLength:e.byteLength};t.byteOffset+=e.byteLength,r(n.bufferViews.push(a)-1)}}))}},{key:"processAccessor",value:function(e,t,n,r){var i,a=this.options,o=this.json;if(e.array.constructor===Float32Array)i=Bc;else if(e.array.constructor===Uint32Array)i=bc;else if(e.array.constructor===Uint16Array)i=wc;else{if(e.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");i=Cc}if(void 0===n&&(n=0),void 0===r&&(r=e.count),a.truncateDrawRange&&void 0!==t&&null===t.index){var s=n+r,A=t.drawRange.count===1/0?e.count:t.drawRange.start+t.drawRange.count;n=Math.max(n,t.drawRange.start),(r=Math.min(s,A)-n)<0&&(r=0)}if(0===r)return null;var u,l=function(e,t,n){for(var r={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)},i=t;i<t+n;i++)for(var a=0;a<e.itemSize;a++){var o=void 0;e.itemSize>4?o=e.array[i*e.itemSize+a]:0===a?o=e.getX(i):1===a?o=e.getY(i):2===a?o=e.getZ(i):3===a&&(o=e.getW(i)),r.min[a]=Math.min(r.min[a],o),r.max[a]=Math.max(r.max[a],o)}return r}(e,n,r);void 0!==t&&(u=e===t.index?xc:Qc);var c=this.processBufferView(e,i,n,r,u),h={bufferView:c.id,byteOffset:c.byteOffset,componentType:i,count:r,max:l.max,min:l.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[e.itemSize]};return!0===e.normalized&&(h.normalized=!0),o.accessors||(o.accessors=[]),o.accessors.push(h)-1}},{key:"processImage",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"image/png",i=this,a=i.cache,o=i.json,s=i.options,A=i.pending;a.images.has(e)||a.images.set(e,{});var u=a.images.get(e),l=r+":flipY/"+n.toString();if(void 0!==u[l])return u[l];o.images||(o.images=[]);var c={mimeType:r},h=Zc();h.width=Math.min(e.width,s.maxTextureSize),h.height=Math.min(e.height,s.maxTextureSize);var f=h.getContext("2d");if(!0===n&&(f.translate(0,h.height),f.scale(1,-1)),void 0!==e.data){t!==k.wk1&&console.error("GLTFExporter: Only RGBAFormat is supported."),(e.width>s.maxTextureSize||e.height>s.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);for(var d=new Uint8ClampedArray(e.height*e.width*4),g=0;g<d.length;g+=4)d[g+0]=e.data[g+0],d[g+1]=e.data[g+1],d[g+2]=e.data[g+2],d[g+3]=e.data[g+3];f.putImageData(new ImageData(d,e.width,e.height),0,0)}else f.drawImage(e,0,0,h.width,h.height);!0===s.binary?A.push(Hc(h,r).then((function(e){return i.processBufferViewImage(e)})).then((function(e){c.bufferView=e}))):void 0!==h.toDataURL?c.uri=h.toDataURL(r):A.push(Hc(h,r).then((function(e){return(new FileReader).readAsDataURL(e)})).then((function(e){c.uri=e})));var p=o.images.push(c)-1;return u[l]=p,p}},{key:"processSampler",value:function(e){var t=this.json;t.samplers||(t.samplers=[]);var n={magFilter:Uc[e.magFilter],minFilter:Uc[e.minFilter],wrapS:Uc[e.wrapS],wrapT:Uc[e.wrapT]};return t.samplers.push(n)-1}},{key:"processTexture",value:function(e){var t=this.cache,n=this.json;if(t.textures.has(e))return t.textures.get(e);n.textures||(n.textures=[]);var r=e.userData.mimeType;"image/webp"===r&&(r="image/png");var i={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,r)};e.name&&(i.name=e.name),this._invokeAll((function(t){t.writeTexture&&t.writeTexture(e,i)}));var a=n.textures.push(i)-1;return t.textures.set(e,a),a}},{key:"processMaterial",value:function(e){var t=this.cache,n=this.json;if(t.materials.has(e))return t.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;n.materials||(n.materials=[]);var r={pbrMetallicRoughness:{}};!0!==e.isMeshStandardMaterial&&!0!==e.isMeshBasicMaterial&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");var i=e.color.toArray().concat([e.opacity]);if(Pc(i,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=i),e.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=e.metalness,r.pbrMetallicRoughness.roughnessFactor=e.roughness):(r.pbrMetallicRoughness.metallicFactor=.5,r.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){var a=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),o={index:this.processTexture(a)};this.applyTextureTransform(o,a),r.pbrMetallicRoughness.metallicRoughnessTexture=o}if(e.map){var s={index:this.processTexture(e.map)};this.applyTextureTransform(s,e.map),r.pbrMetallicRoughness.baseColorTexture=s}if(e.emissive){var A=e.emissive.clone().multiplyScalar(e.emissiveIntensity),u=Math.max(A.r,A.g,A.b);if(u>1&&(A.multiplyScalar(1/u),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),u>0&&(r.emissiveFactor=A.toArray()),e.emissiveMap){var l={index:this.processTexture(e.emissiveMap)};this.applyTextureTransform(l,e.emissiveMap),r.emissiveTexture=l}}if(e.normalMap){var c={index:this.processTexture(e.normalMap)};e.normalScale&&1!==e.normalScale.x&&(c.scale=e.normalScale.x),this.applyTextureTransform(c,e.normalMap),r.normalTexture=c}if(e.aoMap){var h={index:this.processTexture(e.aoMap),texCoord:1};1!==e.aoMapIntensity&&(h.strength=e.aoMapIntensity),this.applyTextureTransform(h,e.aoMap),r.occlusionTexture=h}e.transparent?r.alphaMode="BLEND":e.alphaTest>0&&(r.alphaMode="MASK",r.alphaCutoff=e.alphaTest),e.side===k.ehD&&(r.doubleSided=!0),""!==e.name&&(r.name=e.name),this.serializeUserData(e,r),this._invokeAll((function(t){t.writeMaterial&&t.writeMaterial(e,r)}));var f=n.materials.push(r)-1;return t.materials.set(e,f),f}},{key:"processMesh",value:function(e){var t=this.cache,n=this.json,r=[e.geometry.uuid];if(Array.isArray(e.material))for(var i=0,a=e.material.length;i<a;i++)r.push(e.material[i].uuid);else r.push(e.material.uuid);var o=r.join(":");if(t.meshes.has(o))return t.meshes.get(o);var s,A=e.geometry;s=e.isLineSegments?mc:e.isLineLoop?yc:e.isLine?Ic:e.isPoints?vc:e.material.wireframe?mc:Ec;var u={},l={},c=[],h=[],f={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},d=A.getAttribute("normal");void 0===d||this.isNormalizedNormalAttribute(d)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),A.setAttribute("normal",this.createNormalizedNormalAttribute(d)));var g=null;for(var p in A.attributes)if("morph"!==p.slice(0,5)){var v=A.attributes[p];p=f[p]||p.toUpperCase();if(/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(p)||(p="_"+p),t.attributes.has(this.getUID(v)))l[p]=t.attributes.get(this.getUID(v));else{g=null;var m=v.array;"JOINTS_0"!==p||m instanceof Uint16Array||m instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),g=new k.TlE(new Uint16Array(m),v.itemSize,v.normalized));var y=this.processAccessor(g||v,A);null!==y&&(l[p]=y,t.attributes.set(this.getUID(v),y))}}if(void 0!==d&&A.setAttribute("normal",d),0===Object.keys(l).length)return null;if(void 0!==e.morphTargetInfluences&&e.morphTargetInfluences.length>0){var I=[],E=[],C={};if(void 0!==e.morphTargetDictionary)for(var w in e.morphTargetDictionary)C[e.morphTargetDictionary[w]]=w;for(var B=0;B<e.morphTargetInfluences.length;++B){var b={},Q=!1;for(var x in A.morphAttributes)if("position"===x||"normal"===x){var S=A.morphAttributes[x][B],R=x.toUpperCase(),M=A.attributes[x];if(t.attributes.has(this.getUID(S,!0)))b[R]=t.attributes.get(this.getUID(S,!0));else{var D=S.clone();if(!A.morphTargetsRelative)for(var T=0,L=S.count;T<L;T++)D.setXYZ(T,S.getX(T)-M.getX(T),S.getY(T)-M.getY(T),S.getZ(T)-M.getZ(T));b[R]=this.processAccessor(D,A),t.attributes.set(this.getUID(M,!0),b[R])}}else Q||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),Q=!0);h.push(b),I.push(e.morphTargetInfluences[B]),void 0!==e.morphTargetDictionary&&E.push(C[B])}u.weights=I,E.length>0&&(u.extras={},u.extras.targetNames=E)}var F=Array.isArray(e.material);if(F&&0===A.groups.length)return null;for(var _=F?e.material:[e.material],U=F?A.groups:[{materialIndex:0,start:void 0,count:void 0}],O=0,P=U.length;O<P;O++){var G={mode:s,attributes:l};if(this.serializeUserData(A,G),h.length>0&&(G.targets=h),null!==A.index){var N=this.getUID(A.index);void 0===U[O].start&&void 0===U[O].count||(N+=":"+U[O].start+":"+U[O].count),t.attributes.has(N)?G.indices=t.attributes.get(N):(G.indices=this.processAccessor(A.index,A,U[O].start,U[O].count),t.attributes.set(N,G.indices)),null===G.indices&&delete G.indices}var Z=this.processMaterial(_[U[O].materialIndex]);null!==Z&&(G.material=Z),c.push(G)}u.primitives=c,n.meshes||(n.meshes=[]),this._invokeAll((function(t){t.writeMesh&&t.writeMesh(e,u)}));var H=n.meshes.push(u)-1;return t.meshes.set(o,H),H}},{key:"processCamera",value:function(e){var t=this.json;t.cameras||(t.cameras=[]);var n=e.isOrthographicCamera,r={type:n?"orthographic":"perspective"};return n?r.orthographic={xmag:2*e.right,ymag:2*e.top,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:r.perspective={aspectRatio:e.aspect,yfov:k.M8C.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},""!==e.name&&(r.name=e.type),t.cameras.push(r)-1}},{key:"processAnimation",value:function(e,t){var n=this.json,r=this.nodeMap;n.animations||(n.animations=[]);for(var i=(e=pc.Utils.mergeMorphTargetTracks(e.clone(),t)).tracks,a=[],o=[],s=0;s<i.length;++s){var A=i[s],u=k.iUV.parseTrackName(A.name),l=k.iUV.findNode(t,u.nodeName),c=Oc[u.propertyName];if("bones"===u.objectName&&(l=!0===l.isSkinnedMesh?l.skeleton.getBoneByName(u.objectIndex):void 0),!l||!c)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',A.name),null;var h=A.values.length/A.times.length;c===Oc.morphTargetInfluences&&(h/=l.morphTargetInfluences.length);var f=void 0;!0===A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(f="CUBICSPLINE",h/=3):f=A.getInterpolation()===k.Syv?"STEP":"LINEAR",o.push({input:this.processAccessor(new k.TlE(A.times,1)),output:this.processAccessor(new k.TlE(A.values,h)),interpolation:f}),a.push({sampler:o.length-1,target:{node:r.get(l),path:c}})}return n.animations.push({name:e.name||"clip_"+n.animations.length,samplers:o,channels:a}),n.animations.length-1}},{key:"processSkin",value:function(e){var t=this.json,n=this.nodeMap,r=t.nodes[n.get(e)],i=e.skeleton;if(void 0===i)return null;var a=e.skeleton.bones[0];if(void 0===a)return null;for(var o=[],s=new Float32Array(16*i.bones.length),A=new k.yGw,u=0;u<i.bones.length;++u)o.push(n.get(i.bones[u])),A.copy(i.boneInverses[u]),A.multiply(e.bindMatrix).toArray(s,16*u);return void 0===t.skins&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new k.TlE(s,16)),joints:o,skeleton:n.get(a)}),r.skin=t.skins.length-1}},{key:"processNode",value:function(e){var t=this.json,n=this.options,r=this.nodeMap;t.nodes||(t.nodes=[]);var i={};if(n.trs){var a=e.quaternion.toArray(),o=e.position.toArray(),s=e.scale.toArray();Pc(a,[0,0,0,1])||(i.rotation=a),Pc(o,[0,0,0])||(i.translation=o),Pc(s,[1,1,1])||(i.scale=s)}else e.matrixAutoUpdate&&e.updateMatrix(),!1===Pc(e.matrix.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])&&(i.matrix=e.matrix.elements);if(""!==e.name&&(i.name=String(e.name)),this.serializeUserData(e,i),e.isMesh||e.isLine||e.isPoints){var A=this.processMesh(e);null!==A&&(i.mesh=A)}else e.isCamera&&(i.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){for(var u=[],l=0,c=e.children.length;l<c;l++){var h=e.children[l];if(h.visible||!1===n.onlyVisible){var f=this.processNode(h);null!==f&&u.push(f)}}u.length>0&&(i.children=u)}this._invokeAll((function(t){t.writeNode&&t.writeNode(e,i)}));var d=t.nodes.push(i)-1;return r.set(e,d),d}},{key:"processScene",value:function(e){var t=this.json,n=this.options;t.scenes||(t.scenes=[],t.scene=0);var r={};""!==e.name&&(r.name=e.name),t.scenes.push(r);for(var i=[],a=0,o=e.children.length;a<o;a++){var s=e.children[a];if(s.visible||!1===n.onlyVisible){var A=this.processNode(s);null!==A&&i.push(A)}}i.length>0&&(r.nodes=i),this.serializeUserData(e,r)}},{key:"processObjects",value:function(e){var t=new k.xsS;t.name="AuxScene";for(var n=0;n<e.length;n++)t.children.push(e[n]);this.processScene(t)}},{key:"processInput",value:function(e){var t=this.options;e=e instanceof Array?e:[e],this._invokeAll((function(t){t.beforeParse&&t.beforeParse(e)}));for(var n=[],r=0;r<e.length;r++)e[r]instanceof k.xsS?this.processScene(e[r]):n.push(e[r]);n.length>0&&this.processObjects(n);for(var i=0;i<this.skins.length;++i)this.processSkin(this.skins[i]);for(var a=0;a<t.animations.length;++a)this.processAnimation(t.animations[a],e[0]);this._invokeAll((function(t){t.afterParse&&t.afterParse(e)}))}},{key:"_invokeAll",value:function(e){for(var t=0,n=this.plugins.length;t<n;t++)e(this.plugins[t])}}]),e}(),qc=function(){function e(t){(0,p.Z)(this,e),this.writer=t,this.name="KHR_lights_punctual"}return(0,v.Z)(e,[{key:"writeNode",value:function(e,t){if(e.isLight)if(e.isDirectionalLight||e.isPointLight||e.isSpotLight){var n=this.writer,r=n.json,i=n.extensionsUsed,a={};e.name&&(a.name=e.name),a.color=e.color.toArray(),a.intensity=e.intensity,e.isDirectionalLight?a.type="directional":e.isPointLight?(a.type="point",e.distance>0&&(a.range=e.distance)):e.isSpotLight&&(a.type="spot",e.distance>0&&(a.range=e.distance),a.spot={},a.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,a.spot.outerConeAngle=e.angle),void 0!==e.decay&&2!==e.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),!e.target||e.target.parent===e&&0===e.target.position.x&&0===e.target.position.y&&-1===e.target.position.z||console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),i[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},i[this.name]=!0);var o=r.extensions[this.name].lights;o.push(a),t.extensions=t.extensions||{},t.extensions[this.name]={light:o.length-1}}else console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e)}}]),e}(),Kc=function(){function e(t){(0,p.Z)(this,e),this.writer=t,this.name="KHR_materials_unlit"}return(0,v.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshBasicMaterial){var n=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},n[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}}]),e}(),Jc=function(){function e(t){(0,p.Z)(this,e),this.writer=t,this.name="KHR_materials_pbrSpecularGlossiness"}return(0,v.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isGLTFSpecularGlossinessMaterial){var n=this.writer,r=n.extensionsUsed,i={};t.pbrMetallicRoughness.baseColorFactor&&(i.diffuseFactor=t.pbrMetallicRoughness.baseColorFactor);var a=[1,1,1];if(e.specular.toArray(a,0),i.specularFactor=a,i.glossinessFactor=e.glossiness,t.pbrMetallicRoughness.baseColorTexture&&(i.diffuseTexture=t.pbrMetallicRoughness.baseColorTexture),e.specularMap){var o={index:n.processTexture(e.specularMap)};n.applyTextureTransform(o,e.specularMap),i.specularGlossinessTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),Vc=function(){function e(t){(0,p.Z)(this,e),this.writer=t,this.name="KHR_materials_clearcoat"}return(0,v.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial){var n=this.writer,r=n.extensionsUsed,i={};if(i.clearcoatFactor=e.clearcoat,e.clearcoatMap){var a={index:n.processTexture(e.clearcoatMap)};n.applyTextureTransform(a,e.clearcoatMap),i.clearcoatTexture=a}if(i.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){var o={index:n.processTexture(e.clearcoatRoughnessMap)};n.applyTextureTransform(o,e.clearcoatRoughnessMap),i.clearcoatRoughnessTexture=o}if(e.clearcoatNormalMap){var s={index:n.processTexture(e.clearcoatNormalMap)};n.applyTextureTransform(s,e.clearcoatNormalMap),i.clearcoatNormalTexture=s}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),zc=function(){function e(t){(0,p.Z)(this,e),this.writer=t,this.name="KHR_materials_iridescence"}return(0,v.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial){var n=this.writer,r=n.extensionsUsed,i={};if(i.iridescenceFactor=e.iridescence,e.iridescenceMap){var a={index:n.processTexture(e.iridescenceMap)};n.applyTextureTransform(a,e.iridescenceMap),i.iridescenceTexture=a}if(i.iridescenceIor=e.iridescenceIOR,i.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],i.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){var o={index:n.processTexture(e.iridescenceThicknessMap)};n.applyTextureTransform(o,e.iridescenceThicknessMap),i.iridescenceThicknessTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),Yc=function(){function e(t){(0,p.Z)(this,e),this.writer=t,this.name="KHR_materials_transmission"}return(0,v.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var n=this.writer,r=n.extensionsUsed,i={};if(i.transmissionFactor=e.transmission,e.transmissionMap){var a={index:n.processTexture(e.transmissionMap)};n.applyTextureTransform(a,e.transmissionMap),i.transmissionTexture=a}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),Wc=function(){function e(t){(0,p.Z)(this,e),this.writer=t,this.name="KHR_materials_volume"}return(0,v.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var n=this.writer,r=n.extensionsUsed,i={};if(i.thicknessFactor=e.thickness,e.thicknessMap){var a={index:n.processTexture(e.thicknessMap)};n.applyTextureTransform(a,e.thicknessMap),i.thicknessTexture=a}i.attenuationDistance=e.attenuationDistance,i.attenuationColor=e.attenuationColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}();function Xc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function $c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}pc.Utils={insertKeyframe:function(e,t){var n,r=.001,i=e.getValueSize(),a=new e.TimeBufferType(e.times.length+1),o=new e.ValueBufferType(e.values.length+i),s=e.createInterpolant(new e.ValueBufferType(i));if(0===e.times.length){a[0]=t;for(var A=0;A<i;A++)o[A]=0;n=0}else if(t<e.times[0]){if(Math.abs(e.times[0]-t)<r)return 0;a[0]=t,a.set(e.times,1),o.set(s.evaluate(t),0),o.set(e.values,i),n=0}else if(t>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-t)<r)return e.times.length-1;a[a.length-1]=t,a.set(e.times,0),o.set(e.values,0),o.set(s.evaluate(t),e.values.length),n=a.length-1}else for(var u=0;u<e.times.length;u++){if(Math.abs(e.times[u]-t)<r)return u;if(e.times[u]<t&&e.times[u+1]>t){a.set(e.times.slice(0,u+1),0),a[u+1]=t,a.set(e.times.slice(u+1),u+2),o.set(e.values.slice(0,(u+1)*i),0),o.set(s.evaluate(t),(u+1)*i),o.set(e.values.slice((u+1)*i),(u+2)*i),n=u+1;break}}return e.times=a,e.values=o,n},mergeMorphTargetTracks:function(e,t){for(var n=[],r={},i=e.tracks,a=0;a<i.length;++a){var o=i[a],s=k.iUV.parseTrackName(o.name),A=k.iUV.findNode(t,s.nodeName);if("morphTargetInfluences"===s.propertyName&&void 0!==s.propertyIndex){if(o.createInterpolant!==o.InterpolantFactoryMethodDiscrete&&o.createInterpolant!==o.InterpolantFactoryMethodLinear){if(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),(o=o.clone()).setInterpolation(k.NMF)}var u=A.morphTargetInfluences.length,l=A.morphTargetDictionary[s.propertyIndex];if(void 0===l)throw new Error("THREE.GLTFExporter: Morph target name not found: "+s.propertyIndex);var c=void 0;if(void 0!==r[A.uuid]){var h=o.createInterpolant(new o.ValueBufferType(1));c=r[A.uuid];for(var f=0;f<c.times.length;f++)c.values[f*u+l]=h.evaluate(c.times[f]);for(var d=0;d<o.times.length;d++){var g=this.insertKeyframe(c,o.times[d]);c.values[g*u+l]=o.values[d]}}else{for(var p=new((c=o.clone()).ValueBufferType)(u*c.times.length),v=0;v<c.times.length;v++)p[v*u+l]=c.values[v];c.name=(s.nodeName||"")+".morphTargetInfluences",c.values=p,r[A.uuid]=c,n.push(c)}}else n.push(o)}return e.tracks=n,e}};var eh=function(e){return void 0!==e.material&&e.userData&&e.userData.variantMaterials&&!!Array.from(e.userData.variantMaterials.values()).filter((function(e){return th(e.material)}))},th=function(e){return e&&e.isMaterial&&!Array.isArray(e)},nh=function(){function e(t){(0,p.Z)(this,e),this.writer=t,this.name="KHR_materials_variants",this.variantNames=[]}return(0,v.Z)(e,[{key:"beforeParse",value:function(e){var t,n=this,r=new Set,i=Xc(e);try{for(i.s();!(t=i.n()).done;){t.value.traverse((function(e){if(eh(e)){var t,n=e.userData.variantMaterials,i=Xc(e.userData.variantData);try{for(i.s();!(t=i.n()).done;){var a=(0,te.Z)(t.value,2),o=a[0],s=a[1],A=n.get(s.index);th(A.material)&&r.add(o)}}catch(u){i.e(u)}finally{i.f()}}}))}}catch(a){i.e(a)}finally{i.f()}r.forEach((function(e){return n.variantNames.push(e)}))}},{key:"writeMesh",value:function(e,t){if(eh(e)){var n,r=e.userData,i=r.variantMaterials,a=r.variantData,o=new Map,s=new Map,A=Array.from(a.values()).sort((function(e,t){return e.index-t.index})),u=Xc(A.entries());try{for(u.s();!(n=u.n()).done;){var l=(0,te.Z)(n.value,2),c=l[0],h=l[1];s.set(h.index,c)}}catch(w){u.e(w)}finally{u.f()}var f,d=Xc(a.values());try{for(d.s();!(f=d.n()).done;){var g=f.value,p=i.get(g.index).material;if(th(p)){var v=this.writer.processMaterial(p);o.has(v)||o.set(v,{material:v,variants:[]}),o.get(v).variants.push(s.get(g.index))}}}catch(w){d.e(w)}finally{d.f()}var m=Array.from(o.values()).map((function(e){return e.variants.sort((function(e,t){return e-t}))&&e})).sort((function(e,t){return e.material-t.material}));if(0!==m.length){var y,I=th(r.originalMaterial)?this.writer.processMaterial(r.originalMaterial):-1,E=Xc(t.primitives);try{for(E.s();!(y=E.n()).done;){var C=y.value;I>=0&&(C.material=I),C.extensions=C.extensions||{},C.extensions[this.name]={mappings:m}}}catch(w){E.e(w)}finally{E.f()}}}}},{key:"afterParse",value:function(){if(0!==this.variantNames.length){var e=this.writer.json;e.extensions=e.extensions||{};var t=this.variantNames.map((function(e){return{name:e}}));e.extensions[this.name]={variants:t},this.writer.extensionsUsed[this.name]=!0}}}]),e}(),rh=Symbol("correlatedObjects"),ih=Symbol("sourceObject"),ah=Symbol("onUpdate"),oh=(0,v.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,p.Z)(this,e),this[ah]=t,this[ih]=n,this[rh]=r}));function sh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var Ah,uh,lh=new k.vBJ,ch=new k._12(2,2),hh=0,fh=Symbol("threeTexture"),dh=(Symbol("applyTexture"),function(e){(0,y.Z)(r,e);var t,n=sh(r);function r(e,t,i){return(0,p.Z)(this,r),i=null!=i?i:{name:t&&t.image&&t.image.src?t.image.src.split("/").pop():"adhoc_image",uri:t&&t.image&&t.image.src?t.image.src:"adhoc_image"+hh++},n.call(this,e,i,new Set(t?[t]:[]))}return(0,v.Z)(r,[{key:fh,get:function(){var e;return console.assert(null!=this[rh]&&this[rh].size>0,"Image correlated object is undefined"),null===(e=this[rh])||void 0===e?void 0:e.values().next().value}},{key:"name",get:function(){return this[ih].name||""}},{key:"uri",get:function(){return this[ih].uri}},{key:"bufferView",get:function(){return this[ih].bufferView}},{key:"type",get:function(){return null!=this.uri?"external":"embedded"}},{key:"name",set:function(e){this[ih].name=e}},{key:"createThumbnail",value:(t=(0,R.Z)(S().mark((function e(t,n){var r,i,a,o,s,A,u,l;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new k.xsS,lh.map=this[fh],i=new k.Kj0(ch,lh),r.add(i),a=new k.iKG(-1,1,1,-1,0,1),o=Wa.singleton.threeRenderer,s=new k.dd2(t,n),o.setRenderTarget(s),o.render(r,a),o.setRenderTarget(null),A=new Uint8Array(t*n*4),o.readRenderTargetPixels(s,0,0,t,n,A),Eo.width=t,Eo.height=n,u=Eo.getContext("2d"),(l=u.createImageData(t,n)).data.set(A),u.putImageData(l,0,0),e.abrupt("return",new Promise(function(){var e=(0,R.Z)(S().mark((function e(t,n){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Eo.toBlob((function(e){if(!e)return n("Failed to capture thumbnail.");t(URL.createObjectURL(e))}),"image/png");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 19:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(oh));function gh(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ph(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ph(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ph(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}!function(e){e[e.Nearest=9728]="Nearest",e[e.Linear=9729]="Linear",e[e.NearestMipmapNearest=9984]="NearestMipmapNearest",e[e.LinearMipmapNearest=9985]="LinearMipmapNearest",e[e.NearestMipmapLinear=9986]="NearestMipmapLinear",e[e.LinearMipmapLinear=9987]="LinearMipmapLinear"}(Ah||(Ah={})),function(e){e[e.ClampToEdge=33071]="ClampToEdge",e[e.MirroredRepeat=33648]="MirroredRepeat",e[e.Repeat=10497]="Repeat"}(uh||(uh={}));var mh,yh,Ih,Eh=(mh=[Ah.Nearest,Ah.Linear,Ah.NearestMipmapNearest,Ah.LinearMipmapLinear,Ah.NearestMipmapLinear,Ah.LinearMipmapLinear],function(e){return mh.indexOf(e)>-1}),Ch=(yh=[Ah.Nearest,Ah.Linear],function(e){return yh.indexOf(e)>-1}),wh=(Ih=[uh.ClampToEdge,uh.MirroredRepeat,uh.Repeat],function(e){return Ih.indexOf(e)>-1}),Bh=Symbol("threeTextures"),bh=Symbol("setProperty"),Qh=Symbol("sourceSampler"),xh=function(e){(0,y.Z)(n,e);var t=vh(n);function n(e,r,i){return(0,p.Z)(this,n),null==(i=null!=i?i:{}).minFilter&&(i.minFilter=r?r.minFilter:Ah.LinearMipmapLinear),null==i.magFilter&&(i.magFilter=r?r.magFilter:Ah.Linear),null==i.wrapS&&(i.wrapS=r?r.wrapS:uh.Repeat),null==i.wrapT&&(i.wrapT=r?r.wrapT:uh.Repeat),t.call(this,e,i,new Set(r?[r]:[]))}return(0,v.Z)(n,[{key:Bh,get:function(){return console.assert(null!=this[rh]&&this[rh].size>0,"Sampler correlated object is undefined"),this[rh]}},{key:Qh,get:function(){return console.assert(null!=this[ih],"Sampler source is undefined"),this[ih]}},{key:"name",get:function(){return this[ih].name||""}},{key:"minFilter",get:function(){return this[Qh].minFilter}},{key:"magFilter",get:function(){return this[Qh].magFilter}},{key:"wrapS",get:function(){return this[Qh].wrapS}},{key:"wrapT",get:function(){return this[Qh].wrapT}},{key:"setMinFilter",value:function(e){this[bh]("minFilter",e)}},{key:"setMagFilter",value:function(e){this[bh]("magFilter",e)}},{key:"setWrapS",value:function(e){this[bh]("wrapS",e)}},{key:"setWrapT",value:function(e){this[bh]("wrapT",e)}},{key:bh,value:function(e,t){var n=this[Qh];if(null!=n){if(function(e,t){switch(e){case"minFilter":return Eh(t);case"magFilter":return Ch(t);case"wrapS":case"wrapT":return wh(t);default:throw new Error('Cannot configure property "'.concat(e,'" on Sampler'))}}(e,t)){n[e]=t;var r,i=gh(this[Bh]);try{for(i.s();!(r=i.n()).done;){var a=r.value;a[e]=t,a.needsUpdate=!0}}catch(o){i.e(o)}finally{i.f()}}this[ah]()}}}]),n}(oh);function Sh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var kh,Rh,Mh=Symbol("image"),Dh=Symbol("sampler"),Th=function(e){(0,y.Z)(n,e);var t=Sh(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return(0,p.Z)(this,n),(i=t.call(this,e,a||{},new Set(r?[r]:[])))[Dh]=new xh(e,r,o),i[Mh]=new dh(e,r,s),i}return(0,v.Z)(n,[{key:"name",get:function(){return this[ih].name||""},set:function(e){this[ih].name=e}},{key:"sampler",get:function(){return this[Dh]}},{key:"source",get:function(){return this[Mh]}}]),n}(oh);function Lh(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Fh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fh(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Fh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _h,Uh=Symbol("texture"),Oh=Symbol("transform"),Ph=Symbol("materials"),Gh=Symbol("usage");!function(e){e[e.Base=0]="Base",e[e.MetallicRoughness=1]="MetallicRoughness",e[e.Normal=2]="Normal",e[e.Occlusion=3]="Occlusion",e[e.Emissive=4]="Emissive"}(_h||(_h={}));var Nh=function(){function e(t,n,r,i,a,o){if((0,p.Z)(this,e),this[kh]=null,this[Rh]={rotation:0,scale:new k.FM8(1,1),offset:new k.FM8(0,0)},o&&r){var s=a.textures?a.textures[o.index]:null,A=s&&a.samplers?a.samplers[s.sampler]:null,u=s&&a.images?a.images[s.source]:null;this[Oh].rotation=r.rotation,this[Oh].scale.copy(r.repeat),this[Oh].offset.copy(r.offset),this[Uh]=new Th(t,r,s,A,u)}this.onUpdate=t,this[Ph]=i,this[Gh]=n}return(0,v.Z)(e,[{key:"texture",get:function(){return this[Uh]}},{key:"setTexture",value:function(e){var t=null!=e?e.source[fh]:null,n=k.knz;if(this[Uh]=e,this[Ph]){var r,i=Lh(this[Ph]);try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(this[Gh]){case _h.Base:a.map=t;break;case _h.MetallicRoughness:n=k.rnI,a.metalnessMap=t,a.roughnessMap=t;break;case _h.Normal:n=k.rnI,a.normalMap=t;break;case _h.Occlusion:n=k.rnI,a.aoMap=t;break;case _h.Emissive:a.emissiveMap=t}a.needsUpdate=!0}}catch(o){i.e(o)}finally{i.f()}}t&&(t.encoding=n,t.rotation=this[Oh].rotation,t.repeat=this[Oh].scale,t.offset=this[Oh].offset),this.onUpdate()}}]),e}();function Zh(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Hh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hh(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Hh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}kh=Uh,Rh=Oh;var qh,Kh=Symbol("threeMaterials"),Jh=Symbol("baseColorTexture"),Vh=Symbol("metallicRoughnessTexture"),zh=function(e){(0,y.Z)(n,e);var t=jh(n);function n(e,r,i,a){var o;(0,p.Z)(this,n),o=t.call(this,e,i,a),null==i.baseColorFactor&&(i.baseColorFactor=[1,1,1,1]),null==i.roughnessFactor&&(i.roughnessFactor=1),null==i.metallicFactor&&(i.metallicFactor=1);var s=i.baseColorTexture,A=i.metallicRoughnessTexture,u=a.values().next().value,l=u.map,c=u.metalnessMap;return o[Jh]=new Nh(e,_h.Base,l,a,r,s||null),o[Vh]=new Nh(e,_h.MetallicRoughness,c,a,r,A||null),o}return(0,v.Z)(n,[{key:Kh,get:function(){return this[rh]}},{key:"baseColorFactor",get:function(){return this[ih].baseColorFactor}},{key:"metallicFactor",get:function(){return this[ih].metallicFactor}},{key:"roughnessFactor",get:function(){return this[ih].roughnessFactor}},{key:"baseColorTexture",get:function(){return this[Jh]}},{key:"metallicRoughnessTexture",get:function(){return this[Vh]}},{key:"setBaseColorFactor",value:function(e){var t,n=Zh(this[Kh]);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.color.fromArray(e),r.opacity=e[3]}}catch(i){n.e(i)}finally{n.f()}this[ih].baseColorFactor=e,this[ah]()}},{key:"setMetallicFactor",value:function(e){var t,n=Zh(this[Kh]);try{for(n.s();!(t=n.n()).done;){t.value.metalness=e}}catch(r){n.e(r)}finally{n.f()}this[ih].metallicFactor=e,this[ah]()}},{key:"setRoughnessFactor",value:function(e){var t,n=Zh(this[Kh]);try{for(n.s();!(t=n.n()).done;){t.value.roughness=e}}catch(r){n.e(r)}finally{n.f()}this[ih].roughnessFactor=e,this[ah]()}}]),n}(oh);function Yh(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Wh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wh(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Wh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var $h,ef,tf,nf=Symbol("pbrMetallicRoughness"),rf=Symbol("normalTexture"),af=Symbol("occlusionTexture"),of=Symbol("emissiveTexture"),sf=Symbol("backingThreeMaterial"),Af=Symbol("applyAlphaCutoff"),uf=Symbol("lazyLoadGLTFInfo"),lf=Symbol("initialize"),cf=Symbol("getLoadedMaterial"),hf=Symbol("ensureMaterialIsLoaded"),ff=Symbol("gltfIndex"),df=Symbol("setActive"),gf=Symbol("variantIndices"),pf=Symbol("isActive"),vf=Symbol("variantSet"),mf=Symbol("modelVariants"),yf=function(e,t){(0,y.Z)(a,e);var n,r,i=Xh(a);function a(e,t,n,r,o,s,A){var u,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;return(0,p.Z)(this,a),(u=i.call(this,e,n,A))[qh]=new Set,u[ff]=r,u[pf]=o,u[mf]=s,null==l?u[lf](t):u[uf]=l,u}return(0,v.Z)(a,[{key:t,get:function(){return this[rh].values().next().value}},{key:lf,value:function(e){var t=this[ah],n=this[ih],r=this[rh];n.extensions&&n.extensions.KHR_materials_pbrSpecularGlossiness&&console.warn("Material ".concat(n.name,' uses a deprecated extension\n          "KHR_materials_pbrSpecularGlossiness", please use\n          "pbrMetallicRoughness" instead. Specular Glossiness materials are\n          currently supported for rendering, but not for our scene-graph API,\n          nor for auto-generation of USDZ for Quick Look.')),null==n.pbrMetallicRoughness&&(n.pbrMetallicRoughness={}),this[nf]=new zh(t,e,n.pbrMetallicRoughness,r),null==n.emissiveFactor&&(n.emissiveFactor=[0,0,0]),null==n.doubleSided&&(n.doubleSided=!1),null==n.alphaMode&&(n.alphaMode="OPAQUE"),null==n.alphaCutoff&&(n.alphaCutoff=.5);var i=n.normalTexture,a=n.occlusionTexture,o=n.emissiveTexture,s=r.values().next().value,A=s.normalMap,u=s.aoMap,l=s.emissiveMap;this[rf]=new Nh(t,_h.Normal,A,r,e,i||null),this[af]=new Nh(t,_h.Occlusion,u,r,e,a||null),this[of]=new Nh(t,_h.Emissive,l,r,e,o||null)}},{key:cf,value:(r=(0,R.Z)(S().mark((function e(){var t,n,r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this[uf]){e.next=11;break}return e.next=3,this[uf].doLazyLoad();case 3:return t=e.sent,n=t.set,r=t.material,this[rh]=n,this[lf](this[uf].gltf),this[uf]=void 0,this.ensureLoaded=(0,R.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),e.abrupt("return",r);case 11:return e.abrupt("return",this[rh].values().next().value);case 12:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:hf,value:function(){if(null!=this[uf])throw new Error('Material "'.concat(this.name,"\" has not been loaded, call 'await\n    myMaterial.ensureLoaded()' before using an unloaded material."))}},{key:"ensureLoaded",value:(n=(0,R.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this[cf]();case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"isLoaded",get:function(){return null==this[uf]}},{key:"isActive",get:function(){return this[pf]}},{key:df,value:function(e){this[pf]=e}},{key:"name",get:function(){return this[ih].name}},{key:"name",set:function(e){var t=this[ih];if(null!=t&&(t.name=e),null!=this[rh]){var n,r=Yh(this[rh]);try{for(r.s();!(n=r.n()).done;){n.value.name=e}}catch(i){r.e(i)}finally{r.f()}}}},{key:"pbrMetallicRoughness",get:function(){return this[hf](),this[nf]}},{key:"normalTexture",get:function(){return this[hf](),this[rf]}},{key:"occlusionTexture",get:function(){return this[hf](),this[af]}},{key:"emissiveTexture",get:function(){return this[hf](),this[of]}},{key:"emissiveFactor",get:function(){return this[hf](),this[ih].emissiveFactor}},{key:"index",get:function(){return this[ff]}},{key:gf,value:function(){return this[vf]}},{key:"hasVariant",value:function(e){var t=this[mf].get(e);return null!=t&&this[vf].has(t.index)}},{key:"setEmissiveFactor",value:function(e){this[hf]();var t,n=Yh(this[rh]);try{for(n.s();!(t=n.n()).done;){t.value.emissive.fromArray(e)}}catch(r){n.e(r)}finally{n.f()}this[ih].emissiveFactor=e,this[ah]()}},{key:Af,value:function(){this[hf]();var e,t=this[ih],n=Yh(this[rh]);try{for(n.s();!(e=n.n()).done;){var r=e.value;"MASK"===this[ih].alphaMode?r.alphaTest=t.alphaCutoff:r.alphaTest=void 0,r.needsUpdate=!0}}catch(i){n.e(i)}finally{n.f()}}},{key:"setAlphaCutoff",value:function(e){this[hf](),this[ih].alphaCutoff=e,this[Af](),this[ah]()}},{key:"getAlphaCutoff",value:function(){return this[hf](),this[ih].alphaCutoff}},{key:"setDoubleSided",value:function(e){this[hf]();var t,n=Yh(this[rh]);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.side=e?k.ehD:k.Wl3,r.needsUpdate=!0}}catch(i){n.e(i)}finally{n.f()}this[ih].doubleSided=e,this[ah]()}},{key:"getDoubleSided",value:function(){return this[hf](),this[ih].doubleSided}},{key:"setAlphaMode",value:function(e){this[hf]();var t=function(e,t){e.transparent=t,e.depthWrite=!t};this[ih].alphaMode=e;var n,r=Yh(this[rh]);try{for(r.s();!(n=r.n()).done;){var i=n.value;t(i,"BLEND"===e),this[Af](),i.needsUpdate=!0}}catch(a){r.e(a)}finally{r.f()}this[ah]()}},{key:"getAlphaMode",value:function(){return this[hf](),this[ih].alphaMode}}]),a}(oh,(qh=vf,sf));function If(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ef(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ef(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var wf=Symbol("materials"),Bf=Symbol("variantToMaterialMap"),bf=Symbol("modelVariants"),Qf=Symbol("mesh"),xf=(Symbol("primitives"),Symbol("loadVariant"),Symbol("prepareVariantsForExport"),Symbol("switchVariant"),Symbol("children")),Sf=Symbol("initialMaterialIdx"),kf=Symbol("activeMaterialIdx"),Rf=(0,v.Z)((function e(t){(0,p.Z)(this,e),this.name="",this[$h]=new Array,this.name=t}));$h=xf;var Mf,Df,Tf,Lf,Ff,_f,Uf=function(e){(0,y.Z)(o,e);var t,n,r,i,a=Cf(o);function o(e,t,n,r){var i;(0,p.Z)(this,o),(i=a.call(this,e.name))[ef]=new Map,i[tf]=new Map,i[Qf]=e;var s=r.gltf,A=r.threeGLTF,u=r.threeObjectMap;i[bf]=n,i.mesh.userData.variantData=n;var l=u.get(e.material);null!=l.materials?i[Sf]=i[kf]=l.materials:console.error("Primitive (".concat(e.name,") missing initial material reference."));var c=e.userData.associations||{};if(null==c.meshes)return console.error("Mesh is missing primitive index association"),(0,I.Z)(i);var h=((s.meshes||[])[c.meshes].primitives||[])[c.primitives];if(null==h)return console.error("Mesh primitive definition is missing."),(0,I.Z)(i);if(null!=h.material)i[wf].set(h.material,t[h.material]);else{var f=t.findIndex((function(e){return"Default"===e.name}));f>=0?i[wf].set(f,t[f]):console.warn("gltfPrimitive has no material!")}if(h.extensions&&h.extensions.KHR_materials_variants){var d,g=h.extensions.KHR_materials_variants,v=A.parser.json.extensions.KHR_materials_variants.variants,m=If(g.mappings);try{for(m.s();!(d=m.n()).done;){var y=d.value,E=t[y.material];i[wf].set(y.material,E);var C,w=If(y.variants);try{for(w.s();!(C=w.n()).done;){var B=C.value,b=v[B].name;i[Bf].set(B,E),E[gf]().add(B),n.has(b)||n.set(b,{name:b,index:B})}}catch(Q){w.e(Q)}finally{w.f()}}}catch(Q){m.e(Q)}finally{m.f()}}return i}return(0,v.Z)(o,[{key:"mesh",get:function(){return this[Qf]}},{key:"setActiveMaterial",value:(i=(0,R.Z)(S().mark((function e(t){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(n=this[wf].get(t))){e.next=6;break}return e.next=4,n[cf]();case 4:this.mesh.material=e.sent,this[kf]=t;case 6:return e.abrupt("return",this.mesh.material);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getActiveMaterial",value:function(){return this[wf].get(this[kf])}},{key:"getMaterial",value:function(e){return this[wf].get(e)}},{key:"enableVariant",value:(r=(0,R.Z)(S().mark((function e(t){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",this.setActiveMaterial(this[Sf]));case 2:if(null==this[Bf]||!this[bf].has(t)){e.next=5;break}return n=this[bf].get(t),e.abrupt("return",this.enableVariantHelper(n.index));case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"enableVariantHelper",value:(n=(0,R.Z)(S().mark((function e(t){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this[Bf]||null==t){e.next=4;break}if(null==(n=this[Bf].get(t))){e.next=4;break}return e.abrupt("return",this.setActiveMaterial(n.index));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"instantiateVariants",value:(t=(0,R.Z)(S().mark((function e(){var t,n,r,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this[Bf]){e.next=2;break}return e.abrupt("return");case 2:t=If(this[Bf].keys()),e.prev=3,t.s();case 5:if((n=t.n()).done){e.next=15;break}if(r=n.value,null==this.mesh.userData.variantMaterials.get(r).material){e.next=9;break}return e.abrupt("continue",13);case 9:return e.next=11,this.enableVariantHelper(r);case 11:null!=(i=e.sent)&&(this.mesh.userData.variantMaterials.get(r).material=i);case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),t.e(e.t0);case 20:return e.prev=20,t.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[3,17,20,23]])}))),function(){return t.apply(this,arguments)})},{key:"variantInfo",get:function(){return this[Bf]}},{key:"addVariant",value:function(e,t){if(!this.ensureVariantIsUnused(t))return!1;this[bf].has(t)||this[bf].set(t,{name:t,index:this[bf].size});var n=this[bf].get(t).index;return e[gf]().add(n),this[Bf].set(n,e),this[wf].set(e.index,e),this.updateVariantUserData(n,e),!0}},{key:"deleteVariant",value:function(e){if(this.variantInfo.has(e)){this.variantInfo.delete(e);var t=this.mesh.userData.variantMaterials;null!=t&&t.delete(e)}}},{key:"updateVariantUserData",value:function(e,t){t[gf]().add(e),this.mesh.userData.variantData=this[bf],this.mesh.userData.variantMaterials=this.mesh.userData.variantMaterials||new Map,this.mesh.userData.variantMaterials.set(e,{material:t[rh].values().next().value,gltfMaterialIndex:t.index})}},{key:"ensureVariantIsUnused",value:function(e){var t=this[bf].get(e);return null==t||!this.variantInfo.has(t.index)||(console.warn("Primitive cannot add variant '".concat(e,"' for this material, it already exists.")),!1)}}]),o}(Rf);function Of(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Pf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pf(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Pf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ef=wf,tf=Bf;var Gf=Symbol("materials"),Nf=Symbol("hierarchy"),Zf=Symbol("roots"),Hf=Symbol("primitives"),jf=(Symbol("loadVariant"),Symbol("correlatedSceneGraph")),qf=Symbol("prepareVariantsForExport"),Kf=Symbol("switchVariant"),Jf=Symbol("threeScene"),Vf=Symbol("materialsFromPoint"),zf=Symbol("materialFromPoint"),Yf=Symbol("variantData"),Wf=Symbol("availableVariants"),Xf=Symbol("modelOnUpdate"),$f=Symbol("cloneMaterial"),ed=(0,v.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.gltf=t,this.gltfElementMap=n,this.mapKey=r,this.doLazyLoad=i})),td=function(e){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};(0,p.Z)(this,t),this[Mf]=new Array,this[Df]=new Array,this[Tf]=new Array,this[Lf]=new Array,this[Ff]=function(){},this[_f]=new Map,this[Xf]=r,this[jf]=e;var i=e.gltf,a=e.threeGLTF,o=e.gltfElementMap;this[Jf]=a.scene;var s,A=Of(i.materials.entries());try{for(A.s();!(s=A.n()).done;){var u=(0,te.Z)(s.value,2),l=u[0],c=u[1],h=o.get(c);null!=h?this[Gf].push(new yf(r,i,c,l,!0,this[Yf],h)):function(){var e=(i.materials||[])[l],t=l,s=function(){var n=(0,R.Z)(S().mark((function n(){var r,i;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.parser.getDependency("material",t);case 2:return r=n.sent,i=new Set,o.set(e,i),i.add(r),n.abrupt("return",{set:i,material:r});case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n[Gf].push(new yf(r,i,e,l,!1,n[Yf],h,new ed(i,o,e,s)))}()}}catch(b){A.e(b)}finally{A.f()}var f,d=new Map,g=new Array,v=Of(a.scene.children);try{for(v.s();!(f=v.n()).done;){var m=f.value;g.push(m)}}catch(b){v.e(b)}finally{v.f()}for(;g.length>0;){var y=g.pop(),I=null;y instanceof k.Kj0?(I=new Uf(y,this.materials,this[Yf],e),this[Hf].push(I)):I=new Rf(y.name);var E=d.get(y);null!=E?E[xf].push(I):this[Zf].push(I),this[Nf].push(I);var C,w=Of(y.children);try{for(w.s();!(C=w.n()).done;){var B=C.value;g.push(B),d.set(y,I)}}catch(b){w.e(b)}finally{w.f()}}}var n,r;return(0,v.Z)(t,[{key:"materials",get:function(){return this[Gf]}},{key:e,value:function(){var e=Array.from(this[Yf].values());return e.sort((function(e,t){return e.index-t.index})),e.map((function(e){return e.name}))}},{key:"getMaterialByName",value:function(e){var t=this[Gf].filter((function(t){return t.name===e}));return t.length>0?t[0]:null}},{key:Vf,value:function(e){var t=this;return e.intersectObject(this[Jf],!0).map((function(e){var n=t[Nf].find((function(t){if(t instanceof Uf&&t.mesh===e.object)return!0;return!1}));return null!=n?n.getActiveMaterial():null}))}},{key:zf,value:function(e){var t=this[Vf](e);return t.length>0?t[0]:null}},{key:Kf,value:(r=(0,R.Z)(S().mark((function e(t){var n,r,i,a,o,s,A,u;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Of(this[Hf]),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i.enableVariant(t);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:a=Of(this.materials);try{for(a.s();!(o=a.n()).done;)o.value[df](!1)}catch(l){a.e(l)}finally{a.f()}s=Of(this[Hf]);try{for(s.s();!(A=s.n()).done;)u=A.value,this.materials[u.getActiveMaterial().index][df](!0)}catch(l){s.e(l)}finally{s.f()}case 21:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))),function(e){return r.apply(this,arguments)})},{key:qf,value:(n=(0,R.Z)(S().mark((function e(){var t,n,r,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Array,n=Of(this[Hf]);try{for(n.s();!(r=n.n()).done;)i=r.value,t.push(i.instantiateVariants())}catch(a){n.e(a)}finally{n.f()}return e.next=5,Promise.all(t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:$f,value:function(e,t){var n=this.materials[e];n.isLoaded||console.error("Cloning an unloaded material,\n           call 'material.ensureLoaded() before cloning the material.");var r=n[rh],i=JSON.parse(JSON.stringify(n[ih]));i.name=t,this[jf].gltf.materials.push(i);var a,o=new Set,s=Of(r.entries());try{for(s.s();!(a=s.n()).done;){var A=(0,te.Z)(a.value,2),u=A[0],l=A[1].clone();l.name=t+(r.size>1?"_inst"+u:""),o.add(l)}}catch(h){s.e(h)}finally{s.f()}var c=new yf(this[Xf],this[jf].gltf,i,this[Gf].length,!1,this[Yf],o);return this[Gf].push(c),c}},{key:"createMaterialInstanceForVariant",value:function(e,t,n){var r,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=null,o=Of(this[Hf]);try{for(o.s();!(r=o.n()).done;){var s=r.value,A=this[Yf].get(n);null!=A&&s.variantInfo.has(A.index)||null!=s.getMaterial(e)&&(this.hasVariant(n)||this.createVariant(n),null==a&&(a=this[$f](e,t)),s.addVariant(a,n))}}catch(h){o.e(h)}finally{o.f()}if(i&&null!=a){a[df](!0),this.materials[e][df](!1);var u,l=Of(this[Hf]);try{for(l.s();!(u=l.n()).done;){var c=u.value;c.enableVariant(n)}}catch(h){l.e(h)}finally{l.f()}}return a}},{key:"createVariant",value:function(e){this[Yf].has(e)?console.warn("Variant '".concat(e,"'' already exists")):this[Yf].set(e,{name:e,index:this[Yf].size})}},{key:"hasVariant",value:function(e){return this[Yf].has(e)}},{key:"setMaterialToVariant",value:function(e,t){if(null!=this[Wf]().find((function(e){return e===t})))if(e<0||e>=this.materials.length)console.error("setMaterialToVariant(): materialIndex is out of bounds.");else{var n,r=Of(this[Hf]);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.getMaterial(e);null!=a&&i.addVariant(a,t)}}catch(o){r.e(o)}finally{r.f()}}else console.warn("Can't add material to '".concat(t,"', the variant does not exist.'"))}},{key:"updateVariantName",value:function(e,t){var n=this[Yf].get(e);null!=n&&(n.name=t,this[Yf].set(t,n),this[Yf].delete(e))}},{key:"deleteVariant",value:function(e){var t=this[Yf].get(e);if(null!=t){var n,r=Of(this.materials);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.hasVariant(e)&&i[vf].delete(t.index)}}catch(s){r.e(s)}finally{r.f()}var a,o=Of(this[Hf]);try{for(o.s();!(a=o.n()).done;){a.value.deleteVariant(t.index)}}catch(s){o.e(s)}finally{o.f()}this[Yf].delete(e)}}}]),t}((Mf=Gf,Df=Nf,Tf=Zf,Lf=Hf,Ff=Xf,_f=Yf,Wf));function nd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var rd=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},id=Symbol("currentGLTF"),ad=Symbol("model"),od=Symbol("getOnUpdateMethod"),sd=Symbol("textureLoader"),Ad=Symbol("originalGltfJson");function ud(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var ld=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},cd=Math.PI/32,hd={basis:[mi(Ai(cd,"rad"))],keywords:{auto:[null]}},fd=Symbol("autoRotateStartTime"),dd=Symbol("radiansPerSecond"),gd=Symbol("syncRotationRate"),pd=Symbol("onCameraChange");function vd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(rp){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}var md=function(e){var t,n,r,i=function(e,i){(0,y.Z)(o,e);var a=us(o);function o(){var e;return(0,p.Z)(this,o),(e=a.apply(this,arguments))[t]=new Map,e[n]=function(t){t.forEach((function(t){t instanceof MutationRecord&&"childList"!==t.type||(t.addedNodes.forEach((function(t){e[fs](t)})),t.removedNodes.forEach((function(t){e[ds](t)})),e[Ko]())}))},e[r]=new MutationObserver(e[cs]),e}return(0,v.Z)(o,[{key:"connectedCallback",value:function(){(0,m.Z)((0,E.Z)(o.prototype),"connectedCallback",this).call(this);for(var e=0;e<this.children.length;++e)this[fs](this.children[e]);var t=self.ShadyDOM;null==t?this[hs].observe(this,{childList:!0}):this[hs]=t.observeChildren(this,this[cs])}},{key:"disconnectedCallback",value:function(){(0,m.Z)((0,E.Z)(o.prototype),"disconnectedCallback",this).call(this);var e=self.ShadyDOM;null==e?this[hs].disconnect():e.unobserveChildren(this[hs])}},{key:i,value:function(e,t){(0,m.Z)((0,E.Z)(o.prototype),Jo,this).call(this,e,t);var n=this[qo],r=n.annotationRenderer,i=n.getCamera();n.shouldRender()&&(n.updateHotspots(i.position),r.domElement.style.display="",r.render(n,i))}},{key:"updateHotspot",value:function(e){var t=this[ls].get(e.name);null!=t&&(t.updatePosition(e.position),t.updateNormal(e.normal),this[Ko]())}},{key:"positionAndNormalFromPoint",value:function(e,t){var n=this[qo],r=n.getNDC(e,t),i=n.positionAndNormalFromPoint(r);if(null==i)return null;gs.copy(n.target.matrixWorld).invert();var a=ts(i.position.applyMatrix4(gs));ps.getNormalMatrix(gs);var o=ts(i.normal.applyNormalMatrix(ps)),s=null;return null!=i.uv&&(s=function(e){return{u:e.x,v:e.y,toString:function(){return"".concat(this.u," ").concat(this.v)}}}(i.uv)),{position:a,normal:o,uv:s}}},{key:fs,value:function(e){if(e instanceof HTMLElement&&0===e.slot.indexOf("hotspot")){var t=this[ls].get(e.slot);null!=t?t.increment():(t=new wi({name:e.slot,position:e.dataset.position,normal:e.dataset.normal}),this[ls].set(e.slot,t),this[qo].addHotspot(t)),this[qo].queueRender()}}},{key:ds,value:function(e){if(e instanceof HTMLElement){var t=this[ls].get(e.slot);t&&(t.decrement()&&(this[qo].removeHotspot(t),this[ls].delete(e.slot)),this[qo].queueRender())}}}]),o}(e,(t=ls,n=cs,r=hs,Jo));return i}(function(e){var t,n,r,i,a=function(e,a){(0,y.Z)(l,e);var o,s,A,u=nd(l);function l(){var e;return(0,p.Z)(this,l),(e=u.apply(this,arguments))[t]=void 0,e[n]=null,e[r]=new k.dpR,e[i]=null,e.variantName=null,e.orientation="0 0 0",e.scale="1 1 1",e}return(0,v.Z)(l,[{key:"model",get:function(){return this[ad]}},{key:"availableVariants",get:function(){return this.model?this.model[Wf]():[]}},{key:"originalGltfJson",get:function(){return this[Ad]}},{key:a,value:function(){var e=this;return function(){e[Ko]()}}},{key:"createTexture",value:(A=(0,R.Z)(S().mark((function e(t){var n,r,i,a=this,o=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"image/png",r=this[id],e.next=4,new Promise((function(e){return a[sd].load(t,e)}));case 4:if(i=e.sent,r&&i){e.next=7;break}return e.abrupt("return",null);case 7:return i.encoding=k.knz,i.wrapS=k.rpg,i.wrapT=k.rpg,i.flipY=!1,i.userData.mimeType=n,e.abrupt("return",new Th(this[od](),i));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"updated",value:(s=(0,R.Z)(S().mark((function e(t){var n,r,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,m.Z)((0,E.Z)(l.prototype),"updated",this).call(this,t),!t.has("variantName")){e.next=9;break}if(n=this[id],r=this.variantName,null==n){e.next=9;break}return e.next=7,this[ad][Kf](r);case 7:this[Ko](),this.dispatchEvent(new CustomEvent("variant-applied"));case 9:if(!t.has("orientation")&&!t.has("scale")){e.next=18;break}if(this.loaded){e.next=12;break}return e.abrupt("return");case 12:(i=this[qo]).applyTransform(),i.updateBoundingBox(),i.updateShadow(),this[Yo].arRenderer.onUpdateScene(),this[Ko]();case 18:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:Vo,value:function(){(0,m.Z)((0,E.Z)(l.prototype),Vo,this).call(this);var e=this[qo].currentGLTF;if(null!=e){var t=e.correlatedSceneGraph;null!=t&&e!==this[id]&&(this[ad]=new td(t,this[od]()),this[Ad]=JSON.parse(JSON.stringify(t.gltf))),"variants"in e.userData&&this.requestUpdate("variantName")}this[id]=e}},{key:"exportScene",value:(o=(0,R.Z)(S().mark((function e(t){var n,r=this;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this[qo],e.abrupt("return",new Promise(function(){var e=(0,R.Z)(S().mark((function e(i,a){var o,s,A;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={binary:!0,onlyVisible:!0,maxTextureSize:1/0,includeCustomExtensions:!1,forceIndices:!1},Object.assign(o,t),o.animations=n.animations,o.truncateDrawRange=!0,s=n.shadow,A=!1,null!=s&&(A=s.visible,s.visible=!1),e.next=9,r[ad][qf]();case 9:(new pc).register((function(e){return new nh(e)})).parse(n.model,(function(e){return i(new Blob([o.binary?e:JSON.stringify(e)],{type:o.binary?"application/octet-stream":"application/json"}))}),(function(){return a("glTF export failed")}),o),null!=s&&(s.visible=A);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"materialFromPoint",value:function(e,t){var n=this[qo],r=n.getNDC(e,t);return n.raycaster.setFromCamera(r,n.getCamera()),this[ad][zf](n.raycaster)}}]),l}(e,(t=ad,n=id,r=sd,i=Ad,od));return rd([b({type:String,attribute:"variant-name"})],a.prototype,"variantName",void 0),rd([b({type:String,attribute:"orientation"})],a.prototype,"orientation",void 0),rd([b({type:String,attribute:"scale"})],a.prototype,"scale",void 0),a}(function(e){var t,n,r,i=function(e,i){(0,y.Z)(o,e);var a=ud(o);function o(){var e;return(0,p.Z)(this,o),(e=a.apply(this,arguments)).autoRotate=!1,e.autoRotateDelay=3e3,e.rotationPerSecond="auto",e[t]=performance.now(),e[n]=0,e[r]=function(t){e.autoRotate&&"user-interaction"===t.detail.source&&(e[fd]=performance.now())},e}return(0,v.Z)(o,[{key:"connectedCallback",value:function(){(0,m.Z)((0,E.Z)(o.prototype),"connectedCallback",this).call(this),this.addEventListener("camera-change",this[pd]),this[fd]=performance.now()}},{key:"disconnectedCallback",value:function(){(0,m.Z)((0,E.Z)(o.prototype),"disconnectedCallback",this).call(this),this.removeEventListener("camera-change",this[pd]),this[fd]=performance.now()}},{key:"updated",value:function(e){(0,m.Z)((0,E.Z)(o.prototype),"updated",this).call(this,e),e.has("autoRotate")&&(this[fd]=performance.now())}},{key:i,value:function(e){this[dd]=e[0]}},{key:Jo,value:function(e,t){if((0,m.Z)((0,E.Z)(o.prototype),Jo,this).call(this,e,t),this.autoRotate&&this[$o]()&&!this[Yo].isPresenting){var n=Math.min(t,e-this[fd]-this.autoRotateDelay);n>0&&(this[qo].yaw=this.turntableRotation+this[dd]*n*.001)}}},{key:"turntableRotation",get:function(){return this[qo].yaw}},{key:"resetTurntableRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this[qo].yaw=e}}]),o}(e,(t=fd,n=dd,gd));return r=pd,ld([b({type:Boolean,attribute:"auto-rotate"})],i.prototype,"autoRotate",void 0),ld([b({type:Number,attribute:"auto-rotate-delay"})],i.prototype,"autoRotateDelay",void 0),ld([Nu({intrinsics:hd,updateHandler:gd}),b({type:String,attribute:"rotation-per-second"})],i.prototype,"rotationPerSecond",void 0),i}(function(e){var t,n,r,i=function(e,i){(0,y.Z)(s,e);var a,o=Et(s);function s(){var e;return(0,p.Z)(this,s),(e=o.apply(this,arguments)).environmentImage=null,e.skyboxImage=null,e.shadowIntensity=0,e.shadowSoftness=1,e.exposure=1,e[t]=null,e[n]=null,e[r]=null,e}return(0,v.Z)(s,[{key:"updated",value:function(e){(0,m.Z)((0,E.Z)(s.prototype),"updated",this).call(this,e),e.has("shadowIntensity")&&(this[qo].setShadowIntensity(.5*this.shadowIntensity),this[Ko]()),e.has("shadowSoftness")&&(this[qo].setShadowSoftness(this.shadowSoftness),this[Ko]()),e.has("exposure")&&(this[qo].exposure=this.exposure,this[Ko]()),(e.has("environmentImage")||e.has("skyboxImage"))&&this[es]()&&this[Qt]()}},{key:"hasBakedShadow",value:function(){return this[qo].bakedShadows.size>0}},{key:i,value:(a=(0,R.Z)(S().mark((function e(){var t,n,r,i,a,o,s;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.skyboxImage,n=this.environmentImage,null!=this[xt]&&(this[xt](),this[xt]=null),null!=(r=this[Yo].textureUtils)){e.next=5;break}return e.abrupt("return");case 5:return i=this[Wo].beginActivity(),e.prev=6,e.next=9,r.generateEnvironmentMapAndSkybox(ct(t),n,(function(e){return i(pt(e,0,1))}));case 9:a=e.sent,o=a.environmentMap,s=a.skybox,this[Bt]!==o&&(this[Bt]=o,this.dispatchEvent(new CustomEvent("environment-change"))),this[bt]=null!=s?s.name===o.name?o:s:null,this[qo].setEnvironmentAndSkybox(this[Bt],this[bt]),this[qo].dispatchEvent({type:"envmap-update"}),e.next=23;break;case 18:if(e.prev=18,e.t0=e.catch(6),!(e.t0 instanceof Error)){e.next=23;break}throw this[qo].setEnvironmentAndSkybox(null,null),e.t0;case 23:return e.prev=23,i(1),e.finish(23);case 26:case"end":return e.stop()}}),e,this,[[6,18,23,26]])}))),function(){return a.apply(this,arguments)})}]),s}(e,(t=Bt,n=bt,r=xt,Qt));return wt([b({type:String,attribute:"environment-image"})],i.prototype,"environmentImage",void 0),wt([b({type:String,attribute:"skybox-image"})],i.prototype,"skyboxImage",void 0),wt([b({type:Number,attribute:"shadow-intensity"})],i.prototype,"shadowIntensity",void 0),wt([b({type:Number,attribute:"shadow-softness"})],i.prototype,"shadowSoftness",void 0),wt([b({type:Number})],i.prototype,"exposure",void 0),i}(function(e){var t,n,r,i,a,o,s,A,u,l,c,h,f,d,g,I=function(e,I){(0,y.Z)(b,e);var C,w,B=al(b);function b(){var e;return(0,p.Z)(this,b),(e=B.apply(this,arguments)).cameraControls=!1,e.cameraOrbit=hl,e.cameraTarget=fl,e.fieldOfView=dl,e.minCameraOrbit="auto",e.maxCameraOrbit="auto",e.minFieldOfView="auto",e.maxFieldOfView="auto",e.interactionPromptThreshold=3e3,e.interactionPrompt=vl,e.orbitSensitivity=1,e.touchAction=ml,e.disableZoom=!1,e.disablePan=!1,e.disableTap=!1,e.interpolationDecay=50,e[t]=e.shadowRoot.querySelector(".interaction-prompt"),e[n]=e.shadowRoot.querySelector("#prompt"),e[r]=[e.shadowRoot.querySelector("#finger0"),e.shadowRoot.querySelector("#finger1")],e[i]=e.shadowRoot.querySelector(".pan-target"),e[a]=0,e[o]=1/0,e[s]=!1,e[A]=!1,e[u]=new $u(e[qo].camera,e[Ho],e[qo]),e[l]=new k.$V,e[c]=!1,e[h]=!1,e[f]=!1,e[d]=function(t){var n=t.source;e[Fl](),e[Ko](),n===Yu&&(e[Gl]=!0,e[Ll]()),e.dispatchEvent(new CustomEvent("camera-change",{detail:{source:n}}))},e[g]=function(t){"pointer-change-start"===t.type?e[Zo].classList.add("pointer-tumbling"):e[Zo].classList.remove("pointer-tumbling")},e}return(0,v.Z)(b,[{key:"inputSensitivity",get:function(){return this[kl].inputSensitivity},set:function(e){this[kl].inputSensitivity=e}},{key:"getCameraOrbit",value:function(){var e=this[Hl];return{theta:e.theta,phi:e.phi,radius:e.radius,toString:function(){return"".concat(this.theta,"rad ").concat(this.phi,"rad ").concat(this.radius,"m")}}}},{key:"getCameraTarget",value:function(){return ts(this[Yo].isPresenting?this[Yo].arRenderer.target:this[qo].getTarget())}},{key:"getFieldOfView",value:function(){return this[kl].getFieldOfView()}},{key:"getMinimumFieldOfView",value:function(){return this[kl].options.minimumFieldOfView}},{key:"getMaximumFieldOfView",value:function(){return this[kl].options.maximumFieldOfView}},{key:"getIdealAspect",value:function(){return this[qo].idealAspect}},{key:"jumpCameraToGoal",value:function(){this[jl]=!0,this.requestUpdate(jl,!1)}},{key:"resetInteractionPrompt",value:function(){this[Zl]=0,this[Nl]=1/0,this[Gl]=!1,this[Pl]=this.interactionPrompt===vl&&this.cameraControls}},{key:"zoom",value:function(e){var t=new WheelEvent("wheel",{deltaY:-30*e});this[Ho].dispatchEvent(t)}},{key:"connectedCallback",value:function(){(0,m.Z)((0,E.Z)(b.prototype),"connectedCallback",this).call(this),this[kl].addEventListener("change",this[Ul]),this[kl].addEventListener("pointer-change-start",this[Ol]),this[kl].addEventListener("pointer-change-end",this[Ol])}},{key:"disconnectedCallback",value:function(){(0,m.Z)((0,E.Z)(b.prototype),"disconnectedCallback",this).call(this),this[kl].removeEventListener("change",this[Ul]),this[kl].removeEventListener("pointer-change-start",this[Ol]),this[kl].removeEventListener("pointer-change-end",this[Ol])}},{key:"updated",value:function(e){var t=this;(0,m.Z)((0,E.Z)(b.prototype),"updated",this).call(this,e);var n=this[kl],r=this[qo];if(e.has("cameraControls")&&(this.cameraControls?(n.enableInteraction(),this.interactionPrompt===vl&&(this[Pl]=!0)):(n.disableInteraction(),this[Ll]()),this[Ho].setAttribute("aria-label",this[Fo])),e.has("disableZoom")&&(n.disableZoom=this.disableZoom),e.has("disablePan")&&(n.enablePan=!this.disablePan),e.has("disableTap")&&(n.enableTap=!this.disableTap),(e.has("interactionPrompt")||e.has("cameraControls")||e.has("src"))&&(this.interactionPrompt===vl&&this.cameraControls&&!this[Gl]?this[Pl]=!0:this[Ll]()),e.has("touchAction")){var i=this.touchAction;n.applyOptions({touchAction:i}),n.updateTouchActionStyle()}e.has("orbitSensitivity")&&(n.orbitSensitivity=this.orbitSensitivity),e.has("interpolationDecay")&&(n.setDamperDecayTime(this.interpolationDecay),r.setTargetDamperDecayTime(this.interpolationDecay)),!0===this[jl]&&Promise.resolve().then((function(){n.jumpToGoal(),r.jumpToGoal(),t[jl]=!1}))}},{key:"updateFraming",value:(w=(0,R.Z)(S().mark((function e(){var t,n,r,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this[qo],n=t.adjustedFoV(t.framedFoVDeg),e.next=4,t.updateFraming();case 4:return r=t.adjustedFoV(t.framedFoVDeg),i=this[kl].getFieldOfView()/n,this[kl].setFieldOfView(r*i),this[Kl]=!0,this.requestUpdate("maxFieldOfView"),this.requestUpdate("fieldOfView"),this.requestUpdate("minCameraOrbit"),this.requestUpdate("maxCameraOrbit"),this.requestUpdate("cameraOrbit"),e.next=15,this.updateComplete;case 15:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"interact",value:function(e,t,n){var r=this,i=this[Ho],a=this[Tl];if("1"!==a[0].style.opacity){var o=new Array;o.push({x:nl(t.x),y:nl(t.y)});var s=[{x:o[0].x(0),y:o[0].y(0)}];null!=n&&(o.push({x:nl(n.x),y:nl(n.y)}),s.push({x:o[1].x(0),y:o[1].y(0)}));var A=performance.now(),u=this[qo],l=u.width,c=u.height,h=function(e){var t,n=rl(s.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,te.Z)(t.value,2),o=r[0],A=r[1],u=a[o].style;u.transform="translateX(".concat(l*A.x,"px) translateY(").concat(c*A.y,"px)"),"pointerdown"===e?u.opacity="1":"pointerup"===e&&(u.opacity="0");var h={pointerId:o-5678,pointerType:"touch",target:i,clientX:l*A.x,clientY:c*A.y,altKey:!0};i.dispatchEvent(new PointerEvent(e,h))}}catch(f){n.e(f)}finally{n.f()}},f=function(){var e=0;"hidden"===document.visibilityState?e=performance.now()-A:A=performance.now()-e};document.addEventListener("visibilitychange",f),h("pointerdown"),requestAnimationFrame((function t(){var n=r[kl].changeSource;if(n!==Xu){var i,a=rl(r[Tl]);try{for(a.s();!(i=a.n()).done;){i.value.style.opacity="0"}}catch(v){a.e(v)}finally{a.f()}return h("pointercancel"),void r.dispatchEvent(new CustomEvent("interact-stopped",{detail:{source:n}}))}var u,l=Math.min(1,(performance.now()-A)/e),c=rl(s.entries());try{for(c.s();!(u=c.n()).done;){var d=(0,te.Z)(u.value,2),g=d[0],p=d[1];p.x=o[g].x(l),p.y=o[g].y(l)}}catch(v){c.e(v)}finally{c.f()}h("pointermove"),l<1?requestAnimationFrame(t):(h("pointerup"),r.dispatchEvent(new CustomEvent("interact-stopped",{detail:{source:n}})),document.removeEventListener("visibilitychange",f))}))}else console.warn("interact() failed because an existing interaction is running.")}},{key:I,value:function(e){var t=this[qo];t.framedFoVDeg=180*e[0]/Math.PI,this[kl].setFieldOfView(t.adjustedFoV(t.framedFoVDeg))}},{key:Jl,value:function(e){var t=this[kl];if(this[Kl]){var n=this.getCameraOrbit(),r=n.theta,i=n.phi;e[0]=r,e[1]=i,this[Kl]=!1}t.changeSource=Wu,t.setOrbit(e[0],e[1],e[2])}},{key:Yl,value:function(e){this[kl].applyOptions({minimumAzimuthalAngle:e[0],minimumPolarAngle:e[1],minimumRadius:e[2]}),this.jumpCameraToGoal()}},{key:Wl,value:function(e){this[kl].applyOptions({maximumAzimuthalAngle:e[0],maximumPolarAngle:e[1],maximumRadius:e[2]}),this[_l](e[2]),this.jumpCameraToGoal()}},{key:Xl,value:function(e){this[kl].applyOptions({minimumFieldOfView:180*e[0]/Math.PI}),this.jumpCameraToGoal()}},{key:$l,value:function(e){var t=this[qo].adjustedFoV(180*e[0]/Math.PI);this[kl].applyOptions({maximumFieldOfView:t}),this.jumpCameraToGoal()}},{key:zl,value:function(e){var t=(0,te.Z)(e,3),n=t[0],r=t[1],i=t[2];this[Yo].arRenderer.isPresenting||this[qo].setTarget(n,r,i),this[kl].changeSource=Wu,this[Yo].arRenderer.updateTarget()}},{key:Jo,value:function(e,t){if((0,m.Z)((0,E.Z)(b.prototype),Jo,this).call(this,e,t),!this[Yo].isPresenting&&this[$o]()){var n=this[kl],r=this[qo],i=performance.now();if(this[Pl]&&this.loaded&&i>this[Po]+this.interactionPromptThreshold&&(this[Pl]=!1,this[Nl]=i,this[Ml].classList.add("visible")),isFinite(this[Nl])){var a=(i-this[Nl])/5e3%1,o=ll(a),s=cl(a);if(this[Dl].style.opacity="".concat(s),o!==this[Zl]){var A=o*r.width*.05,u=(o-this[Zl])*Math.PI/16;this[Dl].style.transform="translateX(".concat(A,"px)"),n.changeSource=Xu,n.adjustOrbit(u,0,0),this[Zl]=o}}n.update(e,t),r.updateTarget(t)&&this[Ul]({type:"change",source:n.changeSource})}}},{key:Ll,value:function(){this[Pl]=!1,this[Ml].classList.remove("visible"),this[Nl]=1/0}},{key:_l,value:function(e){var t=2*Math.max(this[qo].boundingSphere.radius,e);this[kl].updateNearFar(0,t)}},{key:Fl,value:function(){var e=this[kl].getCameraSpherical(this[Hl]),t=e.theta,n=e.phi,r=(4+Math.floor((t%Sl+xl)/bl))%4,i=Math.floor(n/Ql),a=gl[r],o=pl[i];this[Oo]("View from stage ".concat(o).concat(a))}},{key:Fo,get:function(){return(0,m.Z)((0,E.Z)(b.prototype),Fo,this)+(this.cameraControls?". Use mouse, touch or arrow keys to move.":"")}},{key:zo,value:(C=(0,R.Z)(S().mark((function e(t){var n,r,i,a,o;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this[kl],r=this[qo],i=r.adjustedFoV(r.framedFoVDeg),(0,m.Z)((0,E.Z)(b.prototype),zo,this).call(this,t),a=r.adjustedFoV(r.framedFoVDeg)/i,o=n.getFieldOfView()*(isFinite(a)?a:1),n.updateAspect(this[qo].aspect),this.requestUpdate("maxFieldOfView",this.maxFieldOfView),e.next=10,this.updateComplete;case 10:this[kl].setFieldOfView(o),this.jumpCameraToGoal();case 12:case"end":return e.stop()}}),e,this)}))),function(e){return C.apply(this,arguments)})},{key:Vo,value:function(){(0,m.Z)((0,E.Z)(b.prototype),Vo,this).call(this),this[ql]?this[Kl]=!0:this[ql]=!0,this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this.requestUpdate("fieldOfView",this.fieldOfView),this.requestUpdate("minCameraOrbit",this.minCameraOrbit),this.requestUpdate("maxCameraOrbit",this.maxCameraOrbit),this.requestUpdate("cameraOrbit",this.cameraOrbit),this.requestUpdate("cameraTarget",this.cameraTarget),this.jumpCameraToGoal()}}]),b}(e,(t=Ml,n=Dl,r=Tl,i=Rl,a=Zl,o=Nl,s=Gl,A=Pl,u=kl,l=Hl,c=jl,h=ql,f=Kl,Vl));return d=Ul,g=Ol,ul([b({type:Boolean,attribute:"camera-controls"})],I.prototype,"cameraControls",void 0),ul([Nu({intrinsics:El,observeEffects:!0,updateHandler:Jl}),b({type:String,attribute:"camera-orbit",hasChanged:function(){return!0}})],I.prototype,"cameraOrbit",void 0),ul([Nu({intrinsics:Bl,observeEffects:!0,updateHandler:zl}),b({type:String,attribute:"camera-target",hasChanged:function(){return!0}})],I.prototype,"cameraTarget",void 0),ul([Nu({intrinsics:yl,observeEffects:!0,updateHandler:Vl}),b({type:String,attribute:"field-of-view",hasChanged:function(){return!0}})],I.prototype,"fieldOfView",void 0),ul([Nu({intrinsics:Cl,updateHandler:Yl}),b({type:String,attribute:"min-camera-orbit",hasChanged:function(){return!0}})],I.prototype,"minCameraOrbit",void 0),ul([Nu({intrinsics:wl,updateHandler:Wl}),b({type:String,attribute:"max-camera-orbit",hasChanged:function(){return!0}})],I.prototype,"maxCameraOrbit",void 0),ul([Nu({intrinsics:Il,updateHandler:Xl}),b({type:String,attribute:"min-field-of-view",hasChanged:function(){return!0}})],I.prototype,"minFieldOfView",void 0),ul([Nu({intrinsics:yl,updateHandler:$l}),b({type:String,attribute:"max-field-of-view",hasChanged:function(){return!0}})],I.prototype,"maxFieldOfView",void 0),ul([b({type:Number,attribute:"interaction-prompt-threshold"})],I.prototype,"interactionPromptThreshold",void 0),ul([b({type:String,attribute:"interaction-prompt"})],I.prototype,"interactionPrompt",void 0),ul([b({type:Number,attribute:"orbit-sensitivity"})],I.prototype,"orbitSensitivity",void 0),ul([b({type:String,attribute:"touch-action"})],I.prototype,"touchAction",void 0),ul([b({type:Boolean,attribute:"disable-zoom"})],I.prototype,"disableZoom",void 0),ul([b({type:Boolean,attribute:"disable-pan"})],I.prototype,"disablePan",void 0),ul([b({type:Boolean,attribute:"disable-tap"})],I.prototype,"disableTap",void 0),ul([b({type:Number,attribute:"interpolation-decay"})],I.prototype,"interpolationDecay",void 0),I}(function(e){var t,n,r,i,a,o,s,A,u,l,c=function(e,c){(0,y.Z)(B,e);var h,f,d,g,I,C,w=QA(B);function B(){var e;return(0,p.Z)(this,B),(e=w.apply(this,arguments)).ar=!1,e.arScale="auto",e.arPlacement="floor",e.arModes=_A,e.iosSrc=null,e.xrEnvironment=!1,e[t]=!1,e[n]=e.shadowRoot.querySelector(".ar-button"),e[r]=document.createElement("a"),e[i]=new Set,e[a]=GA,e[o]=!1,e[s]=function(t){t.preventDefault(),e.activateAR()},e[A]=function(t){var n=t.status;n!==Xi&&e[Yo].arRenderer.presentedScene!==e[qo]||(e.setAttribute("ar-status",n),e.dispatchEvent(new CustomEvent("ar-status",{detail:{status:n}})),n===Xi?e.removeAttribute("ar-tracking"):n===$i&&e.setAttribute("ar-tracking",na))},e[u]=function(t){var n=t.status;e.setAttribute("ar-tracking",n),e.dispatchEvent(new CustomEvent("ar-tracking",{detail:{status:n}}))},e[l]=function(t){"_apple_ar_quicklook_button_tapped"==t.data&&e.dispatchEvent(new CustomEvent("quick-look-button-tapped"))},e}return(0,v.Z)(B,[{key:"canActivateAR",get:function(){return this[KA]!==GA}},{key:"connectedCallback",value:function(){(0,m.Z)((0,E.Z)(B.prototype),"connectedCallback",this).call(this),this[Yo].arRenderer.addEventListener("status",this[WA]),this.setAttribute("ar-status",Xi),this[Yo].arRenderer.addEventListener("tracking",this[XA]),this[VA].addEventListener("message",this[$A])}},{key:"disconnectedCallback",value:function(){(0,m.Z)((0,E.Z)(B.prototype),"disconnectedCallback",this).call(this),this[Yo].arRenderer.removeEventListener("status",this[WA]),this[Yo].arRenderer.removeEventListener("tracking",this[XA]),this[VA].removeEventListener("message",this[$A])}},{key:"update",value:function(e){(0,m.Z)((0,E.Z)(B.prototype),"update",this).call(this,e),e.has("arScale")&&(this[qo].canScale="fixed"!==this.arScale),e.has("arPlacement")&&(this[qo].updateShadow(),this[Ko]()),e.has("arModes")&&(this[JA]=FA(this.arModes)),(e.has("ar")||e.has("arModes")||e.has("src")||e.has("iosSrc"))&&this[eu]()}},{key:"activateAR",value:(C=(0,R.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this[KA],e.next=e.t0===UA?3:e.t0===PA?5:e.t0===OA?8:10;break;case 3:return this[jA](),e.abrupt("break",12);case 5:return e.next=7,this[ZA]();case 7:return e.abrupt("break",12);case 8:return this[HA](),e.abrupt("break",12);case 10:return console.warn("No AR Mode can be activated. This is probably due to missing configuration or device capabilities"),e.abrupt("break",12);case 12:case"end":return e.stop()}}),e,this)}))),function(){return C.apply(this,arguments)})},{key:c,value:(I=(0,R.Z)(S().mark((function e(){var t,n,r,i,a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=GA,!this.ar){e.next=33;break}if(null==this.src){e.next=32;break}n=BA(this[JA]),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=24;break}if(i=r.value,e.t0="webxr"===i&&$e&&!DA,!e.t0){e.next=13;break}return e.next=12,this[Yo].arRenderer.supportsPresentation();case 12:e.t0=e.sent;case 13:if(!e.t0){e.next=16;break}return t=PA,e.abrupt("break",24);case 16:if("scene-viewer"!==i||!it||TA){e.next=19;break}return t=OA,e.abrupt("break",24);case 19:if("quick-look"!==i||!ot){e.next=22;break}return t=UA,e.abrupt("break",24);case 22:e.next=6;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(4),n.e(e.t1);case 29:return e.prev=29,n.f(),e.finish(29);case 32:t===GA&&null!=this.iosSrc&&ot&&(t=UA);case 33:t!==GA?(this[NA].classList.add("enabled"),this[NA].addEventListener("click",this[YA])):this[NA].classList.contains("enabled")&&(this[NA].removeEventListener("click",this[YA]),this[NA].classList.remove("enabled"),a=ta,this.setAttribute("ar-status",a),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:a}}))),this[KA]=t;case 35:case"end":return e.stop()}}),e,this,[[4,26,29,32]])}))),function(){return I.apply(this,arguments)})},{key:ZA,value:(g=(0,R.Z)(S().mark((function e(){var t;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Attempting to present in AR with WebXR..."),e.next=3,this[tu]();case 3:return e.prev=3,this[NA].removeEventListener("click",this[YA]),(t=this[Yo].arRenderer).placeOnWall="wall"===this.arPlacement,e.next=9,t.present(this[qo],this.xrEnvironment);case 9:e.next=22;break;case 11:return e.prev=11,e.t0=e.catch(3),console.warn("Error while trying to present in AR with WebXR"),console.error(e.t0),e.next=17,this[Yo].arRenderer.stopPresenting();case 17:return DA=!0,console.warn("Falling back to next ar-mode"),e.next=21,this[eu]();case 21:this.activateAR();case 22:return e.prev=22,this[eu](),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[3,11,22,25]])}))),function(){return g.apply(this,arguments)})},{key:tu,value:(d=(0,R.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loaded){e.next=6;break}return this[zA]=!0,this[Go](),e.next=5,It(this,"load");case 5:this[zA]=!1;case 6:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:es,value:function(){return(0,m.Z)((0,E.Z)(B.prototype),es,this).call(this)||this[zA]}},{key:HA,value:function(){var e=this,t=self.location.toString(),n=new URL(t),r=new URL(this.src,t),i=new URLSearchParams(r.search);if(n.hash=LA,i.set("mode","ar_preferred"),i.has("disable_occlusion")||i.set("disable_occlusion","true"),"fixed"===this.arScale&&i.set("resizable","false"),"wall"===this.arPlacement&&i.set("enable_vertical_placement","true"),i.has("sound")){var a=new URL(i.get("sound"),t);i.set("sound",a.toString())}if(i.has("link")){var o=new URL(i.get("link"),t);i.set("link",o.toString())}var s="intent://arvr.google.com/scene-viewer/1.0?".concat(i.toString()+"&file="+encodeURIComponent(r.toString()),"#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=").concat(encodeURIComponent(n.toString()),";end;");self.addEventListener("hashchange",(function(){self.location.hash===LA&&(TA=!0,self.history.back(),console.warn("Error while trying to present in AR with Scene Viewer"),console.warn("Falling back to next ar-mode"),e[eu]())}),{once:!0}),this[VA].setAttribute("href",s),console.log("Attempting to present in AR with Scene Viewer..."),this[VA].click()}},{key:jA,value:(f=(0,R.Z)(S().mark((function e(){var t,n,r,i,a,o,s,A;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!this.iosSrc,this[NA].classList.remove("enabled"),!t){e.next=8;break}return e.next=5,this.prepareUSDZ();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=this.iosSrc;case 9:n=e.t0,r=new URL(n,self.location.toString()),t&&(i=self.location.toString(),a=new URL(i),(o=new URL(this.src,a)).hash&&(r.hash=o.hash)),"fixed"===this.arScale&&(r.hash&&(r.hash+="&"),r.hash+="allowsContentScaling=0"),(s=this[VA]).setAttribute("rel","ar"),A=document.createElement("img"),s.appendChild(A),s.setAttribute("href",r.toString()),t&&s.setAttribute("download","model.usdz"),console.log("Attempting to present in AR with Quick Look..."),s.click(),s.removeChild(A),t&&URL.revokeObjectURL(n),this[NA].classList.add("enabled");case 24:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"prepareUSDZ",value:(h=(0,R.Z)(S().mark((function e(){var t,n,r,i,a,o,s,A,u;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this[Wo].beginActivity(),e.next=3,this[tu]();case 3:if(n=this[qo],r=n.model,i=n.shadow,null!=r){e.next=6;break}return e.abrupt("return","");case 6:return a=!1,null!=i&&(a=i.visible,i.visible=!1),t(.2),o=new cA,e.next=12,o.parse(r);case 12:return s=e.sent,A=new Blob([s],{type:"model/vnd.usdz+zip"}),u=URL.createObjectURL(A),t(1),null!=i&&(i.visible=a),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})}]),B}(e,(t=qA,n=NA,r=VA,i=JA,a=KA,o=zA,s=YA,A=WA,u=XA,l=$A,eu));return MA([b({type:Boolean,attribute:"ar"})],c.prototype,"ar",void 0),MA([b({type:String,attribute:"ar-scale"})],c.prototype,"arScale",void 0),MA([b({type:String,attribute:"ar-placement"})],c.prototype,"arPlacement",void 0),MA([b({type:String,attribute:"ar-modes"})],c.prototype,"arModes",void 0),MA([b({type:String,attribute:"ios-src"})],c.prototype,"iosSrc",void 0),MA([b({type:Boolean,attribute:"xr-environment"})],c.prototype,"xrEnvironment",void 0),c}(function(e){var t,n,r,i,a,o,s,A,u=function(e,u){(0,y.Z)(h,e);var l,c=ec(h);function h(){var e;(0,p.Z)(this,h);for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];(e=c.call.apply(c,[this].concat(l))).poster=null,e.reveal=ic,e.loading=ac,e[t]=!1,e[n]=!1,e[r]=e.shadowRoot.querySelector(".slot.poster"),e[i]=e.shadowRoot.querySelector("#default-poster"),e[a]=e.shadowRoot.querySelector("#default-progress-bar > .bar"),e[o]=e[uc].getAttribute("aria-label"),e[s]=dt((function(t){var n=e[sc].parentNode;requestAnimationFrame((function(){e[sc].style.transform="scaleX(".concat(t,")"),0===t&&(n.removeChild(e[sc]),n.appendChild(e[sc])),1===t?e[sc].classList.add("hide"):e[sc].classList.remove("hide")}))}),100),e[A]=function(t){var n=t.detail.totalProgress;1===n&&(e[fc].flush(),e.loaded&&(e[lc]||e.reveal===ic)&&e[cc]()),e[fc](n),e.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:n}}))};var d=self.ModelViewerElement||{},g=d.dracoDecoderLocation||nc;Hr.setDRACODecoderLocation(g);var v=d.ktx2TranscoderLocation||rc;return Hr.setKTX2TranscoderLocation(v),d.meshoptDecoderLocation&&Hr.setMeshoptDecoderLocation(d.meshoptDecoderLocation),e}return(0,v.Z)(h,[{key:"dismissPoster",value:function(){this.loaded?this[cc]():(this[lc]=!0,this[Go]())}},{key:"showPoster",value:function(){var e=this[Ac];if(!e.classList.contains("show")){e.classList.add("show"),this[Ho].classList.remove("show");var t=this[uc];t.removeAttribute("tabindex"),t.removeAttribute("aria-hidden");var n=this.modelIsVisible;this[hc]=!1,this[Lo](n)}}},{key:"getDimensions",value:function(){return ts(this[qo].size)}},{key:"getBoundingBoxCenter",value:function(){return ts(this[qo].boundingBox.getCenter(new k.Pa4))}},{key:"connectedCallback",value:function(){(0,m.Z)((0,E.Z)(h.prototype),"connectedCallback",this).call(this),this.showPoster(),this[Wo].addEventListener("progress",this[gc])}},{key:"disconnectedCallback",value:function(){(0,m.Z)((0,E.Z)(h.prototype),"disconnectedCallback",this).call(this),this[Wo].removeEventListener("progress",this[gc])}},{key:"updated",value:(l=(0,R.Z)(S().mark((function e(t){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,m.Z)((0,E.Z)(h.prototype),"updated",this).call(this,t),t.has("poster")&&null!=this.poster&&(this[uc].style.backgroundImage="url(".concat(this.poster,")")),t.has("alt")&&this[uc].setAttribute("aria-label",this[_o]),(t.has("reveal")||t.has("loading"))&&this[Go]();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:u,value:function(){return!!this.src&&(this[lc]||this.loading===oc||this.reveal===ic&&this[To])}},{key:cc,value:function(){this[lc]=!1;var e=this[Ac];if(e.classList.contains("show")){e.classList.remove("show"),this[Ho].classList.add("show");var t=this.modelIsVisible;this[hc]=!0,this[Lo](t);var n=this.getRootNode();n&&n.activeElement===this&&this[Ho].focus();var r=this[uc];r.setAttribute("aria-hidden","true"),r.tabIndex=-1,this.dispatchEvent(new CustomEvent("poster-dismissed"))}}},{key:$o,value:function(){return(0,m.Z)((0,E.Z)(h.prototype),$o,this).call(this)&&this[hc]}}],[{key:"dracoDecoderLocation",get:function(){return Hr.getDRACODecoderLocation()},set:function(e){Hr.setDRACODecoderLocation(e)}},{key:"ktx2TranscoderLocation",get:function(){return Hr.getKTX2TranscoderLocation()},set:function(e){Hr.setKTX2TranscoderLocation(e)}},{key:"meshoptDecoderLocation",get:function(){return Hr.getMeshoptDecoderLocation()},set:function(e){Hr.setMeshoptDecoderLocation(e)}},{key:"mapURLs",value:function(e){Wa.singleton.loader[Gr].manager.setURLModifier(e)}}]),h}(e,(t=hc,n=lc,r=Ac,i=uc,a=sc,o=dc,s=fc,A=gc,es));return tc([b({type:String})],u.prototype,"poster",void 0),tc([b({type:String})],u.prototype,"reveal",void 0),tc([b({type:String})],u.prototype,"loading",void 0),u}(function(e){var t,n=function(e,n){(0,y.Z)(i,e);var r=rs(i);function i(){var e;(0,p.Z)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=r.call(this,a)).autoplay=!1,e.animationName=void 0,e.animationCrossfadeDuration=300,e[t]=!0,e[qo].subscribeMixerEvent("loop",(function(t){var n=t.action._loopCount;e.dispatchEvent(new CustomEvent("loop",{detail:{count:n}}))})),e[qo].subscribeMixerEvent("finished",(function(){e[ss]=!0,e.dispatchEvent(new CustomEvent("finished"))})),e}return(0,v.Z)(i,[{key:"availableAnimations",get:function(){return this.loaded?this[qo].animationNames:[]}},{key:"duration",get:function(){return this[qo].duration}},{key:"paused",get:function(){return this[ss]}},{key:"currentTime",get:function(){return this[qo].animationTime},set:function(e){this[qo].animationTime=e,this[Ko]()}},{key:"timeScale",get:function(){return this[qo].animationTimeScale},set:function(e){this[qo].animationTimeScale=e}},{key:"pause",value:function(){this[ss]||(this[ss]=!0,this.dispatchEvent(new CustomEvent("pause")))}},{key:"play",value:function(e){this.availableAnimations.length>0&&(this[ss]=!1,this[os](e),this.dispatchEvent(new CustomEvent("play")))}},{key:n,value:function(){(0,m.Z)((0,E.Z)(i.prototype),Vo,this).call(this),this[ss]=!0,this.autoplay&&this.play()}},{key:Jo,value:function(e,t){(0,m.Z)((0,E.Z)(i.prototype),Jo,this).call(this,e,t),this[ss]||!this[$o]()&&!this[Yo].isPresenting||(this[qo].updateAnimation(t/as),this[Ko]())}},{key:"updated",value:function(e){(0,m.Z)((0,E.Z)(i.prototype),"updated",this).call(this,e),e.has("autoplay")&&this.autoplay&&this.play(),e.has("animationName")&&this[os]()}},{key:os,value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:As,n=null!==(e=t.repetitions)&&void 0!==e?e:1/0,r=t.pingpong?k.uEv:1===n?k.jAl:k.YKA;this[qo].playAnimation(this.animationName,this.animationCrossfadeDuration/as,r,n),this[ss]&&(this[qo].updateAnimation(0),this[Ko]())}}]),i}(e,(t=ss,Vo));return is([b({type:Boolean})],n.prototype,"autoplay",void 0),is([b({type:String,attribute:"animation-name"})],n.prototype,"animationName",void 0),is([b({type:Number,attribute:"animation-crossfade-duration"})],n.prototype,"animationCrossfadeDuration",void 0),n}(function(e){var t,n=Symbol("endPolyfillCoordination"),r=function(e){(0,y.Z)(i,e);var r=vd(i);function i(){var e;return(0,p.Z)(this,i),(e=r.apply(this,arguments))[t]=null,e}return(0,v.Z)(i,[{key:"connectedCallback",value:function(){(0,m.Z)((0,E.Z)(i.prototype),"connectedCallback",this)&&(0,m.Z)((0,E.Z)(i.prototype),"connectedCallback",this).call(this),null==this[n]&&(this[n]=function(e){if(null==e.shadowRoot||e.hasAttribute("data-js-focus-visible"))return function(){};if(!self.applyFocusVisiblePolyfill){var t=function(){self.applyFocusVisiblePolyfill(e.shadowRoot)};return self.addEventListener("focus-visible-polyfill-ready",t,{once:!0}),function(){self.removeEventListener("focus-visible-polyfill-ready",t)}}return self.applyFocusVisiblePolyfill(e.shadowRoot),function(){}}(this))}},{key:"disconnectedCallback",value:function(){(0,m.Z)((0,E.Z)(i.prototype),"disconnectedCallback",this)&&(0,m.Z)((0,E.Z)(i.prototype),"disconnectedCallback",this).call(this),null!=this[n]&&(this[n](),this[n]=null)}}]),i}(e);return t=n,r}(ns)))))))));customElements.define("model-viewer",md);var yd=function(){return r.createElement(g,null,r.createElement("style",{jsx:!0},"\n      model-viewer {\n        width: 100%;\n        height: 85vh;\n      }\n    "),r.createElement("model-viewer",{"camera-controls":!0,"disable-zoom":!0,alt:"A 3D model Peter Gunarso","environment-image":"neutral",poster:"/poster.png",src:"/tpose.glb"}))},Id=n(1082),Ed=i.default.div.withConfig({displayName:"styles__Background",componentId:"sc-1ebr4rt-0"})(["width:100%;height:",";background-color:",";opacity:95%;display:flex;justify-content:center;align-items:center;z-index:",";position:fixed;top:0;@media(min-width:","){height:",";}"],a.u8.Ku,a.wL.dM,a.KN.z3,a.u3.ai,a.u8.A$),Cd=i.default.header.withConfig({displayName:"styles__Header",componentId:"sc-1ebr4rt-1"})(["display:flex;justify-content:space-between;@media(min-width:","){padding:30px 0;}"],a.u3.ai),wd=i.default.div.withConfig({displayName:"styles__MainNav",componentId:"sc-1ebr4rt-2"})(["display:flex;align-items:center;"]),Bd=(0,i.default)(Id.Link).withConfig({displayName:"styles__Wordmark",componentId:"sc-1ebr4rt-3"})(["display:flex;font-size:24px;font-weight:",";padding:12px;margin-left:-20px;margin-bottom:6px;@media(max-width:","){margin-bottom:8px;}"],a.Dy.vC.bold,a.u3.ai),bd=function(){return r.createElement(Ed,null,r.createElement(Ud,null,r.createElement(Cd,null,r.createElement(wd,null,r.createElement(Bd,{to:"/"},"Peter Gunarso"),r.createElement(Md,null)))))},Qd=i.default.nav.withConfig({displayName:"styles__Nav",componentId:"sc-opcmaz-0"})(["position:relative;display:flex;"]),xd=i.default.div.withConfig({displayName:"styles__NavItem",componentId:"sc-opcmaz-1"})(["display:flex;align-items:center;height:",";position:relative;&:after{content:'';display:block;width:100%;height:2px;position:absolute;bottom:0;left:0;transition:background 300ms ease;}@media(min-width:","){height:",";margin-left:10px;}"],a.u8.Ku,a.u3.ai,a.u8.A$),Sd=(0,i.default)(Id.Link).withConfig({displayName:"styles__NavLink",componentId:"sc-opcmaz-2"})(["padding:10px;color:",";font-size:17px;font-weight:",";text-decoration:none;display:flex;align-items:center;box-sizing:border-box;@media(max-width:","){padding:5px;font-size:14px;margin-left:8px;}"],a.wL.fL,a.Dy.vC.medium,a.u3.ai),kd=i.default.a.withConfig({displayName:"styles__ResumeLink",componentId:"sc-opcmaz-3"})(["href:",";padding:10px;font-size:17px;font-weight:",";text-decoration:none;display:flex;align-items:center;box-sizing:border-box;@media(max-width:","){padding:5px;font-size:14px;margin-left:8px;}"],(function(e){return e.href}),a.Dy.vC.medium,a.u3.ai),Rd={projects:{title:"Projects",url:"/projects"}},Md=function(){return r.createElement(Qd,null,Object.values(Rd).map((function(e){return r.createElement(xd,{key:e.url},r.createElement(Sd,{to:e.url},e.title))})),r.createElement(xd,{key:"Resume"},r.createElement(kd,{href:"Resume/Gunarso_Resume.pdf"},"Resume")))},Dd=i.default.footer.withConfig({displayName:"styles__Footer",componentId:"sc-410g8k-0"})(["width:100%;background-color:",";display:flex;justify-content:center;margin-top:auto;margin-bottom:5px;"],a.wL.Oq),Td=i.default.div.withConfig({displayName:"styles__Credits",componentId:"sc-410g8k-1"})(["p{font-size:16px;color:",";}"],a.wL.fL),Ld=function(e){return r.createElement(Dd,e,r.createElement(Td,null,r.createElement("p",null,"Thanks to ",r.createElement("u",null,r.createElement("a",{el:"a",href:"https://ryan.warner.codes"},"Ryan Warner"))," for making their webiste's source available.")))};var Fd=i.default.div.withConfig({displayName:"styles__Width",componentId:"sc-1t1oqdn-0"})(["width:100%;max-width:",";padding:0 ",";box-sizing:border-box;@media (min-width:","){padding:0 6vw;}"],a.u8.kk,a.u8.LZ,a.u3.ai),_d=["children"],Ud=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_d);return r.createElement(Fd,n,t)},Od=i.default.div.withConfig({displayName:"styles__TextBox",componentId:"sc-17ao0ng-0"})(["display:block;align-items:center;width:85vh;margin-top:10vh;margin-bottom:5vh;"]);function Pd(e){var t=Object.assign({h1:"h1"},(0,c.ah)(),e.components);return r.createElement(t.h1,null,"Under Construction")}var Gd,Nd,Zd,Hd,jd=function(e){void 0===e&&(e={});var t=Object.assign({},(0,c.ah)(),e.components).wrapper;return t?r.createElement(t,e,r.createElement(Pd,e)):Pd(e)},qd=function(){return r.createElement(Od,null,r.createElement(jd,null))},Kd=n(5697),Jd=n.n(Kd),Vd=n(4839),zd=n.n(Vd),Yd=n(2993),Wd=n.n(Yd),Xd=n(6494),$d=n.n(Xd),eg="bodyAttributes",tg="htmlAttributes",ng="titleAttributes",rg={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},ig=(Object.keys(rg).map((function(e){return rg[e]})),"charset"),ag="cssText",og="href",sg="http-equiv",Ag="innerHTML",ug="itemprop",lg="name",cg="property",hg="rel",fg="src",dg="target",gg={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},pg="defaultTitle",vg="defer",mg="encodeSpecialCharacters",yg="onChangeClientState",Ig="titleTemplate",Eg=Object.keys(gg).reduce((function(e,t){return e[gg[t]]=t,e}),{}),Cg=[rg.NOSCRIPT,rg.SCRIPT,rg.STYLE],wg="data-react-helmet",Bg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Qg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sg=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},kg=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Rg=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Mg=function(e){var t=_g(e,rg.TITLE),n=_g(e,Ig);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=_g(e,pg);return t||r||void 0},Dg=function(e){return _g(e,yg)||function(){}},Tg=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return xg({},e,t)}),{})},Lg=function(e,t){return t.filter((function(e){return void 0!==e[rg.BASE]})).map((function(e){return e[rg.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=r[i].toLowerCase();if(-1!==e.indexOf(a)&&n[a])return t.concat(n)}return t}),[])},Fg=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&Ng("Helmet: "+e+' should be of type "Array". Instead found type "'+Bg(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,a=Object.keys(e),o=0;o<a.length;o++){var s=a[o],A=s.toLowerCase();-1===t.indexOf(A)||n===hg&&"canonical"===e[n].toLowerCase()||A===hg&&"stylesheet"===e[A].toLowerCase()||(n=A),-1===t.indexOf(s)||s!==Ag&&s!==ag&&s!==ug||(n=s)}if(!n||!e[n])return!1;var u=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][u]&&(i[n][u]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],A=$d()({},r[s],i[s]);r[s]=A}return e}),[]).reverse()},_g=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},Ug=(Gd=Date.now(),function(e){var t=Date.now();t-Gd>16?(Gd=t,e(t)):setTimeout((function(){Ug(e)}),0)}),Og=function(e){return clearTimeout(e)},Pg="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Ug:n.g.requestAnimationFrame||Ug,Gg="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Og:n.g.cancelAnimationFrame||Og,Ng=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},Zg=null,Hg=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,s=e.noscriptTags,A=e.onChangeClientState,u=e.scriptTags,l=e.styleTags,c=e.title,h=e.titleAttributes;Kg(rg.BODY,r),Kg(rg.HTML,i),qg(c,h);var f={baseTag:Jg(rg.BASE,n),linkTags:Jg(rg.LINK,a),metaTags:Jg(rg.META,o),noscriptTags:Jg(rg.NOSCRIPT,s),scriptTags:Jg(rg.SCRIPT,u),styleTags:Jg(rg.STYLE,l)},d={},g={};Object.keys(f).forEach((function(e){var t=f[e],n=t.newTags,r=t.oldTags;n.length&&(d[e]=n),r.length&&(g[e]=f[e].oldTags)})),t&&t(),A(e,d,g)},jg=function(e){return Array.isArray(e)?e.join(""):e},qg=function(e,t){void 0!==e&&document.title!==e&&(document.title=jg(e)),Kg(rg.TITLE,t)},Kg=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(wg),i=r?r.split(","):[],a=[].concat(i),o=Object.keys(t),s=0;s<o.length;s++){var A=o[s],u=t[A]||"";n.getAttribute(A)!==u&&n.setAttribute(A,u),-1===i.indexOf(A)&&i.push(A);var l=a.indexOf(A);-1!==l&&a.splice(l,1)}for(var c=a.length-1;c>=0;c--)n.removeAttribute(a[c]);i.length===a.length?n.removeAttribute(wg):n.getAttribute(wg)!==o.join(",")&&n.setAttribute(wg,o.join(","))}},Jg=function(e,t){var n=document.head||document.querySelector(rg.HEAD),r=n.querySelectorAll(e+"["+"data-react-helmet]"),i=Array.prototype.slice.call(r),a=[],o=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===Ag)n.innerHTML=t.innerHTML;else if(r===ag)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var s=void 0===t[r]?"":t[r];n.setAttribute(r,s)}n.setAttribute(wg,"true"),i.some((function(e,t){return o=t,n.isEqualNode(e)}))?i.splice(o,1):a.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),a.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:a}},Vg=function(e){return Object.keys(e).reduce((function(t,n){var r=void 0!==e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},zg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[gg[n]||n]=e[n],t}),t)},Yg=function(e,t,n){switch(e){case rg.TITLE:return{toComponent:function(){return e=t.title,n=t.titleAttributes,(i={key:e})[wg]=!0,a=zg(n,i),[r.createElement(rg.TITLE,a,e)];var e,n,i,a},toString:function(){return function(e,t,n,r){var i=Vg(n),a=jg(t);return i?"<"+e+' data-react-helmet="true" '+i+">"+Rg(a,r)+"</"+e+">":"<"+e+' data-react-helmet="true">'+Rg(a,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case eg:case tg:return{toComponent:function(){return zg(t)},toString:function(){return Vg(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,n){var i,a=((i={key:n})[wg]=!0,i);return Object.keys(t).forEach((function(e){var n=gg[e]||e;if(n===Ag||n===ag){var r=t.innerHTML||t.cssText;a.dangerouslySetInnerHTML={__html:r}}else a[n]=t[e]})),r.createElement(e,a)}))}(e,t)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===Ag||e===ag)})).reduce((function(e,t){var i=void 0===r[t]?t:t+'="'+Rg(r[t],n)+'"';return e?e+" "+i:i}),""),a=r.innerHTML||r.cssText||"",o=-1===Cg.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+i+(o?"/>":">"+a+"</"+e+">")}),"")}(e,t,n)}}}},Wg=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,s=e.noscriptTags,A=e.scriptTags,u=e.styleTags,l=e.title,c=void 0===l?"":l,h=e.titleAttributes;return{base:Yg(rg.BASE,t,r),bodyAttributes:Yg(eg,n,r),htmlAttributes:Yg(tg,i,r),link:Yg(rg.LINK,a,r),meta:Yg(rg.META,o,r),noscript:Yg(rg.NOSCRIPT,s,r),script:Yg(rg.SCRIPT,A,r),style:Yg(rg.STYLE,u,r),title:Yg(rg.TITLE,{title:c,titleAttributes:h},r)}},Xg=zd()((function(e){return{baseTag:Lg([og,dg],e),bodyAttributes:Tg(eg,e),defer:_g(e,vg),encode:_g(e,mg),htmlAttributes:Tg(tg,e),linkTags:Fg(rg.LINK,[hg,og],e),metaTags:Fg(rg.META,[lg,ig,sg,cg,ug],e),noscriptTags:Fg(rg.NOSCRIPT,[Ag],e),onChangeClientState:Dg(e),scriptTags:Fg(rg.SCRIPT,[fg,Ag],e),styleTags:Fg(rg.STYLE,[ag],e),title:Mg(e),titleAttributes:Tg(ng,e)}}),(function(e){Zg&&Gg(Zg),e.defer?Zg=Pg((function(){Hg(e,(function(){Zg=null}))})):(Hg(e),Zg=null)}),Wg)((function(){return null})),$g=(Nd=Xg,Hd=Zd=function(e){function t(){return bg(this,t),kg(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!Wd()(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case rg.SCRIPT:case rg.NOSCRIPT:return{innerHTML:t};case rg.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,a=e.nestedChildren;return xg({},r,((t={})[n.type]=[].concat(r[n.type]||[],[xg({},i,this.mapNestedChildrenToProps(n,a))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,a=e.newChildProps,o=e.nestedChildren;switch(r.type){case rg.TITLE:return xg({},i,((t={})[r.type]=o,t.titleAttributes=xg({},a),t));case rg.BODY:return xg({},i,{bodyAttributes:xg({},a)});case rg.HTML:return xg({},i,{htmlAttributes:xg({},a)})}return xg({},i,((n={})[r.type]=xg({},a),n))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=xg({},t);return Object.keys(e).forEach((function(t){var r;n=xg({},n,((r={})[t]=e[t],r))})),n},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var n=this,i={};return r.Children.forEach(e,(function(e){if(e&&e.props){var r=e.props,a=r.children,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[Eg[n]||n]=e[n],t}),t)}(Sg(r,["children"]));switch(n.warnOnInvalidChildren(e,a),e.type){case rg.LINK:case rg.META:case rg.NOSCRIPT:case rg.SCRIPT:case rg.STYLE:i=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:o,nestedChildren:a});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:o,nestedChildren:a})}}})),t=this.mapArrayTypeChildrenToProps(i,t)},t.prototype.render=function(){var e=this.props,t=e.children,n=Sg(e,["children"]),i=xg({},n);return t&&(i=this.mapChildrenToProps(t,i)),r.createElement(Nd,i)},Qg(t,null,[{key:"canUseDOM",set:function(e){Nd.canUseDOM=e}}]),t}(r.Component),Zd.propTypes={base:Jd().object,bodyAttributes:Jd().object,children:Jd().oneOfType([Jd().arrayOf(Jd().node),Jd().node]),defaultTitle:Jd().string,defer:Jd().bool,encodeSpecialCharacters:Jd().bool,htmlAttributes:Jd().object,link:Jd().arrayOf(Jd().object),meta:Jd().arrayOf(Jd().object),noscript:Jd().arrayOf(Jd().object),onChangeClientState:Jd().func,script:Jd().arrayOf(Jd().object),style:Jd().arrayOf(Jd().object),title:Jd().string,titleAttributes:Jd().object,titleTemplate:Jd().string},Zd.defaultProps={defer:!0,encodeSpecialCharacters:!0},Zd.peek=Nd.peek,Zd.rewind=function(){var e=Nd.rewind();return e||(e=Wg({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},Hd);$g.renderStatic=$g.rewind;var ep=function(e){var t=e.description,n=e.lang,i=e.meta,a=e.keywords,o=e.title;return r.createElement(Id.StaticQuery,{query:np,render:function(e){var s=t||e.site.siteMetadata.description,A=o||e.site.siteMetadata.title;return r.createElement($g,{htmlAttributes:{lang:n},title:A,titleTemplate:""+e.site.siteMetadata.title,meta:[{name:"description",content:s},{property:"og:title",content:A},{property:"og:description",content:s},{property:"og:type",content:"website"}].concat(a.length>0?{name:"keywords",content:a.join(", ")}:[]).concat(i)})}})};ep.defaultProps={lang:"en",meta:[],keywords:[]};var tp=ep,np="3638184005"},8259:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r={};n.r(r),n.d(r,{A:function(){return g},H1:function(){return w},H2:function(){return B},H3:function(){return b},Hr:function(){return Q},Img:function(){return I},Li:function(){return C},Ol:function(){return m},P:function(){return y},Pre:function(){return E},StyledLink:function(){return p},Summary:function(){return x},Ul:function(){return v}});var i=n(7294),a=n(2775),o=n(3494),s=n(6350),A=(0,o.createGlobalStyle)(["html{margin:0;padding:0;background-color:",";max-width:100vw;}body{min-height:100vh;margin:0;padding:0;max-width:100vw;background-color:",";color:",";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}div{-webkit-tap-highlight-color:rgba(255,255,255,0);}::selection{background:",";color:",";}"],s.wL.Oq,s.wL.Oq,s.wL.fL,s.wL.$Z,s.wL.fL),u=n(2401),l=n(9626),c=n(8650),h=n.n(c),f=n(9499),d=n(1082),g=o.default.a.withConfig({displayName:"styles__A",componentId:"sc-lopyti-0"})(["text-decoration:underline;color:",";"],s.wL.fL),p=(0,o.default)(d.Link).withConfig({displayName:"styles__StyledLink",componentId:"sc-lopyti-1"})(["color:",";"],s.wL.fL),v=o.default.ul.withConfig({displayName:"styles__Ul",componentId:"sc-lopyti-2"})(["",";margin-top:0;padding-left:130px;@media (max-width:","){padding:0 6vw 0 17vw;}"],s.Wr.W,s.u3.ai),m=o.default.ol.withConfig({displayName:"styles__Ol",componentId:"sc-lopyti-3"})(["",";margin-top:0;padding-left:130px;@media (max-width:","){padding:0 6vw 0 17vw;}"],s.Wr.W,s.u3.ai),y=o.default.p.withConfig({displayName:"styles__P",componentId:"sc-lopyti-4"})(["",";font-size:16px;margin-bottom:.5rem;color:",";@media (min-width:","){font-size:18px;line-height:28px;}code{font-size:15px;background-color:",";padding:3px 6px;border-radius:2px;}"],s.Wr.W,s.wL.fL,s.u3.ai,s.wL.Oq),I=o.default.img.withConfig({displayName:"styles__Img",componentId:"sc-lopyti-5"})(["max-width:100%;display:block;box-shadow:none !important;"]),E=o.default.pre.withConfig({displayName:"styles__Pre",componentId:"sc-lopyti-6"})(["margin-top:0;"]),C=o.default.li.withConfig({displayName:"styles__Li",componentId:"sc-lopyti-7"})(["font-size:16px;margin-bottom:1rem;color:",";@media (min-width:","){font-size:18px;}p,","{padding:0;}"],s.wL.fL,s.u3.ai,E),w=o.default.h1.withConfig({displayName:"styles__H1",componentId:"sc-lopyti-8"})(["",";color:",";"],s.Wr.W,s.wL.fL),B=o.default.h2.withConfig({displayName:"styles__H2",componentId:"sc-lopyti-9"})(["",";margin:3rem 0 1rem 0;@media (min-width:","){margin:4rem 0 2rem 0;}"],s.Wr.W,s.u3.ai),b=o.default.h3.withConfig({displayName:"styles__H3",componentId:"sc-lopyti-10"})(["",";margin:2rem 0 0.5rem 0;@media (min-width:","){margin:2rem 0 1rem 0;}"],s.Wr.W,s.u3.ai),Q=o.default.hr.withConfig({displayName:"styles__Hr",componentId:"sc-lopyti-11"})(["background-color:",";border:0;height:1px;margin:60px 0;"],s.wL.Oq),x=o.default.summary.withConfig({displayName:"styles__Summary",componentId:"sc-lopyti-12"})(["",";margin-bottom:20px;padding-top:6px;padding-bottom:6px;cursor:pointer;transition:all 200ms ease;font-weight:",";&:focus:not(.focus-visible){outline:none;box-shadow:none;}"],s.Wr.W,s.Dy.vC.medium),S=function(e){return function(t){var n=r[e],a=h()(t.children.toString()).toLowerCase(),o=(0,f.useLocation)();return i.createElement(n,Object.assign({},t,{id:a}),i.createElement(p,{to:o.pathname+"#"+a},t.children))}},k={p:y,img:I,h1:w,h2:S("H2"),h3:S("H3"),a:function(e){return i.createElement(g,e)},li:function(e){return i.createElement(C,e)},ul:function(e){return i.createElement(v,e)},ol:function(e){return i.createElement(m,e)},hr:Q,pre:E,summary:x},R=o.default.div.withConfig({displayName:"style__Wrap",componentId:"sc-15v6f8q-0"})(["display:flex;flex-direction:column;align-items:center;min-height:100vh;z-index:2;position:relative;"]),M=function(e){return i.createElement(i.Fragment,null,i.createElement("title",null,e.pageTitle),i.createElement(a.pQ,null),i.createElement(A,null),i.createElement(u.Ce,null),i.createElement(R,null,i.createElement(l.Zo,{components:k},i.createElement(a.h4,null),e.children,i.createElement(a.$_,null))))},D=function(e){var t=M;return i.createElement(t,e)}},8892:function(e,t,n){"use strict";n.d(t,{ai:function(){return r},dW:function(){return i}});var r="767px",i="980px"},4517:function(e,t,n){"use strict";n.d(t,{$Z:function(){return a},Oq:function(){return r},dM:function(){return o},fL:function(){return i}});var r="#1B282A",i="#E2E3E4",a="#416883",o="#111b1c"},2401:function(e,t,n){"use strict";n.d(t,{Ce:function(){return f},vC:function(){return s}});var r=n(3494),i=n(8892),a=n(4517),o="'jost', '-apple-system', 'Roboto'",s={regular:400,bold:600},A=(0,r.css)(["font-size:14px;@media(min-width:","){font-size:16px;}"],i.ai),u=((0,r.css)(["font-size:16px;line-height:30px;font-weight:",";@media(min-width:","){font-size:18px;line-height:34px;}"],s.medium,i.ai),(0,r.css)(["font-size:50px;line-height:152%;font-weight:",";@media(max-width:","){font-size:28px;line-height:122%;}"],s.bold,i.ai)),l=(0,r.css)(["font-size:1.6em;font-weight:",";margin:0;"],s.bold),c=(0,r.css)(["font-size:24px;line-height:152%;font-weight:",";margin:0;@media(max-width:","){font-size:20px;line-height:138%;}"],s.bold,i.ai),h=(0,r.css)(["font-size:24px;line-height:152%;font-weight:",";margin:0;@media(max-width:","){font-size:20px;line-height:138%;}"],s.medium,i.ai),f=((0,r.css)(["font-weight:",";font-size:14px;letter-spacing:0.14rem;text-transform:uppercase;@media(min-width:","){font-size:17px;letter-spacing:0.18rem;}"],s.medium,i.ai),(0,r.createGlobalStyle)(["body{",";font-family:",";}h1{",";font-family:",";}h2{",";}h3{",";}h4{",";}p{margin:0;font-family:",";}a{transition:all 300ms ease;color:",";cursor:pointer;text-decoration:none;}"],A,o,u,o,l,c,h,o,a.fL))},6350:function(e,t,n){"use strict";n.d(t,{u3:function(){return o},wL:function(){return s},Wr:function(){return a},u8:function(){return i},Dy:function(){return A},KN:function(){return r}});var r={};n.r(r),n.d(r,{z3:function(){return u}});var i={};n.r(i),n.d(i,{pf:function(){return f},kk:function(){return l},A$:function(){return c},Ku:function(){return h},LZ:function(){return d}});var a={};n.r(a),n.d(a,{W:function(){return p}});var o=n(8892),s=n(4517),A=n(2401),u=3,l="1280px",c="80px",h="60px",f="810px",d="80px",g=n(3494),p=((0,g.css)(["border-radius:6px;"]),(0,g.css)(["max-width:",";padding-left:80px;padding-right:80px;box-sizing:border-box;@media(max-width:","){max-width:100vw;}@media(max-width:","){padding:0 6vw;}"],f,f,o.ai))},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",A=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new Q(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var A=h(e,t,n);if("normal"===A.type){if(r=n.done?"completed":"suspendedYield",A.arg===f)continue;return{value:A.arg,done:n.done}}"throw"===A.type&&(r="completed",n.method="throw",n.arg=A.arg)}}}(e,n,o),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=c;var f={};function d(){}function g(){}function p(){}var v={};l(v,s,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(x([])));y&&y!==n&&a.call(y,s)&&(v=y);var I=p.prototype=d.prototype=Object.create(v);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,s,A){var u=h(e[i],e,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==r(c)&&a.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,s,A)}),(function(e){n("throw",e,s,A)})):t.resolve(c).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,A)}))}A(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=h(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Q(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function x(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return g.prototype=p,l(I,"constructor",p),l(p,"constructor",g),g.displayName=l(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,u,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},E(C.prototype),l(C.prototype,A,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new C(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(I),l(I,u,"Generator"),l(I,s,(function(){return this})),l(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,Q.prototype={constructor:Q,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),A=a.call(i,"finallyLoc");if(s&&A){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!A)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;b(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4687:function(e,t,n){var r=n(7061)();e.exports=r;try{regeneratorRuntime=r}catch(i){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),A=s.value}catch(u){return void n(u)}s.done?t(A):Promise.resolve(A).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,A,"next",e)}function A(e){r(o,i,a,s,A,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},a.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},6215:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return a}});var i=n(7326);function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(A){s=!0,i=A}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},2407:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1120),i=n(9611);function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,n){return o=a()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,i.Z)(a,n.prototype),a},o.apply(null,arguments)}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,(0,r.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(a,e)},s(e)}},904:function(e){"use strict";e.exports=JSON.parse('{"layout":"constrained","placeholder":{"fallback":"data:image/webp;base64,UklGRswAAABXRUJQVlA4IMAAAADwBACdASoUABQAPtFgqU+oJSOiKAgBABoJZQC/OBCsp/Ts49BY+GEG+FUo75L9RgAA/rX/AjpFAxSt04o3tBRmP+uitY2Lssb1D+JeCHuTSyitDTwQkpysJi7p9zoUKFTBoZIZCNRCLYbKODLaeCm0bDB27QGEHa/3RWtuJqKYovbWSWDX+/1Cuu4nLN/B+IvBvil0Fls//8feMBeQ+7HxCUoXmmWs/63JwQIN+hbfJcwVnN4EM8Pb6pxtzyAAAAA="},"images":{"fallback":{"src":"/static/3e252a7a03b986b4efcd4eafb051a60a/56fa3/headshot.webp","srcSet":"/static/3e252a7a03b986b4efcd4eafb051a60a/84992/headshot.webp 230w,\\n/static/3e252a7a03b986b4efcd4eafb051a60a/e063a/headshot.webp 460w,\\n/static/3e252a7a03b986b4efcd4eafb051a60a/56fa3/headshot.webp 920w","sizes":"(min-width: 920px) 920px, 100vw"},"sources":[]},"width":920,"height":921}')}}]);
//# sourceMappingURL=c169b6902947a77fec05096cb4da441bfcc3d6f1-af3c19fbda45a8bd9495.js.map